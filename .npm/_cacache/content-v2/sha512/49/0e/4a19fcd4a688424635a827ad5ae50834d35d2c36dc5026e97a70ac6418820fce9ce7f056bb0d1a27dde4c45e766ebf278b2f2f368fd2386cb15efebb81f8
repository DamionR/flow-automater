{"_id":"@shopify/oxygen-cli","_rev":"323-640f3433104e2eac58f0a600277521eb","name":"@shopify/oxygen-cli","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","dist-tags":{"test":"4.4.2-test.202404112146.0","latest":"4.4.12","unstable":"4.4.14-unstable.202406211438.0"},"versions":{"1.0.2":{"name":"@shopify/oxygen-cli","version":"1.0.2","license":"MIT","_id":"@shopify/oxygen-cli@1.0.2","maintainers":[{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"9eb0338d6d64ccdcec7f14b133da51bf25541729","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-1.0.2.tgz","fileCount":65,"integrity":"sha512-9vbZyBMy4DT1cx9oVCgc+WNrt7W5TzNnoxZmGGTbJ3JLiQjVnuu+BcIHDba8qk/S98xJMZ2PtaY1Y3r9zeZ68w==","signatures":[{"sig":"MEUCIQCr0F41PBzT7rc1yJ+scIFx8e1WEpthghlBq9v5J76WWAIgbrc7Ge+LOv4lLfQrBbfUVweTVYrYKK/vpJiqhbfFigo=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":84267},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"engines":{"node":">=14.17.0"},"gitHead":"224799d984f0bcf439bd2e7d0b7cf2b0f9a9c1de","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --clean --config ./tsup.config.ts && oclif manifest","prepack":"npm install && npm run build","release":"npm run build && npx changeset publish","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"npm run lint --fix","generate:manifest":"oclif manifest"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.0","dependencies":{"async":"^3.2.4","@oclif/core":"2.1.4","@shopify/cli-kit":"^3.46.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"devDependencies":{"tsup":"^6.7.0","vite":"^4.2.1","oclif":"^3","eslint":"^8.37.0","vitest":"^0.29.8","node-fetch":"^3.3.1","typescript":"^5.0.3","@types/node":"^18.15.11","@types/async":"^3.2.18","@changesets/cli":"^2.26.1","@types/prettier":"^2.7.2","@shopify/eslint-plugin":"^42.1.0","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_1.0.2_1685033356828_0.20917671193356435","host":"s3://npm-registry-packages"}},"1.1.0":{"name":"@shopify/oxygen-cli","version":"1.1.0","license":"MIT","_id":"@shopify/oxygen-cli@1.1.0","maintainers":[{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"5ea536f9ea428cae1f7173f837061d22fea1fb12","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-1.1.0.tgz","fileCount":65,"integrity":"sha512-envZ7aaqIjzadI7jQEYfUv24f1saRbweXo5OJyi7UZUy0Y/teeYEqhaiQAvrmoSt0S9vibmHa8HM/jvtAYGq0Q==","signatures":[{"sig":"MEYCIQCtSqUCKE+9ob0KOzXufi9gKFxl8ReWTnNRExLu4/gm2QIhALUmHXi81hSYLO4rmvbe5Tc0TDcLere4GT/p+X6zB/yW","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":84267},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"engines":{"node":">=14.17.0"},"gitHead":"fe127370ce3d4516ddf3c472d65799fc8d7e85ac","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --clean --config ./tsup.config.ts && oclif manifest","prepack":"npm install && npm run build","release":"npm run build && npx changeset publish","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"npm run lint --fix","generate:manifest":"oclif manifest"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.0","dependencies":{"async":"^3.2.4","@oclif/core":"2.1.4","@shopify/cli-kit":"^3.46.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"devDependencies":{"tsup":"^6.7.0","vite":"^4.2.1","oclif":"^3","eslint":"^8.37.0","vitest":"^0.29.8","node-fetch":"^3.3.1","typescript":"^5.0.3","@types/node":"^18.15.11","@types/async":"^3.2.18","@changesets/cli":"^2.26.1","@types/prettier":"^2.7.2","@shopify/eslint-plugin":"^42.1.0","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_1.1.0_1685109838973_0.5750833809495584","host":"s3://npm-registry-packages"}},"1.2.0":{"name":"@shopify/oxygen-cli","version":"1.2.0","license":"MIT","_id":"@shopify/oxygen-cli@1.2.0","maintainers":[{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"3dc01913d190a630707259102ed346a54657aac8","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-1.2.0.tgz","fileCount":65,"integrity":"sha512-SexCBTe1zNlmf5CrluPgKahpiJ9EabtoVXwlUHz0/wYolUTOg9NP6aRtbDIFV7E0vR+nBvOFE9ESGHE64HIhkA==","signatures":[{"sig":"MEQCIBg7AzgcpXjGvBV1EKDjrUSxuNkNLtFpehD/MGjBEasnAiAgoxqaNPS3DwdeV0mdJikXH3ynZijdY8X1G1JGRcyYxA==","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":85290},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"engines":{"node":">=14.17.0"},"gitHead":"3cc806da35199b9e4fb0cc185496569c4437407c","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --clean --config ./tsup.config.ts && oclif manifest","prepack":"npm install && npm run build","release":"npm run build && npx changeset publish","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"npm run lint --fix","changesets:check":"changeset status","generate:manifest":"oclif manifest"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.0","dependencies":{"async":"^3.2.4","@oclif/core":"2.1.4","@shopify/cli-kit":"^3.46.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"devDependencies":{"tsup":"^6.7.0","vite":"^4.2.1","oclif":"^3","eslint":"^8.37.0","vitest":"^0.29.8","node-fetch":"^3.3.1","typescript":"^5.0.3","@types/node":"^18.15.11","@types/async":"^3.2.18","@changesets/cli":"^2.26.1","@types/prettier":"^2.7.2","@shopify/eslint-plugin":"^42.1.0","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_1.2.0_1685444839836_0.6753895007453941","host":"s3://npm-registry-packages"}},"1.3.0":{"name":"@shopify/oxygen-cli","version":"1.3.0","license":"MIT","_id":"@shopify/oxygen-cli@1.3.0","maintainers":[{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"58fc281c495315b2b567feff410b238d0adc4915","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-1.3.0.tgz","fileCount":65,"integrity":"sha512-WupZ5NystGP5aL7k3kG91k/mSCqhqcWB+N6pcb9qZ8P3wVLsrzHWuOBnHQw3jiOFt76mcF2a71vFWMQwMdOYmA==","signatures":[{"sig":"MEQCIGNp7khDggOkjW1a+ghy+nj87bWeCsoo3KC2owRddr7bAiBzeMJARds5FM10yY5MmMUTReZuPXVg4GWjBIkBAGGmzQ==","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":86196},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"engines":{"node":">=14.17.0"},"gitHead":"ca89c15c40185e7b8a9553dd79a7898c49cae7ea","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --clean --config ./tsup.config.ts && oclif manifest","prepack":"npm install && npm run build","release":"npm run build && npx changeset publish","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"npm run lint --fix","changesets:check":"changeset status","generate:manifest":"oclif manifest"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.0","dependencies":{"async":"^3.2.4","@oclif/core":"2.1.4","@shopify/cli-kit":"^3.46.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"devDependencies":{"tsup":"^6.7.0","vite":"^4.2.1","oclif":"^3","eslint":"^8.37.0","vitest":"^0.29.8","node-fetch":"^3.3.1","typescript":"^5.0.3","@types/node":"^18.15.11","@types/async":"^3.2.18","@changesets/cli":"^2.26.1","@types/prettier":"^2.7.2","@shopify/eslint-plugin":"^42.1.0","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_1.3.0_1685610529665_0.6684555128796126","host":"s3://npm-registry-packages"}},"1.3.1":{"name":"@shopify/oxygen-cli","version":"1.3.1","license":"MIT","_id":"@shopify/oxygen-cli@1.3.1","maintainers":[{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"a7b1cbfc64e5f5cef1f36afe402e2615572e3a38","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-1.3.1.tgz","fileCount":65,"integrity":"sha512-drGK5vloMbJdTU9am3lTbMD7Lxg615HxwV3hurgoYUiCd9B1Kwa8qRAYJwLsEkbu6oBPUOb2j/sKRJU2+eSYbA==","signatures":[{"sig":"MEUCIQDMkeOugw039vY/QTbgD7M15wRFIA1PLtprWJfjb5xelwIgaR6vJM7HSgiK0LumPe6+yMB7kh8piWTL/vqGa6oAQfs=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":87221},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"engines":{"node":">=14.17.0"},"gitHead":"b6cd4c51b08285eda5c78e5130661e017a39646d","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --clean --config ./tsup.config.ts && oclif manifest","prepack":"npm install && npm run build","release":"npm run build && npx changeset publish","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","changesets:check":"changeset status","generate:manifest":"oclif manifest"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.0","dependencies":{"async":"^3.2.4","@oclif/core":"2.8.6","@shopify/cli-kit":"^3.46.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"devDependencies":{"tsup":"^6.7.0","vite":"^4.3.9","oclif":"^3","eslint":"^8.42.0","vitest":"^0.32.0","node-fetch":"^3.3.1","typescript":"^5.1.3","@types/node":"^18.15.11","@types/async":"^3.2.18","@changesets/cli":"^2.26.1","@types/prettier":"^2.7.3","@shopify/eslint-plugin":"^42.1.0","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_1.3.1_1686773618530_0.22025472141881575","host":"s3://npm-registry-packages"}},"1.4.0":{"name":"@shopify/oxygen-cli","version":"1.4.0","license":"MIT","_id":"@shopify/oxygen-cli@1.4.0","maintainers":[{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"5a136544a38b2766d111598640374f41d6d221f1","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-1.4.0.tgz","fileCount":65,"integrity":"sha512-O1fFrkP5Ynr9CxO+Yvbcly3CSQGbMaW5qpjE+ssjG83cyMZmj+t1mwBvzNAukb34pR1u4MSzBO+9bmwhZPmZuQ==","signatures":[{"sig":"MEYCIQCjSclUjc1zJXYUYoyxCwobn1XUFUIQRzzJ1TkOzwl+jgIhAKOciC5vWzytwiFAy+jY1L5N07twYOZuow1vCwJaim97","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":87300},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"engines":{"node":">=14.17.0"},"gitHead":"0f1d4de1dcfffa79492d63c0174da77a2cc3aeb7","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --clean --config ./tsup.config.ts && oclif manifest","prepack":"npm install && npm run build","release":"npm run build && npx changeset publish","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","changesets:check":"changeset status","generate:manifest":"oclif manifest"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.0","dependencies":{"async":"^3.2.4","@oclif/core":"2.8.7","@shopify/cli-kit":"^3.46.5"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"devDependencies":{"tsup":"^6.7.0","vite":"^4.3.9","oclif":"^3","eslint":"^8.43.0","vitest":"^0.32.2","node-fetch":"^3.3.1","typescript":"^5.1.3","@types/node":"^20.3.1","@types/async":"^3.2.18","@changesets/cli":"^2.26.1","@types/prettier":"^2.7.3","@shopify/eslint-plugin":"^42.1.0","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_1.4.0_1687278725977_0.3100530105764443","host":"s3://npm-registry-packages"}},"1.5.0":{"name":"@shopify/oxygen-cli","version":"1.5.0","license":"MIT","_id":"@shopify/oxygen-cli@1.5.0","maintainers":[{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"46be0d1a9d05edd4ccdc946e7ba08dc9482322b1","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-1.5.0.tgz","fileCount":65,"integrity":"sha512-HQfBNjIrJ/pu/gy4xfZSIaxuRo7G1FMQHEHREn8LOp6jZiPNlMIVIgprxFhxtJLo1hpfFsBoZbEKTKzJf3ZTcg==","signatures":[{"sig":"MEYCIQD4aAtF+xSmwLCSLYvPtfnbYiWjf5bqZKA9u5t+4c4dagIhALlAWurTjSPtyMZxIQXDA5oBc6fWHR3YMgJphQNvVu2m","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":91662},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"engines":{"node":">=14.17.0"},"gitHead":"b2af0bea8cd68409128dc803eed70654e669bd67","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --clean --config ./tsup.config.ts && oclif manifest","prepack":"npm install && npm run build","release":"npm run build && npx changeset publish","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","changesets:check":"changeset status","generate:manifest":"oclif manifest"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.1","dependencies":{"async":"^3.2.4","@oclif/core":"2.8.11","@shopify/cli-kit":"^3.46.5"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"devDependencies":{"tsup":"^7.1.0","vite":"^4.3.9","oclif":"^3","eslint":"^8.43.0","vitest":"^0.32.2","node-fetch":"^3.3.1","typescript":"^5.1.3","@types/node":"^20.3.1","@types/async":"^3.2.18","@changesets/cli":"^2.26.1","@types/prettier":"^2.7.3","@shopify/eslint-plugin":"^42.1.0","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_1.5.0_1688636446043_0.11432779400333914","host":"s3://npm-registry-packages"}},"1.6.0":{"name":"@shopify/oxygen-cli","version":"1.6.0","license":"MIT","_id":"@shopify/oxygen-cli@1.6.0","maintainers":[{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"dba392a512f5321bdfea999de9be688599684bac","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-1.6.0.tgz","fileCount":69,"integrity":"sha512-tDMboRngDlDK0cpU0EiQ3Dg7KLJ7xWlWXsBqxWsjGleu+rimCYrPRghAt/9aJbs1vssALy4d9g/SVbNU8IKQoA==","signatures":[{"sig":"MEYCIQDiHCVFcMYO1pftr4B/YXmcqxrcNJc86kVTU8bvX6VZDQIhAIBxPqVO7jvSSCdZWFb5r11sCzaT8/sBn+fqR62EPqQr","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":99096},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"engines":{"node":">=14.17.0"},"gitHead":"9a48a3a779772a9e8984da4a4db454c45ce5b298","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --clean --config ./tsup.config.ts && oclif manifest","prepack":"npm install && npm run build","release":"npm run build && npx changeset publish","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","changesets:check":"changeset status","generate:manifest":"oclif manifest"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.1","dependencies":{"async":"^3.2.4","@oclif/core":"2.9.4","@shopify/cli-kit":"^3.47.5"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"devDependencies":{"tsup":"^7.1.0","vite":"^4.4.4","oclif":"^3","eslint":"^8.45.0","vitest":"^0.33.0","node-fetch":"^3.3.1","typescript":"^5.1.3","@types/node":"^20.4.2","@types/async":"^3.2.18","@changesets/cli":"^2.26.1","@types/prettier":"^2.7.3","@shopify/eslint-plugin":"^42.1.0","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_1.6.0_1689845076553_0.8695860135518914","host":"s3://npm-registry-packages"}},"1.7.0":{"name":"@shopify/oxygen-cli","version":"1.7.0","license":"MIT","_id":"@shopify/oxygen-cli@1.7.0","maintainers":[{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"b48dd33fbb4e6ae679d1cd247f928b49184d5d1e","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-1.7.0.tgz","fileCount":69,"integrity":"sha512-mWL5y+DzEeHlNfJSK4Vm/GUmlO5wKCc2yn/bL0D8wXxHpe/3Z1+mgJxkXo++6tpJSLe88CxixbFfv8Y5tZkkHA==","signatures":[{"sig":"MEUCIGXwiCWAXqYI8qEM7CqJtLfXYPiwhKVemfIEIMCWY+uHAiEAq4IPbCz0+XS7LtM34jjcpRLvhxxawg0LmEVfJ6hYsGc=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":99258},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"engines":{"node":">=14.17.0"},"gitHead":"9a3ad0416931ef32fbdfdff662ad7747dc34262c","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --clean --config ./tsup.config.ts && oclif manifest","prepack":"npm install && npm run build","release":"npm run build && npx changeset publish","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","changesets:check":"changeset status","generate:manifest":"oclif manifest"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.1","dependencies":{"async":"^3.2.4","@oclif/core":"2.9.4","@shopify/cli-kit":"^3.47.5"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"devDependencies":{"tsup":"^7.1.0","vite":"^4.4.6","oclif":"^3","eslint":"^8.45.0","vitest":"^0.33.0","node-fetch":"^3.3.1","typescript":"^5.1.3","@types/node":"^20.4.4","@types/async":"^3.2.18","@changesets/cli":"^2.26.1","@types/prettier":"^2.7.3","@shopify/eslint-plugin":"^42.1.0","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_1.7.0_1690272957624_0.25679714887195737","host":"s3://npm-registry-packages"}},"1.8.0":{"name":"@shopify/oxygen-cli","version":"1.8.0","license":"MIT","_id":"@shopify/oxygen-cli@1.8.0","maintainers":[{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"55a18976668d56c63024121422cb81653ec97cc6","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-1.8.0.tgz","fileCount":69,"integrity":"sha512-8wpKETIKsL9Sd3GY1Of0hj7CB0jd+rgfjCsuDd0jA64lqQ1M1/3+TqLqQc9GgRiwq6C7IiKXm1RxcSyiCoGaXw==","signatures":[{"sig":"MEUCIHEQwh/SJKOOKfOo38oIf8TmmAuXGf6NcWHF/boGMIt4AiEAhks7TuUdUwhWg8RP+PnYAs8HmV7F0tKxFray3jTBXk4=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":99789},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"engines":{"node":">=14.17.0"},"gitHead":"98acbec44d415dba8830596dee50286ebf023c37","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --clean --config ./tsup.config.ts && oclif manifest","prepack":"npm install && npm run build","release":"npm run build && npx changeset publish","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","changesets:check":"changeset status","generate:manifest":"oclif manifest"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.1","dependencies":{"async":"^3.2.4","@oclif/core":"2.10.0","@shopify/cli-kit":"^3.48.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"devDependencies":{"tsup":"^7.1.0","vite":"^4.4.7","oclif":"^3","eslint":"^8.45.0","vitest":"^0.33.0","node-fetch":"^3.3.2","typescript":"^5.1.3","@types/node":"^20.4.5","@types/async":"^3.2.18","@changesets/cli":"^2.26.1","@types/prettier":"^2.7.3","@shopify/eslint-plugin":"^42.1.0","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_1.8.0_1690542527358_0.7204533593390425","host":"s3://npm-registry-packages"}},"1.8.2":{"name":"@shopify/oxygen-cli","version":"1.8.2","license":"MIT","_id":"@shopify/oxygen-cli@1.8.2","maintainers":[{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"bfe9870720d58fe92c1ae77953f27261ff9094ea","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-1.8.2.tgz","fileCount":69,"integrity":"sha512-DIra8LhdQfkw3V3F6hbckZ9oNrWeGDiZejpXf9riVM0eQv1yVlEdot33SwEWehNlJiAq6CBKstnjej+AhsikrA==","signatures":[{"sig":"MEYCIQCdd5K+QuMczRMTH5/SaHGnLdY0+Zjl0XFYQL9GRjd9uQIhANEjFgaqNsAA2jrCMpJ71bIsa0gD7uyJfweXzApPoHJ1","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":99974},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"engines":{"node":">=14.17.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"3acc48a45688f2e016573b9bbf9b385c2b83e482","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --clean --config ./tsup.config.ts && oclif manifest","prepack":"npm install && npm run build","release":"npm run build && npx changeset publish","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","changesets:check":"changeset status","generate:manifest":"oclif manifest"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.1","dependencies":{"async":"^3.2.4","@oclif/core":"2.11.5","@shopify/cli-kit":"^3.48.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"devDependencies":{"tsup":"^7.1.0","vite":"^4.4.8","oclif":"^3","eslint":"^8.46.0","vitest":"^0.33.0","node-fetch":"^3.3.2","typescript":"^5.1.3","@types/node":"^20.4.5","@types/async":"^3.2.18","@changesets/cli":"^2.26.1","@types/prettier":"^3.0.0","@shopify/eslint-plugin":"^42.1.0","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_1.8.2_1690902577154_0.18097332555489465","host":"s3://npm-registry-packages"}},"1.9.0":{"name":"@shopify/oxygen-cli","version":"1.9.0","license":"MIT","_id":"@shopify/oxygen-cli@1.9.0","maintainers":[{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"f9d6098c19ffb0a2854df73ade67d96a54dea970","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-1.9.0.tgz","fileCount":69,"integrity":"sha512-0J8BX9nVjMmnWFJug7v/ewaqOahzSbWDj7fPlGtt0oGB+gjoJbQPdSqvcmP1ZaN+mZm2g+QkL8CqmugGPaxFWA==","signatures":[{"sig":"MEYCIQDCd1xKVSWJPzQcgOHLwowvmLlvCAIRzyYee7ehHFu+jgIhAOJsTwE0myA7V/162JH2I+MJ4MA060LIuQorDTiAUOpG","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":100963},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"engines":{"node":">=14.17.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"6fa7a5d0440a11e32ba84778cfb659048a8960c4","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --clean --config ./tsup.config.ts && oclif manifest","prepack":"npm install && npm run build","release":"npm run build && npx changeset publish","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","changesets:check":"changeset status","generate:manifest":"oclif manifest"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.1","dependencies":{"async":"^3.2.4","@oclif/core":"2.11.8","@shopify/cli-kit":"nightly"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"devDependencies":{"tsup":"^7.2.0","vite":"^4.4.9","oclif":"^3","eslint":"^8.47.0","vitest":"^0.34.1","node-fetch":"^3.3.2","typescript":"^5.1.3","@types/node":"^20.5.0","@types/async":"^3.2.18","@changesets/cli":"^2.26.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.0","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_1.9.0_1692111796292_0.9977038359735808","host":"s3://npm-registry-packages"}},"1.10.0":{"name":"@shopify/oxygen-cli","version":"1.10.0","license":"MIT","_id":"@shopify/oxygen-cli@1.10.0","maintainers":[{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"3be10abaea04fdbb552f0ea6ab23f6d51b9bb279","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-1.10.0.tgz","fileCount":69,"integrity":"sha512-R2D8BGaAkbUYtW3wE3r3VP4X5Fds0NNRQ3/yXPxDIsuReBDHYpVRYD0K93qX0vX0wbNjwX5v8swpdHqpGpZQJw==","signatures":[{"sig":"MEUCIBqzolql9Uu5G4w2IT4LeYDMlmN+BLiMt+YSGwiRej/QAiEAi91ByrAkfut002LbW0ycZtWbQHbC95oLpwUrhR2q3rs=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":101032},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"engines":{"node":">=14.17.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"2f1057bd6542e56dc1d1fd1ede32b49828a7af2f","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --clean --config ./tsup.config.ts && oclif manifest","prepack":"npm install && npm run build","release":"npm run build && npx changeset publish","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","changesets:check":"changeset status","generate:manifest":"oclif manifest"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.1","dependencies":{"async":"^3.2.4","@oclif/core":"2.11.8","@shopify/cli-kit":"nightly"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"devDependencies":{"tsup":"^7.2.0","vite":"^4.4.9","oclif":"^3","eslint":"^8.47.0","vitest":"^0.34.2","node-fetch":"^3.3.2","typescript":"^5.1.3","@types/node":"^20.5.1","@types/async":"^3.2.18","@changesets/cli":"^2.26.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.0","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_1.10.0_1692636693405_0.12549660613742097","host":"s3://npm-registry-packages"}},"1.10.1":{"name":"@shopify/oxygen-cli","version":"1.10.1","license":"MIT","_id":"@shopify/oxygen-cli@1.10.1","maintainers":[{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"db46d811307344abee69bdc6c48190c4a0f1177b","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-1.10.1.tgz","fileCount":69,"integrity":"sha512-BIbGROa9w5pv8br/EW1aSAWXcvlg3Fw+Ma6iIebz0ErmnZovDBmI5LB+JYl+8BqpyAPWv6BwfO6tl8VOWkxcaQ==","signatures":[{"sig":"MEYCIQDQgHizMtmdYHEi3cMzvYznjVgmofL+laI3aM+WANQwFgIhAJi7CIzLbvlaDKTmeQvD8i98PC/mU4r5M/4QKgQrDHfd","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":101032},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"engines":{"node":">=14.17.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"1384fdd949c73d6851390b144724d89be6b24365","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --clean --config ./tsup.config.ts && oclif manifest","prepack":"npm install && npm run build","release":"npm run build && npx changeset publish","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","changesets:check":"changeset status","generate:manifest":"oclif manifest"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.1","dependencies":{"async":"^3.2.4","@oclif/core":"2.11.8","@shopify/cli-kit":"nightly"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"devDependencies":{"tsup":"^7.2.0","vite":"^4.4.9","oclif":"^3","eslint":"^8.47.0","vitest":"^0.34.2","node-fetch":"^3.3.2","typescript":"^5.1.3","@types/node":"^20.5.3","@types/async":"^3.2.18","@changesets/cli":"^2.26.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.0","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_1.10.1_1692827464025_0.510567491926692","host":"s3://npm-registry-packages"}},"1.10.4-unstable.20230829.0":{"name":"@shopify/oxygen-cli","version":"1.10.4-unstable.20230829.0","license":"MIT","_id":"@shopify/oxygen-cli@1.10.4-unstable.20230829.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"96d7d6efb33f7065c89cf3430147d6a7150e2a02","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-1.10.4-unstable.20230829.0.tgz","fileCount":69,"integrity":"sha512-7Wqd4obfJA8vUYf+EVyKf0leoWk3UUiuIzmGBmSYr4mOyV7nFD5YYXpHmbFanYkbDf64Pa7zNz5QEVRpXcWrQQ==","signatures":[{"sig":"MEYCIQDvdOVo10vowx49UYOtTrBO4tEpfjn0sSqGpdMmeDk/qgIhAP5h0k00xAkGg88gpuHiK2U42VQq43kzOUI2kT6e5NLT","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":101072},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"engines":{"node":">=14.17.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"d1ff8c20280404fa4e83ab2eaddb674c19430858","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --clean --config ./tsup.config.ts && oclif manifest","prepack":"npm install && npm run build","release":"npm run build && npx changeset publish","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","changesets:check":"changeset status","generate:manifest":"oclif manifest"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@oclif/core":"2.12.0","@shopify/cli-kit":"nightly"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"devDependencies":{"tsup":"^7.2.0","vite":"^4.4.9","oclif":"^3","eslint":"^8.47.0","vitest":"^0.34.3","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.5.7","@types/async":"^3.2.18","@changesets/cli":"^2.26.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.0","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_1.10.4-unstable.20230829.0_1693319689319_0.4347491172297324","host":"s3://npm-registry-packages"}},"1.10.4-unstable.20230830.0":{"name":"@shopify/oxygen-cli","version":"1.10.4-unstable.20230830.0","license":"MIT","_id":"@shopify/oxygen-cli@1.10.4-unstable.20230830.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"ddec09d1fe32bf77a15266cade5a4636d8800473","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-1.10.4-unstable.20230830.0.tgz","fileCount":69,"integrity":"sha512-NDLMh49v6wiwvHQp76ih7xlYIflLYY7WUUpmuVxhxo8ljoEld8AaOteOeMzm+x8XprOypDiucjRuRNDb+2g+fQ==","signatures":[{"sig":"MEUCIDtdp7/vXvLTiADXnnv2SvWA0jU2M7q8i4tofXVgHcumAiEA0jZtWcQ1iwCi5fsn0DgsJ1RrJakLS7zD8EXovnGny8g=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":101072},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -h, --skipHealthCheck: Skip running the health check on the deployment\n- -d, --healthCheckMaxDuration: The maximum duration (in seconds) that the health check is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n\n**Note**: All metadata options (--metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 90.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | BITBUCKET_BUILD_URL | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PROJECT_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n","engines":{"node":">=14.17.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"bdda4a5bcb35d53dd2f8a028e98d6354662cb10c","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --clean --config ./tsup.config.ts && oclif manifest","prepack":"npm install && npm run build","release":"npm run build && npx changeset publish","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","changesets:check":"changeset status","generate:manifest":"oclif manifest"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@oclif/core":"2.12.0","@shopify/cli-kit":"nightly"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.9","oclif":"^3","eslint":"^8.47.0","vitest":"^0.34.3","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.5.7","@types/async":"^3.2.18","@changesets/cli":"^2.26.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.0","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_1.10.4-unstable.20230830.0_1693384954017_0.8756857858261597","host":"s3://npm-registry-packages"}},"1.11.1-unstable.20230830.0":{"name":"@shopify/oxygen-cli","version":"1.11.1-unstable.20230830.0","license":"MIT","_id":"@shopify/oxygen-cli@1.11.1-unstable.20230830.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"bef859be96a0bb2b0020f53f5dfc675ec2b9f069","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-1.11.1-unstable.20230830.0.tgz","fileCount":69,"integrity":"sha512-8HXr7uFGFiMfH/O5XftRn9RJte/jMpR5x81dEqvMXaKzT4usi00eSqHF0zaQ54ERxI+rHbz0WUHO2yfDzla4vQ==","signatures":[{"sig":"MEUCICTfgiCh+8Sf09e2AtTkMwXObLg5dA6WP5nmOnsJm+iDAiEAhk5XN/Hq9lEgP05Ie5J4+EwwLpFBZhw2NJczAmD2C0s=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":102660},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -h, --skipHealthCheck: Skip running the health check on the deployment\n- -d, --healthCheckMaxDuration: The maximum duration (in seconds) that the health check is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 85.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | BITBUCKET_BUILD_URL | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PROJECT_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n","engines":{"node":">=14.17.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"0da8bbb9ef8ba3a1a2aec0ca06d4284ea980d424","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --clean --config ./tsup.config.ts && oclif manifest","prepack":"npm install && npm run build","release":"npm run build && npx changeset publish","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","changesets:check":"changeset status","generate:manifest":"oclif manifest"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@oclif/core":"2.12.0","@shopify/cli-kit":"nightly"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.9","oclif":"^3","eslint":"^8.47.0","vitest":"^0.34.3","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.5.7","@types/async":"^3.2.18","@changesets/cli":"^2.26.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.0","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_1.11.1-unstable.20230830.0_1693385124987_0.6803368114196775","host":"s3://npm-registry-packages"}},"1.11.2-unstable.20230830.0":{"name":"@shopify/oxygen-cli","version":"1.11.2-unstable.20230830.0","license":"MIT","_id":"@shopify/oxygen-cli@1.11.2-unstable.20230830.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"95a92bbb08985fb6f0af97d0dc2b73ec3445c9bc","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-1.11.2-unstable.20230830.0.tgz","fileCount":69,"integrity":"sha512-EQ7zS2hTYTGSsFLaNYDi7qzEkYJosMvNcRs2M/9gzUsgFpKvx9Ds9H2Z/1d5RstWE/y9BGrbwroVULJyrOIHBQ==","signatures":[{"sig":"MEUCIEpWVDr855qoAda5flMyoV2BET461VYhwBAxjGNvhmlMAiEAyQlTVRwWy71KTYIjpaTHouA2pq1culGXJBOy5qe10sA=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":102660},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -h, --skipHealthCheck: Skip running the health check on the deployment\n- -d, --healthCheckMaxDuration: The maximum duration (in seconds) that the health check is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 85.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | BITBUCKET_BUILD_URL | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PROJECT_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n","engines":{"node":">=14.17.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"26d1e6a590314fc9704b6fcee01392239139461b","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --clean --config ./tsup.config.ts && oclif manifest","prepack":"npm install && npm run build","release":"npm run build && npx changeset publish","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","changesets:check":"changeset status","generate:manifest":"oclif manifest"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@oclif/core":"2.13.0","@shopify/cli-kit":"nightly"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.9","oclif":"^3","eslint":"^8.48.0","vitest":"^0.34.3","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.5.7","@types/async":"^3.2.18","@changesets/cli":"^2.26.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.0","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_1.11.2-unstable.20230830.0_1693406764447_0.5045911564591794","host":"s3://npm-registry-packages"}},"1.11.2-unstable.20230831.0":{"name":"@shopify/oxygen-cli","version":"1.11.2-unstable.20230831.0","license":"MIT","_id":"@shopify/oxygen-cli@1.11.2-unstable.20230831.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"5202a54845e46efd98edd8fb19668441725eec45","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-1.11.2-unstable.20230831.0.tgz","fileCount":69,"integrity":"sha512-TJUptwb++K07brDScSPspngQIbtbr/BPSDgnxRMTgBdPL9J65mzJxfzyBPwtYTYB9LrczxaoEi1CJhKwGHO5HA==","signatures":[{"sig":"MEUCIEkpc+rZfxBnIWy7Dh/h7e0P71bLLQrs7vZyHncim/T3AiEA13DqfQDL9bIY5tX0fqe4GhJHkkpcZR2MBBjPlr14I7Y=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":102660},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -h, --skipHealthCheck: Skip running the health check on the deployment\n- -d, --healthCheckMaxDuration: The maximum duration (in seconds) that the health check is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 85.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | BITBUCKET_BUILD_URL | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PROJECT_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n","engines":{"node":">=14.17.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"66a6730bcc6ace930d320c0d487f2fa77499271d","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --clean --config ./tsup.config.ts && oclif manifest","prepack":"npm install && npm run build","release":"npm run build && npx changeset publish","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","changesets:check":"changeset status","generate:manifest":"oclif manifest"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@oclif/core":"2.13.0","@shopify/cli-kit":"nightly"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.9","oclif":"^3","eslint":"^8.48.0","vitest":"^0.34.3","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.5.7","@types/async":"^3.2.18","@changesets/cli":"^2.26.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.0","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_1.11.2-unstable.20230831.0_1693479778377_0.7937469183168269","host":"s3://npm-registry-packages"}},"1.11.1":{"name":"@shopify/oxygen-cli","version":"1.11.1","license":"MIT","_id":"@shopify/oxygen-cli@1.11.1","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"3499d3cbc4f9d1950b068c7af370db12887a4198","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-1.11.1.tgz","fileCount":69,"integrity":"sha512-Dmj31TBui8fOHZNKUQ8zLuS6Hg2Gr5BTZ+xva39jLU6mZ9Q20u5EhKUGHZ7owLqyZiEMYIFVBt4YytbYUmoaXg==","signatures":[{"sig":"MEYCIQC3CDLDXy6fl6KulLj0N/SNNIembhUKJY21haNajUsRWQIhAOuM7m2N9jYM1BSjhHbwB+MgBu8oX+1s/hD0H2SV85h1","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":102620},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"engines":{"node":">=14.17.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"8a60ffebd6460694902a5d18f745b1b38f66b2d3","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --clean --config ./tsup.config.ts && oclif manifest","prepack":"npm install && npm run build","release":"npm run build && npx changeset publish","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","changesets:check":"changeset status","generate:manifest":"oclif manifest"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@oclif/core":"2.13.0","@shopify/cli-kit":"nightly"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"devDependencies":{"tsup":"^7.2.0","vite":"^4.4.9","oclif":"^3","eslint":"^8.48.0","vitest":"^0.34.3","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.5.7","@types/async":"^3.2.18","@changesets/cli":"^2.26.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.0","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_1.11.1_1693479890569_0.46752224022567757","host":"s3://npm-registry-packages"}},"1.11.3-unstable.20230831.0":{"name":"@shopify/oxygen-cli","version":"1.11.3-unstable.20230831.0","license":"MIT","_id":"@shopify/oxygen-cli@1.11.3-unstable.20230831.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"d0cbe0ca95d4d5a7cdba1ad0d743226ba2c3328e","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-1.11.3-unstable.20230831.0.tgz","fileCount":69,"integrity":"sha512-LBSMjF7M07mmy5U7/5Yw0e0iz6Gu3cTr9gBW6qWk4uveBXKVBieHjijrWLXukijcE+pBoQNkQjO2BJzzv3ReyQ==","signatures":[{"sig":"MEUCIQDqroYoCRvbhRjmP4PCP0ut+qjK1Aaco6QxsvAuenfa1AIgCPziKwaRlJAfQ7U4xz5HHq/pLqhQI0FmUC1+zXegQHw=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":102660},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -h, --skipHealthCheck: Skip running the health check on the deployment\n- -d, --healthCheckMaxDuration: The maximum duration (in seconds) that the health check is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 85.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | BITBUCKET_BUILD_URL | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PROJECT_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n","engines":{"node":">=14.17.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"487a2ce46deb867f81ed7446f05b531e62f02180","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --clean --config ./tsup.config.ts && oclif manifest","prepack":"npm install && npm run build","release":"npm run build && npx changeset publish","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","changesets:check":"changeset status","generate:manifest":"oclif manifest"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@oclif/core":"2.13.0","@shopify/cli-kit":"nightly"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.9","oclif":"^3","eslint":"^8.48.0","vitest":"^0.34.3","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.5.7","@types/async":"^3.2.18","@changesets/cli":"^2.26.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.0","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_1.11.3-unstable.20230831.0_1693493312708_0.5784822623635164","host":"s3://npm-registry-packages"}},"1.11.2":{"name":"@shopify/oxygen-cli","version":"1.11.2","license":"MIT","_id":"@shopify/oxygen-cli@1.11.2","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"664291352394b30af9adfb42940a51f2cc99a93a","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-1.11.2.tgz","fileCount":69,"integrity":"sha512-qVqQivCOaoK0yVtoxd/2l9d+KpJyRr1IGu33Xh8YGWLSGgo4D88kuOLTmsu/j2tBdY8gw7eFf65fSqds4Y1nCg==","signatures":[{"sig":"MEYCIQDKYFF879rTVpVDpovdcTD+v+Ew+It++FCKyFvLpKZM4AIhAJC/IShJOSBqcmNPacQN/RMsumCbpulBN47192ku7AK4","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":102620},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"engines":{"node":">=14.17.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"e8481bc47a3b120fd673209c7c2c24823c4b2743","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --clean --config ./tsup.config.ts && oclif manifest","prepack":"npm install && npm run build","release":"npm run build && npx changeset publish","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","changesets:check":"changeset status","generate:manifest":"oclif manifest"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@oclif/core":"2.13.0","@shopify/cli-kit":"nightly"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"devDependencies":{"tsup":"^7.2.0","vite":"^4.4.9","oclif":"^3","eslint":"^8.48.0","vitest":"^0.34.3","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.5.7","@types/async":"^3.2.18","@changesets/cli":"^2.26.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.0","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_1.11.2_1693563908089_0.7737006340079713","host":"s3://npm-registry-packages"}},"1.11.4-unstable.20230901.0":{"name":"@shopify/oxygen-cli","version":"1.11.4-unstable.20230901.0","license":"MIT","_id":"@shopify/oxygen-cli@1.11.4-unstable.20230901.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"6bc056b8c1f9e8ecc7cebd82976a9f0112711d9f","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-1.11.4-unstable.20230901.0.tgz","fileCount":69,"integrity":"sha512-0/WNqfqb+GxGgpdLaj81Mp+AX6XdsgJs2M1bQiseT5KmsUJCP6gODj8NWffEENJGDpSWOBWRr/hpotKvHOxekA==","signatures":[{"sig":"MEUCIQCJBMV48HqrSQBeP9fDGkbZ0YhmwAGvFKizJoXwXr5FbQIgRHnJjYSlnbGaDQJ2lS6f2jBo4aDcO9BfaqhZcP1Ypcw=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":102660},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -h, --skipHealthCheck: Skip running the health check on the deployment\n- -d, --healthCheckMaxDuration: The maximum duration (in seconds) that the health check is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 85.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | BITBUCKET_BUILD_URL | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PROJECT_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n","engines":{"node":">=14.17.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"e0693b9c3f6cc083cd1d54b562041f843a889148","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --clean --config ./tsup.config.ts && oclif manifest","prepack":"npm install && npm run build","release":"npm run build && npx changeset publish","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","changesets:check":"changeset status","generate:manifest":"oclif manifest"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@oclif/core":"2.14.0","@shopify/cli-kit":"nightly"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.9","oclif":"^3","eslint":"^8.48.0","vitest":"^0.34.3","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.5.7","@types/async":"^3.2.18","@changesets/cli":"^2.26.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.0","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_1.11.4-unstable.20230901.0_1693579334238_0.20793273863594952","host":"s3://npm-registry-packages"}},"1.11.4-unstable.20230905.0":{"name":"@shopify/oxygen-cli","version":"1.11.4-unstable.20230905.0","license":"MIT","_id":"@shopify/oxygen-cli@1.11.4-unstable.20230905.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"690aa39ab9d17adb77c1457cbf42b6c9556ce101","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-1.11.4-unstable.20230905.0.tgz","fileCount":69,"integrity":"sha512-eFg1LVTCq7ynP+bvcTZP8eDGJ3XxsO4Cm9TvpIRScRDuh5O6ixhKbbsW2W6zP0G3TVFb/BinTJYEJTc42lUA2g==","signatures":[{"sig":"MEUCIHBczV1fzJNMBx8933Hs3d3VNSx9nSZv3rPi4CCg7n6+AiEAp5ohqDFsSLPpEBrDCYLcZRxF5UHTCZ3uarrDxYTpQ8U=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":102660},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -h, --skipHealthCheck: Skip running the health check on the deployment\n- -d, --healthCheckMaxDuration: The maximum duration (in seconds) that the health check is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 85.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | BITBUCKET_BUILD_URL | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PROJECT_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n","engines":{"node":">=14.17.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"249454d3017d991250aba06cb135b005425bbfe6","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --clean --config ./tsup.config.ts && oclif manifest","prepack":"npm install && npm run build","release":"npm run build && npx changeset publish","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","changesets:check":"changeset status","generate:manifest":"oclif manifest"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@oclif/core":"2.14.0","@shopify/cli-kit":"nightly"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.9","oclif":"^3","eslint":"^8.48.0","vitest":"^0.34.3","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.5.7","@types/async":"^3.2.18","@changesets/cli":"^2.26.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.0","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_1.11.4-unstable.20230905.0_1693905943226_0.4509160456077632","host":"s3://npm-registry-packages"}},"1.11.3":{"name":"@shopify/oxygen-cli","version":"1.11.3","license":"MIT","_id":"@shopify/oxygen-cli@1.11.3","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"c81437b4bdb566be8f5e4245b66faea326651a8b","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-1.11.3.tgz","fileCount":69,"integrity":"sha512-AFToM5LeMNv+Rg1FzWAHVh7M/JBvIJlD3B4trMJ8A8n3lUbfrBbY6md8BLjIEl8Cihn+hxQIf6jECPieDN03hQ==","signatures":[{"sig":"MEQCID67P0p0Yi94Lqw3XG+MAHkKUR25OPoF3qqDcYQG5NaQAiAx/9QtaYUrIHjrapF7/hT7iejqJNEhpPcous62LA9Dgg==","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":102620},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"engines":{"node":">=14.17.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"62af7d13f168d2681902cdd3f7799fc6bbfd8c3f","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --clean --config ./tsup.config.ts && oclif manifest","prepack":"npm install && npm run build","release":"npm run build && npx changeset publish","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","changesets:check":"changeset status","generate:manifest":"oclif manifest"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@oclif/core":"2.15.0","@shopify/cli-kit":"nightly"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"devDependencies":{"tsup":"^7.2.0","vite":"^4.4.9","oclif":"^3","eslint":"^8.48.0","vitest":"^0.34.3","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.5.7","@types/async":"^3.2.18","@changesets/cli":"^2.26.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.0","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_1.11.3_1693991550942_0.6649768140235068","host":"s3://npm-registry-packages"}},"1.11.5-unstable.20230906.0":{"name":"@shopify/oxygen-cli","version":"1.11.5-unstable.20230906.0","license":"MIT","_id":"@shopify/oxygen-cli@1.11.5-unstable.20230906.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"0870be04678964c8917b8138d3e87ca8a8b6bb57","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-1.11.5-unstable.20230906.0.tgz","fileCount":69,"integrity":"sha512-kNNPVE37ek5DTpoWGMldZPwJv1Y8M8Jw1askdoZnDdfLM5YXqa56iRWVj669k9Dj31cVOQcT2FkSkWP/uyfZzQ==","signatures":[{"sig":"MEUCIAJ4UvVDp2OthBS2q9lS8YO1NuVdv6EQ9TjMIxO3Ca4kAiEA0XnhS4MgVff60aylwND55hz5RKusO49ZBz6x/l2T52I=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":102660},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -h, --skipHealthCheck: Skip running the health check on the deployment\n- -d, --healthCheckMaxDuration: The maximum duration (in seconds) that the health check is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 85.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | BITBUCKET_BUILD_URL | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PROJECT_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n","engines":{"node":">=14.17.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"81dcb7d9fc2ec1e302b9aec39233393fc765a6a9","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --clean --config ./tsup.config.ts && oclif manifest","prepack":"npm install && npm run build","release":"npm run build && npx changeset publish","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","changesets:check":"changeset status","generate:manifest":"oclif manifest"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@oclif/core":"2.15.0","@shopify/cli-kit":"nightly"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.9","oclif":"^3","eslint":"^8.48.0","vitest":"^0.34.3","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.5.7","@types/async":"^3.2.18","@changesets/cli":"^2.26.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.0","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_1.11.5-unstable.20230906.0_1694011656549_0.8323111885995473","host":"s3://npm-registry-packages"}},"1.11.5-unstable.202309070819.0":{"name":"@shopify/oxygen-cli","version":"1.11.5-unstable.202309070819.0","license":"MIT","_id":"@shopify/oxygen-cli@1.11.5-unstable.202309070819.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"1241a66a38165ed68a559fd677dfd4d7fb610f89","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-1.11.5-unstable.202309070819.0.tgz","fileCount":69,"integrity":"sha512-P6t5tciM50tEp0rNW1kjKISxgE85RbFy6oGrCeKB+/iX3/dKGm4Ww2SmN7+3JcBsrTocxV2DX+539/PQGaC7uw==","signatures":[{"sig":"MEUCIQDUFrD84hgJOoKMdnlmRTsMN1eQkYVQTk1VPSPixSnCjAIgM/kEaMLlCX2uIDBFCnDG1xHfk9oEJ1AZL7GQuRsKff8=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":102668},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -h, --skipHealthCheck: Skip running the health check on the deployment\n- -d, --healthCheckMaxDuration: The maximum duration (in seconds) that the health check is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 85.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | BITBUCKET_BUILD_URL | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PROJECT_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n","engines":{"node":">=14.17.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"f9782a05b2d1d6398f3e1d40f5a80654e2cfabfb","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --clean --config ./tsup.config.ts && oclif manifest","prepack":"npm install && npm run build","release":"npm run build && npx changeset publish","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","changesets:check":"changeset status","generate:manifest":"oclif manifest"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@oclif/core":"2.15.0","@shopify/cli-kit":"nightly"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.9","oclif":"^3","eslint":"^8.48.0","vitest":"^0.34.3","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.5.7","@types/async":"^3.2.18","@changesets/cli":"^2.26.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.0","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_1.11.5-unstable.202309070819.0_1694074769977_0.07915684236303377","host":"s3://npm-registry-packages"}},"1.11.5-unstable.202309070837.0":{"name":"@shopify/oxygen-cli","version":"1.11.5-unstable.202309070837.0","license":"MIT","_id":"@shopify/oxygen-cli@1.11.5-unstable.202309070837.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"6895dde98373fe4e36d286eee2a3e18ed3f1ea80","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-1.11.5-unstable.202309070837.0.tgz","fileCount":69,"integrity":"sha512-YaEkYAEIV4KaKbAzvpRRiKzLVsBpPjkYfZKonr/Dbgjh6BtMoNhDm6uSYz2rVw6HFDPBwxu47d+8X/rBsCHbMg==","signatures":[{"sig":"MEUCIQCwGmCEAkEqTuTcgCo8KKod4Dn1G3ita6FIp3LaTf2UKgIgfqsargvQnoMXr0fV+kSa01vUxpafucHbDIVz5QxNNZ0=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":102668},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -h, --skipHealthCheck: Skip running the health check on the deployment\n- -d, --healthCheckMaxDuration: The maximum duration (in seconds) that the health check is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 85.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | BITBUCKET_BUILD_URL | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PROJECT_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n","engines":{"node":">=14.17.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"aa5a565b45e3c28b9a17cbfaa4d00ffeff28d45a","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --clean --config ./tsup.config.ts && oclif manifest","prepack":"npm install && npm run build","release":"npm run build && npx changeset publish","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","changesets:check":"changeset status","generate:manifest":"oclif manifest"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@oclif/core":"2.15.0","@shopify/cli-kit":"nightly"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.9","oclif":"^3","eslint":"^8.48.0","vitest":"^0.34.3","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.5.9","@types/async":"^3.2.18","@changesets/cli":"^2.26.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.0","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_1.11.5-unstable.202309070837.0_1694075847262_0.44381862525368465","host":"s3://npm-registry-packages"}},"1.11.4":{"name":"@shopify/oxygen-cli","version":"1.11.4","license":"MIT","_id":"@shopify/oxygen-cli@1.11.4","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"3a682182040a82984ec7afd538a1ca0d82050c55","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-1.11.4.tgz","fileCount":69,"integrity":"sha512-pLhnfYef45sPCo6o03NTBto3/5rkikVTCN/KgB2BwN2oVcDwr4V0x4qpQ9XUI9FDmE9DNgAejvu004hPS/WEhQ==","signatures":[{"sig":"MEUCIHl54QrFlzA34Z6K7ARgO1zgVXtyyvoU0nEFzEHaU/BvAiEA4On58DairJC78sgkoavM2pBx5ldIMX43Co1vYTCRmoM=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":102620},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"engines":{"node":">=14.17.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"4d353ef5fa2b3e7a450940e21fb510251f55e6e4","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --clean --config ./tsup.config.ts && oclif manifest","prepack":"npm install && npm run build","release":"npm run build && npx changeset publish","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","changesets:check":"changeset status","generate:manifest":"oclif manifest"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@oclif/core":"2.15.0","@shopify/cli-kit":"nightly"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"devDependencies":{"tsup":"^7.2.0","vite":"^4.4.9","oclif":"^3","eslint":"^8.48.0","vitest":"^0.34.3","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.5.9","@types/async":"^3.2.18","@changesets/cli":"^2.26.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.0","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_1.11.4_1694076130855_0.2478695689021364","host":"s3://npm-registry-packages"}},"1.11.6-unstable.202309072012.0":{"name":"@shopify/oxygen-cli","version":"1.11.6-unstable.202309072012.0","license":"MIT","_id":"@shopify/oxygen-cli@1.11.6-unstable.202309072012.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"ef4f90f6463fe9a5af5186fb262f323b12eb8b9f","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-1.11.6-unstable.202309072012.0.tgz","fileCount":69,"integrity":"sha512-Nf3ilPaL/VV7T4VYM1rLZrx1QevWvdhgMcRME2wlLl+PoHrgC2gNyvl8B1FnMq68ZFQd5T7o+4aYA6XvVsrEAg==","signatures":[{"sig":"MEUCIQDsEBaGsGTEI0wV4FMplqwyvVs9CN5BEevHSMcDPLeptgIgcG4qQz6l7JgvSRASie9UskQSJaf6FrDkxa1ZQdWnvJw=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":102668},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -h, --skipHealthCheck: Skip running the health check on the deployment\n- -d, --healthCheckMaxDuration: The maximum duration (in seconds) that the health check is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 85.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | BITBUCKET_BUILD_URL | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PROJECT_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n","engines":{"node":">=14.17.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"1b1ffd10cb585b56293e0a717a85bb8125730913","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --clean --config ./tsup.config.ts && oclif manifest","prepack":"npm install && npm run build","release":"npm run build && npx changeset publish","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","changesets:check":"changeset status","generate:manifest":"oclif manifest"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@oclif/core":"2.15.0","@shopify/cli-kit":"nightly"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.9","oclif":"^3","eslint":"^8.48.0","vitest":"^0.34.3","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.5.9","@types/async":"^3.2.18","@changesets/cli":"^2.26.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.0","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_1.11.6-unstable.202309072012.0_1694117539537_0.12997178975873203","host":"s3://npm-registry-packages"}},"1.11.6-unstable.202309072015.0":{"name":"@shopify/oxygen-cli","version":"1.11.6-unstable.202309072015.0","license":"MIT","_id":"@shopify/oxygen-cli@1.11.6-unstable.202309072015.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"2cef8db64f89325215d0580e36c128b488a8ee5e","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-1.11.6-unstable.202309072015.0.tgz","fileCount":69,"integrity":"sha512-rlO3ysa4nsK6OLt0ugQNDw7g3IBvdjumtSTbUJeCT9pYxorBf1K5eyvBcs9xcmFtNDuUdtg1murAy/uHzfWOdg==","signatures":[{"sig":"MEUCIG0z8+h9BqAHGGCJz0Byuo/ddlNQYpvhVV+7q+eH7fpKAiEA4HQCcAM1cK9W5EpIqpgOfiJt7/lMixyWpLArErcOvbk=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":102668},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -h, --skipHealthCheck: Skip running the health check on the deployment\n- -d, --healthCheckMaxDuration: The maximum duration (in seconds) that the health check is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 85.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | BITBUCKET_BUILD_URL | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PROJECT_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n","engines":{"node":">=14.17.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"612aed8183750561fc431494b388996fd3ce665f","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --clean --config ./tsup.config.ts && oclif manifest","prepack":"npm install && npm run build","release":"npm run build && npx changeset publish","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","changesets:check":"changeset status","generate:manifest":"oclif manifest"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@oclif/core":"2.15.0","@shopify/cli-kit":"nightly"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.9","oclif":"^3","eslint":"^8.48.0","vitest":"^0.34.3","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.5.9","@types/async":"^3.2.18","@changesets/cli":"^2.26.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.0","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_1.11.6-unstable.202309072015.0_1694117750956_0.7836779730524053","host":"s3://npm-registry-packages"}},"1.11.6-unstable.202309080820.0":{"name":"@shopify/oxygen-cli","version":"1.11.6-unstable.202309080820.0","license":"MIT","_id":"@shopify/oxygen-cli@1.11.6-unstable.202309080820.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"26cfed3b7f1adfc3a56412094d2771fb95ee767e","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-1.11.6-unstable.202309080820.0.tgz","fileCount":69,"integrity":"sha512-b5S9i/ysDY1eGdZcIivQCqXPIEHdIfd+JKlwrcb+TLS5CJzTIWhOdTmaGXpzTuVDqeQjvYqSL6h09zoWfKUP4A==","signatures":[{"sig":"MEYCIQDYqJ/V7yej/k9J4/nvXhWbjmAx2f74HUGumAuW2iljBQIhAK5rkIMttRHAq8erNbdremceZg1f/jigzFSmEA4AAMsQ","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":102668},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -h, --skipHealthCheck: Skip running the health check on the deployment\n- -d, --healthCheckMaxDuration: The maximum duration (in seconds) that the health check is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 85.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | BITBUCKET_BUILD_URL | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PROJECT_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n","engines":{"node":">=14.17.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"05eb2100b020500a5e5f26907fd68eab1062b25f","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --clean --config ./tsup.config.ts && oclif manifest","prepack":"npm install && npm run build","release":"npm run build && npx changeset publish","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","changesets:check":"changeset status","generate:manifest":"oclif manifest"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@oclif/core":"2.15.0","@shopify/cli-kit":"nightly"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.9","oclif":"^3","eslint":"^8.48.0","vitest":"^0.34.3","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.5.9","@types/async":"^3.2.18","@changesets/cli":"^2.26.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.0","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_1.11.6-unstable.202309080820.0_1694161220418_0.13920921049931012","host":"s3://npm-registry-packages"}},"1.11.5":{"name":"@shopify/oxygen-cli","version":"1.11.5","license":"MIT","_id":"@shopify/oxygen-cli@1.11.5","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"3a8d60cf743ddb35149d9bf93b4ed24a587e144e","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-1.11.5.tgz","fileCount":69,"integrity":"sha512-HZzr2ipZWQg2yHZ3Gf8EQrHsg5VVIYGl75sHvdkNh8lqJixyvpUZi0fk7byJBCzgj2oQ8eXAmyJxXvWqURSe6A==","signatures":[{"sig":"MEUCIFSe4ENancbA/CqGfIosfa/jYzmDGkRhQe0rPm4QxwqFAiEA5s2vDVduAll0xtPtScHUeZmX2njmUVvc+IW9LkRc0ZM=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":102620},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"engines":{"node":">=14.17.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"d02ad7c616ce45029d01bf9638bb819f9f398e18","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --clean --config ./tsup.config.ts && oclif manifest","prepack":"npm install && npm run build","release":"npm run build && npx changeset publish","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","changesets:check":"changeset status","generate:manifest":"oclif manifest"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@oclif/core":"2.15.0","@shopify/cli-kit":"nightly"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"devDependencies":{"tsup":"^7.2.0","vite":"^4.4.9","oclif":"^3","eslint":"^8.48.0","vitest":"^0.34.3","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.5.9","@types/async":"^3.2.18","@changesets/cli":"^2.26.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.0","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_1.11.5_1694162263773_0.30667428852561973","host":"s3://npm-registry-packages"}},"1.11.7-unstable.202309081455.0":{"name":"@shopify/oxygen-cli","version":"1.11.7-unstable.202309081455.0","license":"MIT","_id":"@shopify/oxygen-cli@1.11.7-unstable.202309081455.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"fb728f98d20b7cbb5788a210ca874737b2be24e6","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-1.11.7-unstable.202309081455.0.tgz","fileCount":69,"integrity":"sha512-1IqJ3hdP/s4vhs6uKHF62u/jKLkYybPf51/ePrh224mjL+0agGQa2wmXbYwHTZDPXd3WnkRsmpnDzZOcbHGnsA==","signatures":[{"sig":"MEUCIQDJXkBYS9U2d3LH15wDpKT8I04W/bKvI3QNGH4tjor5ZAIgR80aKOmdse8uyc4RsMc2f0X92b5j+AotLzPvO05/2/M=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":102668},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -h, --skipHealthCheck: Skip running the health check on the deployment\n- -d, --healthCheckMaxDuration: The maximum duration (in seconds) that the health check is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 85.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | BITBUCKET_BUILD_URL | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PROJECT_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n","engines":{"node":">=14.17.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"4e683d061308d67ffa4d12edbff16e95a6a16b12","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --clean --config ./tsup.config.ts && oclif manifest","prepack":"npm install && npm run build","release":"npm run build && npx changeset publish","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","changesets:check":"changeset status","generate:manifest":"oclif manifest"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@oclif/core":"2.15.0","@shopify/cli-kit":"nightly"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.9","oclif":"^3","eslint":"^8.48.0","vitest":"^0.34.3","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.5.9","@types/async":"^3.2.18","@changesets/cli":"^2.26.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.0","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_1.11.7-unstable.202309081455.0_1694184927830_0.04520425224921909","host":"s3://npm-registry-packages"}},"1.11.7-unstable.202309081456.0":{"name":"@shopify/oxygen-cli","version":"1.11.7-unstable.202309081456.0","license":"MIT","_id":"@shopify/oxygen-cli@1.11.7-unstable.202309081456.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"c29239e6c47e12380f219f8b73f38eb92228dba4","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-1.11.7-unstable.202309081456.0.tgz","fileCount":69,"integrity":"sha512-TxtnMEowxeFu1W5fFSGuN5RfrZmPIDsjYFxUE3wr7uaMmdEeyAjLnYlPOhFgqtK6lVWH4aCErpg35HESqHpW4w==","signatures":[{"sig":"MEYCIQDE9KA/+ZBSAdWGj6Vi+3xtd9vgZr0nUCU4OkwyU0xiewIhAMJdXhP8UlE9WUF7gxoTAVEYnHIYzHrBTGxqp12qTw3n","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":102668},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -h, --skipHealthCheck: Skip running the health check on the deployment\n- -d, --healthCheckMaxDuration: The maximum duration (in seconds) that the health check is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 85.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | BITBUCKET_BUILD_URL | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PROJECT_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n","engines":{"node":">=14.17.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"d6194545d59ac8548709e33413db3e625990ed98","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --clean --config ./tsup.config.ts && oclif manifest","prepack":"npm install && npm run build","release":"npm run build && npx changeset publish","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","changesets:check":"changeset status","generate:manifest":"oclif manifest"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@oclif/core":"2.15.0","@shopify/cli-kit":"nightly"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.9","oclif":"^3","eslint":"^8.48.0","vitest":"^0.34.4","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.5.9","@types/async":"^3.2.18","@changesets/cli":"^2.26.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.0","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_1.11.7-unstable.202309081456.0_1694184985736_0.2718490456205387","host":"s3://npm-registry-packages"}},"1.12.1-unstable.202309120939.0":{"name":"@shopify/oxygen-cli","version":"1.12.1-unstable.202309120939.0","license":"MIT","_id":"@shopify/oxygen-cli@1.12.1-unstable.202309120939.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"14355c64e23ab991efcff2eccdd143b1c1916049","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-1.12.1-unstable.202309120939.0.tgz","fileCount":69,"integrity":"sha512-L8A3pMtPITO1KIf1/1RifiUx27ATr9Pgd1SXPANfKblvpCMkTPLJqFvIlH16lbP2vURhZlE6e77YWnV0UaknfA==","signatures":[{"sig":"MEYCIQCYokjPEgmrA8RFUfChAfF8ryhJLkqHrbH3wLysrAMLzwIhAOEDWcxViV7Fn+3TG4+wYoTVqqyWOENAWB3zt0MqKqaQ","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":104521},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -h, --skipHealthCheck: Skip running the health check on the deployment\n- -d, --healthCheckMaxDuration: The maximum duration (in seconds) that the health check is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 85.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | BITBUCKET_BUILD_URL | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PROJECT_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n","engines":{"node":">=14.17.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"c125dba0911185960c79fde4576eb989516223de","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --clean --config ./tsup.config.ts && oclif manifest","prepack":"npm install && npm run build","release":"npm run build && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"rm -rf dist/**/*.test.*","changesets:check":"changeset status","generate:manifest":"oclif manifest"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@oclif/core":"2.15.0","@shopify/cli-kit":"nightly"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.9","oclif":"^3","eslint":"^8.49.0","vitest":"^0.34.4","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.5.9","@types/async":"^3.2.18","@changesets/cli":"^2.26.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.0","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_1.12.1-unstable.202309120939.0_1694511602251_0.10914373300869906","host":"s3://npm-registry-packages"}},"1.12.1-unstable.202309120942.0":{"name":"@shopify/oxygen-cli","version":"1.12.1-unstable.202309120942.0","license":"MIT","_id":"@shopify/oxygen-cli@1.12.1-unstable.202309120942.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"ab503ee73d5dca38fc9a27d323a1ebc1fb50ec89","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-1.12.1-unstable.202309120942.0.tgz","fileCount":69,"integrity":"sha512-lpjIyjWrThBLhwTrsk5yLLphNRcy238/vL/HqU/jviYsD1QxCcWdqSwoW3j2Bk7+eZYzSHV8aMKU5276BXxOaw==","signatures":[{"sig":"MEUCIBo1w4rLRQgY/h0/u6GmYmShcx5vSW2p4Qihwv/sW9PLAiEA9fW3DdpVSOvIvXrGaO7GzbEK/h49d5henopDe4rgTCk=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":103955},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -h, --skipHealthCheck: Skip running the health check on the deployment\n- -d, --healthCheckMaxDuration: The maximum duration (in seconds) that the health check is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 85.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | BITBUCKET_BUILD_URL | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PROJECT_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n","engines":{"node":">=14.17.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"28e6771901d33b5aa1623629e8feac400c3cc73b","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --clean --config ./tsup.config.ts && oclif manifest","prepack":"npm install && npm run build","release":"npm run build && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"rm -rf dist/**/*.test.*","changesets:check":"changeset status","generate:manifest":"oclif manifest"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@oclif/core":"2.15.0","@shopify/cli-kit":"nightly"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.9","oclif":"^3","eslint":"^8.49.0","vitest":"^0.34.4","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.5.9","@types/async":"^3.2.18","@changesets/cli":"^2.26.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.0","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_1.12.1-unstable.202309120942.0_1694511740101_0.43247159871351704","host":"s3://npm-registry-packages"}},"1.12.1-unstable.202309120947.0":{"name":"@shopify/oxygen-cli","version":"1.12.1-unstable.202309120947.0","license":"MIT","_id":"@shopify/oxygen-cli@1.12.1-unstable.202309120947.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"89174119d0aa3a6a5cc4f2b629b0a252a545d18a","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-1.12.1-unstable.202309120947.0.tgz","fileCount":69,"integrity":"sha512-S7F1QpXg0rMEFEqyI+0oXzPrf+XmtfjyuGUoglygDPzU/VPPEDDVkLXVnQ3F8x2nyRkxBroc0YxC9YYhvYU/cQ==","signatures":[{"sig":"MEQCIFSOrLAvfrpGnxhrWPBgGPRm4Pc9LIWvLTByPXzYZLF4AiA2SgsypApF4LB/ebuv2Cl0YIzTYsN2s0dnx0GPsyt/OA==","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":103955},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -h, --skipHealthCheck: Skip running the health check on the deployment\n- -d, --healthCheckMaxDuration: The maximum duration (in seconds) that the health check is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 85.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | BITBUCKET_BUILD_URL | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PROJECT_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"9883f3bd1eeb36aedb162764cf3d0bf1d4ceb912","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --clean --config ./tsup.config.ts && oclif manifest","prepack":"npm install && npm run build","release":"npm run build && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"rm -rf dist/**/*.test.*","changesets:check":"changeset status","generate:manifest":"oclif manifest"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@oclif/core":"2.15.0","@shopify/cli-kit":"^3.49.2"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.9","oclif":"^3","eslint":"^8.49.0","vitest":"^0.34.4","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.5.9","@types/async":"^3.2.18","@changesets/cli":"^2.26.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.0","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_1.12.1-unstable.202309120947.0_1694512088604_0.25101941673039585","host":"s3://npm-registry-packages"}},"1.12.0":{"name":"@shopify/oxygen-cli","version":"1.12.0","license":"MIT","_id":"@shopify/oxygen-cli@1.12.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"0e2e2538c0921c3d1615504859086b37e3dcf6a1","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-1.12.0.tgz","fileCount":69,"integrity":"sha512-7ZlGKsEXYyn0KL4K9wJS8PgO68/QaWDgL/uMVQsWHsCnqo2M4fQ+BC9jZgMKRrIJiAJC1SzDkwlhDtrVtGBrMw==","signatures":[{"sig":"MEUCIQDBwZSVgYRSFCkGhCYJlb1pJYWWwaUZjgsMsFg4t30tyQIgdBiNpmbGjNhyA1DJK47u4BnIhHPbVkJXHHhMuapyeM0=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":103907},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"c918abcb6b26a4595a2a6b340c11df9214369987","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --clean --config ./tsup.config.ts && oclif manifest","prepack":"npm install && npm run build","release":"npm run build && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"rm -rf dist/**/*.test.*","changesets:check":"changeset status","generate:manifest":"oclif manifest"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@oclif/core":"2.15.0","@shopify/cli-kit":"^3.49.2"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"devDependencies":{"tsup":"^7.2.0","vite":"^4.4.9","oclif":"^3","eslint":"^8.49.0","vitest":"^0.34.4","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.5.9","@types/async":"^3.2.18","@changesets/cli":"^2.26.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.0","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_1.12.0_1694513308351_0.6066078820903815","host":"s3://npm-registry-packages"}},"1.12.2-unstable.202309141156.0":{"name":"@shopify/oxygen-cli","version":"1.12.2-unstable.202309141156.0","license":"MIT","_id":"@shopify/oxygen-cli@1.12.2-unstable.202309141156.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"ae6f14f7cb454cd56455ad70782f368171453ceb","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-1.12.2-unstable.202309141156.0.tgz","fileCount":69,"integrity":"sha512-bY6cuS/VJlXX9nVqnzXn5cecgxgE6rkBBT4VHoAu2xb7BpbKtMlnjYI86YooZlJFQMctKizsbgbdjZXh0WjYfA==","signatures":[{"sig":"MEQCIAjznqNSNbZYEfKmpSXZGToJxn7CwKP+MFSlNESJItVVAiBt891vxdDW7zfBzW7oLFs6h7YpWiadxLZ5wY0UnUTe8g==","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":103955},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -h, --skipHealthCheck: Skip running the health check on the deployment\n- -d, --healthCheckMaxDuration: The maximum duration (in seconds) that the health check is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 85.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | BITBUCKET_BUILD_URL | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PROJECT_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"cfea2dcd8b46ddcead455ead1e2aa509d25bd052","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --clean --config ./tsup.config.ts && oclif manifest","prepack":"npm install && npm run build","release":"npm run build && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"rm -rf dist/**/*.test.*","changesets:check":"changeset status","generate:manifest":"oclif manifest"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@oclif/core":"2.15.0","@shopify/cli-kit":"^3.49.2"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.9","oclif":"^3","eslint":"^8.49.0","vitest":"^0.34.4","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.5.9","@types/async":"^3.2.18","@changesets/cli":"^2.26.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.0","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_1.12.2-unstable.202309141156.0_1694692628671_0.053809551403853684","host":"s3://npm-registry-packages"}},"1.12.2-unstable.202309141504.0":{"name":"@shopify/oxygen-cli","version":"1.12.2-unstable.202309141504.0","license":"MIT","_id":"@shopify/oxygen-cli@1.12.2-unstable.202309141504.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"2412c8c4031cd76529137a61407b3b234314bcdc","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-1.12.2-unstable.202309141504.0.tgz","fileCount":69,"integrity":"sha512-dluGiJws+xChAFDLAH2KZnDRHT8tZ66QvEeiAkCxtWas9DAYfc0ECJL4ZdC0/C+DJDzUkXN6Fv5jk4UZlZE4XQ==","signatures":[{"sig":"MEUCIQC307HphurvXROCaE+MB8b7kgvLULsyf18KX5MjtUQWsgIgY/cEH5nl96MflF1O0iNB+8a0MTYzCsA0l8Z5L4T4vbA=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":103955},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -h, --skipHealthCheck: Skip running the health check on the deployment\n- -d, --healthCheckMaxDuration: The maximum duration (in seconds) that the health check is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 85.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | BITBUCKET_BUILD_URL | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PROJECT_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"eb45714fbbc4eb8aab532f81cc43e359d42a9837","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --clean --config ./tsup.config.ts && oclif manifest","prepack":"npm install && npm run build","release":"npm run build && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"rm -rf dist/**/*.test.*","changesets:check":"changeset status","generate:manifest":"oclif manifest"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@oclif/core":"2.15.0","@shopify/cli-kit":"^3.49.3"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.9","oclif":"^3","eslint":"^8.49.0","vitest":"^0.34.4","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.5.9","@types/async":"^3.2.18","@changesets/cli":"^2.26.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.0","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_1.12.2-unstable.202309141504.0_1694703855029_0.5569008307700636","host":"s3://npm-registry-packages"}},"1.12.2-unstable.202309150831.0":{"name":"@shopify/oxygen-cli","version":"1.12.2-unstable.202309150831.0","license":"MIT","_id":"@shopify/oxygen-cli@1.12.2-unstable.202309150831.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"4f2b1bdcb767692912c0c25ebcb53ca250d429f6","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-1.12.2-unstable.202309150831.0.tgz","fileCount":47,"integrity":"sha512-wVdFmzD/SnJQs8Gn0rYZN/X6fC9wY4jGEiGlo6w+sgZCCPw8CGIi5Ud9SeuJaKGtcxUthBkgEakADZZyPEammQ==","signatures":[{"sig":"MEUCIQDAf9MP4No7nNPGw0Gqa5iKzqCzoLYGjMcLLjRWi0qVDAIgDSgdD411rRpnVUfqw1fr+mFa7Ntw4XpcMDQ0oMi7IaQ=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":60358},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -h, --skipHealthCheck: Skip running the health check on the deployment\n- -d, --healthCheckMaxDuration: The maximum duration (in seconds) that the health check is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 85.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | BITBUCKET_BUILD_URL | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PROJECT_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"fb2ec9c96a581d975e1db0f3c9cc97b982078568","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.*","changesets:check":"changeset status","generate:manifest":"oclif manifest"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@oclif/core":"2.15.0","@shopify/cli-kit":"^3.49.3"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.9","oclif":"^3","eslint":"^8.49.0","vitest":"^0.34.4","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.5.9","@types/async":"^3.2.18","@changesets/cli":"^2.26.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.0","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_1.12.2-unstable.202309150831.0_1694766680380_0.4722759347241474","host":"s3://npm-registry-packages"}},"1.12.2-unstable.202309151259.0":{"name":"@shopify/oxygen-cli","version":"1.12.2-unstable.202309151259.0","license":"MIT","_id":"@shopify/oxygen-cli@1.12.2-unstable.202309151259.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"7d7af545fa06888a99126b97c13a6ffa5c5c1f99","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-1.12.2-unstable.202309151259.0.tgz","fileCount":47,"integrity":"sha512-6wra5iPewuiD8jmidUk1A1sHD9ZvYN2FAg5asKncbJIVvcSH03Jb77c69Dsk+h8J5ZibE6b/aoxsflMocTEFkA==","signatures":[{"sig":"MEYCIQDUIprizTEfalTCDtQTexeiKIJhk353aNpFxJV2Z7ZNmQIhAJEVzuEw4gJYA263Tt/t8HRZtY0jswqE6ucgDBmLyQ7G","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":60358},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -h, --skipHealthCheck: Skip running the health check on the deployment\n- -d, --healthCheckMaxDuration: The maximum duration (in seconds) that the health check is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 85.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | BITBUCKET_BUILD_URL | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PROJECT_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"e9e0707d28a67cef365c4bf90bcaacf790c57a45","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.*","changesets:check":"changeset status","generate:manifest":"oclif manifest"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@oclif/core":"2.15.0","@shopify/cli-kit":"^3.49.3"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.9","oclif":"^3","eslint":"^8.49.0","vitest":"^0.34.4","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.5.9","@types/async":"^3.2.18","@changesets/cli":"^2.26.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.0","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_1.12.2-unstable.202309151259.0_1694782797133_0.6611696106745704","host":"s3://npm-registry-packages"}},"1.12.2-unstable.202309151416.0":{"name":"@shopify/oxygen-cli","version":"1.12.2-unstable.202309151416.0","license":"MIT","_id":"@shopify/oxygen-cli@1.12.2-unstable.202309151416.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"ea27decff7826af10107e9701f134fe64199c560","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-1.12.2-unstable.202309151416.0.tgz","fileCount":47,"integrity":"sha512-ROKBLo0kj27mTweRw6NWhJz5dEnyLq+DfVXzovnd4tESURffYcGG1BFLT8HvcRtpjrm/Aht0b7h+Y9Wk/nBKiw==","signatures":[{"sig":"MEUCIQDU0Nvxm9MWA+kOcnmWBFdmJ2Y+DhHD2PYQ8NRRF4LvFAIgIsVIe/clxlAjS3JXhycsxfUr7OlsjAFJ9oMMZXt7PO8=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":60358},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -h, --skipHealthCheck: Skip running the health check on the deployment\n- -d, --healthCheckMaxDuration: The maximum duration (in seconds) that the health check is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 85.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | BITBUCKET_BUILD_URL | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PROJECT_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"105096407cb23252ea0a5510c319a04ebb5f03ca","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.*","changesets:check":"changeset status","generate:manifest":"oclif manifest"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@oclif/core":"2.15.0","@shopify/cli-kit":"^3.49.3"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.9","oclif":"^3","eslint":"^8.49.0","vitest":"^0.34.4","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.6.1","@types/async":"^3.2.18","@changesets/cli":"^2.26.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.0","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_1.12.2-unstable.202309151416.0_1694787427941_0.3160356555804864","host":"s3://npm-registry-packages"}},"1.12.2-unstable.202309181354.0":{"name":"@shopify/oxygen-cli","version":"1.12.2-unstable.202309181354.0","license":"MIT","_id":"@shopify/oxygen-cli@1.12.2-unstable.202309181354.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"05dc2d00047dc4bf949774d4c8b29b6f004af66b","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-1.12.2-unstable.202309181354.0.tgz","fileCount":47,"integrity":"sha512-LVVTG6PsvT0HLo6AR09U1XxgGMTSUifIlKMK6jJtnFhoksCVB1JLGmwQ514+OGzIMeoEtBiQNxj/qlxezysKIA==","signatures":[{"sig":"MEQCIFyrEIOM1bKfwoTQDFQIwJJH32XYtWrhYEsSsFhiuGwLAiAVCUwR+ElAeNuum0VdBVURKWdLPjHppyxUzA3MUtfzng==","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":60358},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -h, --skipHealthCheck: Skip running the health check on the deployment\n- -d, --healthCheckMaxDuration: The maximum duration (in seconds) that the health check is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 85.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | BITBUCKET_BUILD_URL | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PROJECT_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"9488f76bc53f830df3a20f7a86c4296f9b416ca4","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.*","changesets:check":"changeset status","generate:manifest":"oclif manifest"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@oclif/core":"2.15.0","@shopify/cli-kit":"^3.49.3"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.9","oclif":"^3","eslint":"^8.49.0","vitest":"^0.34.4","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.6.1","@types/async":"^3.2.18","@changesets/cli":"^2.26.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.0","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_1.12.2-unstable.202309181354.0_1695045251160_0.7362751767175466","host":"s3://npm-registry-packages"}},"1.12.2-unstable.202309181454.0":{"name":"@shopify/oxygen-cli","version":"1.12.2-unstable.202309181454.0","license":"MIT","_id":"@shopify/oxygen-cli@1.12.2-unstable.202309181454.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"4c5daa2585cefcb9fbb10259e397571863011b0f","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-1.12.2-unstable.202309181454.0.tgz","fileCount":47,"integrity":"sha512-SHaNugkjir0Q/W1cv3K6AtgiUIFgkZKg2kVYs/WUP3Tx16AZL4tcpWJ/6KaVoaTyCOAfqfk0qPNQy9QA0pVZVw==","signatures":[{"sig":"MEUCICRyQc8JUV/GgIh0UurtgGPtEqQIKg3SYk1CzQa4R6xpAiEA3DUhMvDMfWqRll/kdj7IopLxHsxBiR+cJ+ROa9zgjfY=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":60358},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -h, --skipHealthCheck: Skip running the health check on the deployment\n- -d, --healthCheckMaxDuration: The maximum duration (in seconds) that the health check is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 85.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | BITBUCKET_BUILD_URL | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PROJECT_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"e8bb597a276562bc6e6cf9d0795f5f52c5dee7b9","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.*","changesets:check":"changeset status","generate:manifest":"oclif manifest"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@oclif/core":"2.15.0","@shopify/cli-kit":"^3.49.3"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.9","oclif":"^3","eslint":"^8.49.0","vitest":"^0.34.4","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.6.2","@types/async":"^3.2.18","@changesets/cli":"^2.26.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.0","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_1.12.2-unstable.202309181454.0_1695048890103_0.6110695226465424","host":"s3://npm-registry-packages"}},"1.12.2-unstable.202309201500.0":{"name":"@shopify/oxygen-cli","version":"1.12.2-unstable.202309201500.0","license":"MIT","_id":"@shopify/oxygen-cli@1.12.2-unstable.202309201500.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"69bb08c1dd47fe9756b3177c252ac8a53d0b2cc4","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-1.12.2-unstable.202309201500.0.tgz","fileCount":47,"integrity":"sha512-OZV57ncylogpR7h5wsf2FK3TbtOo+MNT3+ep/UOYa5dFJQh8fiNRfkEjkXCG69kvwtFqyVwusxf7DDSnfTz8dg==","signatures":[{"sig":"MEUCIHLf/KPUG3N4mYhPsbmIFAG2uxy3ez57rgtn8OF3MF8yAiEAwhPpObYNdJ5klzVHhwU14INB9X8/nDsFNx53OQEe2HU=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":60358},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -h, --skipHealthCheck: Skip running the health check on the deployment\n- -d, --healthCheckMaxDuration: The maximum duration (in seconds) that the health check is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 85.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | BITBUCKET_BUILD_URL | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PROJECT_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"30683d354b919e44ff3e1f1f186eff13ad831dd5","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.*","changesets:check":"changeset status","generate:manifest":"oclif manifest"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@oclif/core":"2.15.0","@shopify/cli-kit":"^3.49.3"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.9","oclif":"^3","eslint":"^8.49.0","vitest":"^0.34.4","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.6.3","@types/async":"^3.2.18","@changesets/cli":"^2.26.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.0","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_1.12.2-unstable.202309201500.0_1695222012856_0.14046659546012785","host":"s3://npm-registry-packages"}},"1.12.2-unstable.202309211423.0":{"name":"@shopify/oxygen-cli","version":"1.12.2-unstable.202309211423.0","license":"MIT","_id":"@shopify/oxygen-cli@1.12.2-unstable.202309211423.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"a5264d4a090bef5d6fc0ea8f6f83cb700286ef75","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-1.12.2-unstable.202309211423.0.tgz","fileCount":47,"integrity":"sha512-ZU6kdvvogH/q4pYVs1R+f6jshlBdtdz16h5V1fvvV9LKzftHz47RgI9LJzyaYO3p88Uy2th9C/XKxmXye74Eow==","signatures":[{"sig":"MEQCIEyJU63vzYGL1lEV0iNmd//t3PxgbbjezjL7Ii7/ADQDAiA9SzjG+rUawQtkcdfKRH9oxAu/w3GZoZY0n2tx1wOpJQ==","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":60358},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -h, --skipHealthCheck: Skip running the health check on the deployment\n- -d, --healthCheckMaxDuration: The maximum duration (in seconds) that the health check is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 85.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | BITBUCKET_BUILD_URL | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PROJECT_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"35b1c0878c0a47930eda5147dd24c2998c2f98a9","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.*","changesets:check":"changeset status","generate:manifest":"oclif manifest"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@oclif/core":"2.15.0","@shopify/cli-kit":"^3.49.3"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.9","oclif":"^3","eslint":"^8.49.0","vitest":"^0.34.5","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.6.3","@types/async":"^3.2.18","@changesets/cli":"^2.26.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.0","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_1.12.2-unstable.202309211423.0_1695306198948_0.4700661344683328","host":"s3://npm-registry-packages"}},"1.12.1":{"name":"@shopify/oxygen-cli","version":"1.12.1","license":"MIT","_id":"@shopify/oxygen-cli@1.12.1","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"81e63db3f76186240f11046b06e1cefb55808413","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-1.12.1.tgz","fileCount":47,"integrity":"sha512-FMeXgHIiPNn2PYBuqa7PEWmJ0fRpDVDCSbz+IW92dD3fHWn4BoDih025TY+gCY86iVNXizPaaKDWv2DYlF0hnQ==","signatures":[{"sig":"MEQCIAreOnFUPWy36VscpOBPSDegWioYeduhkkG3cSjIjKi9AiBMmvDzmvG0xB3K5jMNObwTcyvxWg6bXM+S5SgiKMWmig==","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":60310},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"d7ab665afe49aca2067479e77a665f37ca2b054c","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.*","changesets:check":"changeset status","generate:manifest":"oclif manifest"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@oclif/core":"2.15.0","@shopify/cli-kit":"^3.49.3"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"devDependencies":{"tsup":"^7.2.0","vite":"^4.4.9","oclif":"^3","eslint":"^8.49.0","vitest":"^0.34.5","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.6.3","@types/async":"^3.2.18","@changesets/cli":"^2.26.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.0","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_1.12.1_1695380758058_0.6236564447748678","host":"s3://npm-registry-packages"}},"1.12.3-unstable.202309221509.0":{"name":"@shopify/oxygen-cli","version":"1.12.3-unstable.202309221509.0","license":"MIT","_id":"@shopify/oxygen-cli@1.12.3-unstable.202309221509.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"728156b8afed41715bee55e21cd78cd367ae324d","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-1.12.3-unstable.202309221509.0.tgz","fileCount":47,"integrity":"sha512-Oldq/LlfV3V6gEXldmtCGB0lFS1PY/zs+WjP4NlqglMviRnEqnDhDgNL2V5KM8jfNyHp1RaIHrwmNuLI1oIS8g==","signatures":[{"sig":"MEUCIF/PmKPzAqpH1bL8tpk9lD4kKtDt6zIggg1/25N92zy+AiEAh8JXPtiEuYY1z6U8f/JzpXmkwYSeWGsgFSO+eIR/USk=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":60358},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -h, --skipHealthCheck: Skip running the health check on the deployment\n- -d, --healthCheckMaxDuration: The maximum duration (in seconds) that the health check is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 85.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | BITBUCKET_BUILD_URL | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PROJECT_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"d06f8e8b7869341e9077a6da213cfd9f86b21141","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.*","changesets:check":"changeset status","generate:manifest":"oclif manifest"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@oclif/core":"2.15.0","@shopify/cli-kit":"^3.49.3"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.9","oclif":"^3","eslint":"^8.49.0","vitest":"^0.34.5","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.6.3","@types/async":"^3.2.18","@changesets/cli":"^2.26.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.0","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_1.12.3-unstable.202309221509.0_1695395388531_0.05235832679232155","host":"s3://npm-registry-packages"}},"1.12.3-unstable.202309251429.0":{"name":"@shopify/oxygen-cli","version":"1.12.3-unstable.202309251429.0","license":"MIT","_id":"@shopify/oxygen-cli@1.12.3-unstable.202309251429.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"66bb53c096bd7879fe94781a22c912a538e04268","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-1.12.3-unstable.202309251429.0.tgz","fileCount":47,"integrity":"sha512-T8Koj1bbSv/qLkxJszQujkGdCebcNyqPMHgsENstImXTceuxYWcsbHShAemROUqw0k1Vni6thv8W/mqUjyxMbA==","signatures":[{"sig":"MEUCIQDd8nYxuwyKO1TE6EWZ0HpLGyZ2dMLSpycwbljfpmBZagIgDwq9Vh2r9/XcmiomDyW5tV9R9Y8RsnXrntF12tu4kIQ=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":60358},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -h, --skipHealthCheck: Skip running the health check on the deployment\n- -d, --healthCheckMaxDuration: The maximum duration (in seconds) that the health check is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 85.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | BITBUCKET_BUILD_URL | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PROJECT_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"7dab354e559e0ecaffa4142c5498b725e9244bd5","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.*","changesets:check":"changeset status","generate:manifest":"oclif manifest"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@oclif/core":"2.15.0","@shopify/cli-kit":"^3.49.3"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.9","oclif":"^3","eslint":"^8.50.0","vitest":"^0.34.5","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.6.3","@types/async":"^3.2.18","@changesets/cli":"^2.26.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.0","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_1.12.3-unstable.202309251429.0_1695652196691_0.8268332125660642","host":"s3://npm-registry-packages"}},"1.12.3-unstable.202309251430.0":{"name":"@shopify/oxygen-cli","version":"1.12.3-unstable.202309251430.0","license":"MIT","_id":"@shopify/oxygen-cli@1.12.3-unstable.202309251430.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"10aeeab58c1c1aee764c4775e7f1aa2c42a8a4db","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-1.12.3-unstable.202309251430.0.tgz","fileCount":47,"integrity":"sha512-YklDaMNBq+W6eXjJXecB2Oi1V2R/LEvGuTcA1SoIpQ+dNlStCpwNs2Mp2UilFDAxwrSJCCVSE8Wf7214vq+n4g==","signatures":[{"sig":"MEQCIDkHDyoS/erA7kYS9t4RvCqb0x2DHrjVJ6ap3RypbVI+AiA8J1NguP+ArAWGx0HCoPE7I3ZJ3LdxgrXrl0jcLM4AXg==","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":60358},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -h, --skipHealthCheck: Skip running the health check on the deployment\n- -d, --healthCheckMaxDuration: The maximum duration (in seconds) that the health check is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 85.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | BITBUCKET_BUILD_URL | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PROJECT_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"dbc530c482b52f7c1a041272c6fa6dcb6e875207","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.*","changesets:check":"changeset status","generate:manifest":"oclif manifest"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@oclif/core":"2.15.0","@shopify/cli-kit":"^3.49.3"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.9","oclif":"^3","eslint":"^8.50.0","vitest":"^0.34.5","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.6.3","@types/async":"^3.2.21","@changesets/cli":"^2.26.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.0","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_1.12.3-unstable.202309251430.0_1695652251307_0.9335785094219511","host":"s3://npm-registry-packages"}},"2.0.1-unstable.202309251442.0":{"name":"@shopify/oxygen-cli","version":"2.0.1-unstable.202309251442.0","license":"MIT","_id":"@shopify/oxygen-cli@2.0.1-unstable.202309251442.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"845092de882822e1f7148c982e43e60f133e3e98","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-2.0.1-unstable.202309251442.0.tgz","fileCount":47,"integrity":"sha512-WgrD4vu4PBeVc8RuBX5XzhlTJtOfi07jRgJOKRfOBWr9UEYQ4J6dRFq9PAIw+8iUbrjPbbuopqbKGZjIotj8cQ==","signatures":[{"sig":"MEUCIQDkjjH9f/NKcf+BuqAOm4/2HfbAAQ3a3nLC/2cCj5m/wQIgYGht31PLU4GIPq2MwvJJyvZ8jiRxo2+H3tjrQiGPOHg=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":61623},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 85.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | BITBUCKET_BUILD_URL | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PROJECT_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"ff11e5f2bd4ae1efc4eb18e99cb1a3025b27a48e","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.*","changesets:check":"changeset status","generate:manifest":"oclif manifest"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@oclif/core":"2.15.0","@shopify/cli-kit":"^3.49.3"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.9","oclif":"^3","eslint":"^8.50.0","vitest":"^0.34.5","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.6.3","@types/async":"^3.2.21","@changesets/cli":"^2.26.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.0","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_2.0.1-unstable.202309251442.0_1695652960805_0.21653944747072273","host":"s3://npm-registry-packages"}},"2.0.0":{"name":"@shopify/oxygen-cli","version":"2.0.0","license":"MIT","_id":"@shopify/oxygen-cli@2.0.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"70645939d9dbbb8737afee6ce5557582001a457d","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-2.0.0.tgz","fileCount":47,"integrity":"sha512-4XYux8P7dzVY9SP9t0modKNnJH0zfgD+h3JEItbr8xZM0zNha/5H3U7abLXS8E4xTOyD1qT6ShTH6szzJFlADw==","signatures":[{"sig":"MEQCIGj9wAJ8InAzTL03Oq74jGz8WTyxTZmr2shuwKVfyV0rAiAmyGmqgVGi3vMroX2nII8WE+Y58u+8CnMMgiV0/rnYtQ==","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":61575},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"2ae939aa32c3e9d7027f42a8cc911fdbdd1e55ef","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.*","changesets:check":"changeset status","generate:manifest":"oclif manifest"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@oclif/core":"2.15.0","@shopify/cli-kit":"^3.49.3"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"devDependencies":{"tsup":"^7.2.0","vite":"^4.4.9","oclif":"^3","eslint":"^8.50.0","vitest":"^0.34.5","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.6.3","@types/async":"^3.2.21","@changesets/cli":"^2.26.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.0","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_2.0.0_1695657308317_0.6917839502401306","host":"s3://npm-registry-packages"}},"2.0.2-unstable.202309270856.0":{"name":"@shopify/oxygen-cli","version":"2.0.2-unstable.202309270856.0","license":"MIT","_id":"@shopify/oxygen-cli@2.0.2-unstable.202309270856.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"3570649de83698a210cfd7a687df1a4d5733bfc3","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-2.0.2-unstable.202309270856.0.tgz","fileCount":47,"integrity":"sha512-X7i17aL33rt6fxVbERj2+iQu1B00FjyVW1Q3YXD6pzYiXJtjwaox3GOtOKC4/XvgHhAP4K92oH4eg7Rs17QTqQ==","signatures":[{"sig":"MEYCIQCp74rYj74H7Ncwy4Gyx2KrDxdRO+UAbrRSTmvajI6uHQIhAKUGWLR05zGAA7e8WdtWfZj73FW3KUlIiboKS4zb7UWI","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":61626},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | BITBUCKET_BUILD_URL | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PROJECT_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"fee50a3dfd9fdf24063ad02fba47f31c5eac70e3","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.*","changesets:check":"changeset status","generate:manifest":"oclif manifest"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@oclif/core":"2.15.0","@shopify/cli-kit":"^3.49.3"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.9","oclif":"^3","eslint":"^8.50.0","vitest":"^0.34.5","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.6.3","@types/async":"^3.2.21","@changesets/cli":"^2.26.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.0","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_2.0.2-unstable.202309270856.0_1695805013969_0.7272555282584718","host":"s3://npm-registry-packages"}},"2.0.3-unstable.202309272318.0":{"name":"@shopify/oxygen-cli","version":"2.0.3-unstable.202309272318.0","license":"MIT","_id":"@shopify/oxygen-cli@2.0.3-unstable.202309272318.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"bc30f06f3b3cc6e9977d3e00e926eea3f365dfb8","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-2.0.3-unstable.202309272318.0.tgz","fileCount":47,"integrity":"sha512-yhuRY+u8fP1FD1/TQTyeyvJkPOfS8H6vl/m0gnwTuyJHj2mmc7nH4kpfOScU3EufrBTjyL/6pYjwTE4msetA6Q==","signatures":[{"sig":"MEUCIQCxAkBhZvVsQ6QhwtVnMMyGfN9C/p1/9Hb6dXJsxl5MWQIgEaeNYFqwGpcTDqEwIwuZdVM6PqtuAOknKkuAnE6vJRw=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":61626},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | BITBUCKET_BUILD_URL | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PROJECT_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"c2e02e101708be252c53812f56407bcd320e5f70","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.*","changesets:check":"changeset status","generate:manifest":"oclif manifest"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@oclif/core":"2.15.0","@shopify/cli-kit":"^3.49.3"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.9","oclif":"^3","eslint":"^8.50.0","vitest":"^0.34.5","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.6.3","@types/async":"^3.2.21","@changesets/cli":"^2.26.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.0","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_2.0.3-unstable.202309272318.0_1695856701088_0.44432939629418544","host":"s3://npm-registry-packages"}},"2.0.3-unstable.202309291444.0":{"name":"@shopify/oxygen-cli","version":"2.0.3-unstable.202309291444.0","license":"MIT","_id":"@shopify/oxygen-cli@2.0.3-unstable.202309291444.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"063144f96c45db0a5284b804181ea6f5bc3e69da","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-2.0.3-unstable.202309291444.0.tgz","fileCount":47,"integrity":"sha512-ptKfOm0ybjPLIGN72R4nEuR/b8spdDnHyyMOoFhzPmsGEOCp2BXWLe2/JzZiS11riclPhKq3KU3gy7LkhIdWGQ==","signatures":[{"sig":"MEUCIDAmemEG1S2UysesKb5Yv11dL9tIXsMO2IHSm0bylXeiAiEA0RT2/hL4kKH9XCmP+8QcPUwnwvjsDO1jSKxQupTBW/A=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":61626},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | BITBUCKET_BUILD_URL | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PROJECT_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"41ba04de0b9e7ea855d9638a9bd2ba861e5f071f","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.*","changesets:check":"changeset status","generate:manifest":"oclif manifest"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@oclif/core":"2.15.0","@shopify/cli-kit":"^3.49.3"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.9","oclif":"^3","eslint":"^8.50.0","vitest":"^0.34.6","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.6.3","@types/async":"^3.2.21","@changesets/cli":"^2.26.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.0","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_2.0.3-unstable.202309291444.0_1695998659943_0.904678402374725","host":"s3://npm-registry-packages"}},"2.0.3-unstable.202309291445.0":{"name":"@shopify/oxygen-cli","version":"2.0.3-unstable.202309291445.0","license":"MIT","_id":"@shopify/oxygen-cli@2.0.3-unstable.202309291445.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"3edfd7c0caa79932b6b2ab89d4bdaeca19d6ff06","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-2.0.3-unstable.202309291445.0.tgz","fileCount":47,"integrity":"sha512-FrMQ3HwAq1+wnepTD6Ug+32q62R3LD4BsFsPxMLWygh714ApQT2Dqis01FKK1wr5O2BGBk0PZe2dX5AZwkLnBg==","signatures":[{"sig":"MEYCIQDVufnopHqdHc71otTpDtuWAlBan4CAs6G4veMsWyxp+QIhALB4zq+XhFMhIiBhuP8DcDZskjAVOJAjq0o4pej8h814","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":61626},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | BITBUCKET_BUILD_URL | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PROJECT_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"434c72e395c2faf70ba6d20bb169a9cafefd6b3c","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.*","changesets:check":"changeset status","generate:manifest":"oclif manifest"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@oclif/core":"2.15.0","@shopify/cli-kit":"^3.49.4"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.9","oclif":"^3","eslint":"^8.50.0","vitest":"^0.34.6","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.6.3","@types/async":"^3.2.21","@changesets/cli":"^2.26.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.0","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_2.0.3-unstable.202309291445.0_1695998714572_0.8240556513942505","host":"s3://npm-registry-packages"}},"2.0.3-unstable.202309291446.0":{"name":"@shopify/oxygen-cli","version":"2.0.3-unstable.202309291446.0","license":"MIT","_id":"@shopify/oxygen-cli@2.0.3-unstable.202309291446.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"2b48c575dff29dbc4880d88209c4d0c5e25bdf65","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-2.0.3-unstable.202309291446.0.tgz","fileCount":47,"integrity":"sha512-b1asfyFvwZsuRUl4DwN8RTgrViRzhuhcrzeMa7isDhsW9mpJxXRk7CuVMKTKH4Ckvs1geQtGP1vRElW6czg8ew==","signatures":[{"sig":"MEUCIFkhMp/RpuqCOlFVj8khmy5zvKyblGkwRChJAkyv0BAcAiEAk0w0RXPoXcXidO/xYcWDHpvHni2EN+fmD2MkNCvKbhA=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":61626},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | BITBUCKET_BUILD_URL | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PROJECT_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"5986119236984bf9e5fa38abcf3def6c740efe11","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.*","changesets:check":"changeset status","generate:manifest":"oclif manifest"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@oclif/core":"2.15.0","@shopify/cli-kit":"^3.49.4"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.9","oclif":"^3","eslint":"^8.50.0","vitest":"^0.34.6","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.6.3","@types/async":"^3.2.21","@changesets/cli":"^2.26.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.0","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_2.0.3-unstable.202309291446.0_1695998827572_0.7852642669138987","host":"s3://npm-registry-packages"}},"2.0.3-unstable.202310021422.0":{"name":"@shopify/oxygen-cli","version":"2.0.3-unstable.202310021422.0","license":"MIT","_id":"@shopify/oxygen-cli@2.0.3-unstable.202310021422.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"0383d1afcdf028abc2e4ca83151aa12ccaaa1648","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-2.0.3-unstable.202310021422.0.tgz","fileCount":47,"integrity":"sha512-IMwQOR+xbEw/TXuxLI+zk2m3xDXYvP69Z6rX0piFJHQkm69lADN1qXYqLtwIYija1/OXmENHKNQTYxnhK4IfOQ==","signatures":[{"sig":"MEUCIQDOeD6ruW2+e1TD0+HEN1Z+pllCJNxHMJ3mOCbzMUHMxgIgGz8rI0btiZuM6XLFv0BYzrESGc0aeaLELHFA/sxyPzI=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":61626},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | BITBUCKET_BUILD_URL | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PROJECT_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"89139c333bb9215978b92e98f992a811bc55573f","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.*","changesets:check":"changeset status","generate:manifest":"oclif manifest"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@oclif/core":"2.15.0","@shopify/cli-kit":"^3.49.5"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.9","oclif":"^3","eslint":"^8.50.0","vitest":"^0.34.6","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.6.3","@types/async":"^3.2.21","@changesets/cli":"^2.26.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.0","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_2.0.3-unstable.202310021422.0_1696256539365_0.4328505855833169","host":"s3://npm-registry-packages"}},"2.0.2":{"name":"@shopify/oxygen-cli","version":"2.0.2","license":"MIT","_id":"@shopify/oxygen-cli@2.0.2","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"d15e27e475dc4089b4f217939133ac35cd591277","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-2.0.2.tgz","fileCount":47,"integrity":"sha512-c4C2Ik9tvADumRYKfaTR07LcLl5NVucGhVWvPpTMVIpGhFEaNilb1Q6B+ynG1gFrmiK5nEBIvJAV6UYDf1fYSw==","signatures":[{"sig":"MEUCIG8QFa+XXH/SMJW4qEzkWtjcxV2Yxcz7TbCyrYnY9F1mAiEA1/ABixjWj1CvJdXYyDeBzLxoUZcp/Ic3+X6fU9ZKk2g=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":61578},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"8ee6f7ddc7b89d37b5c904c8d3d7a038cfa0fc9b","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.*","changesets:check":"changeset status","generate:manifest":"oclif manifest"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@oclif/core":"2.15.0","@shopify/cli-kit":"^3.49.5"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"devDependencies":{"tsup":"^7.2.0","vite":"^4.4.9","oclif":"^3","eslint":"^8.50.0","vitest":"^0.34.6","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.6.3","@types/async":"^3.2.21","@changesets/cli":"^2.26.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.0","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_2.0.2_1696339470225_0.8460157620791924","host":"s3://npm-registry-packages"}},"2.0.3-unstable.202310051444.0":{"name":"@shopify/oxygen-cli","version":"2.0.3-unstable.202310051444.0","license":"MIT","_id":"@shopify/oxygen-cli@2.0.3-unstable.202310051444.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"07d4af0caa7e515fb0583aefa3ff318d510e5ad1","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-2.0.3-unstable.202310051444.0.tgz","fileCount":47,"integrity":"sha512-nQwqM9CfTomdXcwHeOApdGvXtXwDmcJTV8C+ChRS9U8gYsf/9zB8Zyv5TYZlO2DDxRh6wcs2yWr4DjhzI1RsQQ==","signatures":[{"sig":"MEYCIQCJrmugu3iysGnBg9V9RoGFSUj1c0WAoWwaV7KmEY0B8AIhAOhAxwZF9HiUKv0NiHwfjqUI4d/NjA125SJxnWZtOuHK","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":61626},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | BITBUCKET_BUILD_URL | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PROJECT_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"bd505806fef1e94560e9671f06a6e2fe9602047f","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.*","changesets:check":"changeset status","generate:manifest":"oclif manifest"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@oclif/core":"2.15.0","@shopify/cli-kit":"^3.49.6"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.9","oclif":"^3","eslint":"^8.50.0","vitest":"^0.34.6","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.6.3","@types/async":"^3.2.21","@changesets/cli":"^2.26.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.0","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_2.0.3-unstable.202310051444.0_1696517107124_0.1778421338195053","host":"s3://npm-registry-packages"}},"2.0.3-unstable.202310051447.0":{"name":"@shopify/oxygen-cli","version":"2.0.3-unstable.202310051447.0","license":"MIT","_id":"@shopify/oxygen-cli@2.0.3-unstable.202310051447.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"e3631bf075cb56e9a81f58bf294581c0ea3eb475","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-2.0.3-unstable.202310051447.0.tgz","fileCount":47,"integrity":"sha512-fW1K2UW2dQ3CTM0PySAzYm5Br92jefp1P3dHn+1lw027E+qRnLNaz9D2aI+gaDluTLvv3850NyI2WlWJdqHjlQ==","signatures":[{"sig":"MEQCIClAg1xB1OO7105UmTRloSIC8aBMvusr9oolFFCLiP4qAiBxbESjO7FbIzR7H85psn723lG5a2cQrAFb3P9pV8YjRA==","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":61626},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | BITBUCKET_BUILD_URL | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PROJECT_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"3fd8a240b3c8d5a0612006e54c429ee470c9f977","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.*","changesets:check":"changeset status","generate:manifest":"oclif manifest"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@oclif/core":"2.15.0","@shopify/cli-kit":"^3.49.6"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.9","oclif":"^3","eslint":"^8.50.0","vitest":"^0.34.6","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.6.3","@types/async":"^3.2.21","@changesets/cli":"^2.26.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.0","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_2.0.3-unstable.202310051447.0_1696517242323_0.5622529710504363","host":"s3://npm-registry-packages"}},"2.1.1-unstable.202310110934.0":{"name":"@shopify/oxygen-cli","version":"2.1.1-unstable.202310110934.0","license":"MIT","_id":"@shopify/oxygen-cli@2.1.1-unstable.202310110934.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"c9c83e8fb9324a7768e8e81305f1693c9d83521f","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-2.1.1-unstable.202310110934.0.tgz","fileCount":72,"integrity":"sha512-tdldgbNxsZtymWgUQyY7pbm03vqIfZiFpBVDz+FjqV9zG9Ab0FsflvY53MGNKjW1y8ovBV+O9prfYnXWnJXk6g==","signatures":[{"sig":"MEYCIQCWg0th1DX5kpvAdHiF8WlwCRY0skr63fJ0FTjv0qlTwgIhAJub8kyWiN/FpOAYY2BIJJ2ZoP8cGEN892TPr0/vNyal","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":139949},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"c01b334a056500f9ec4b19d27ec4827dce023d5c","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@bugsnag/js":"^7.21.0","@oclif/core":"2.15.0","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0","@shopify/cli-kit":"^3.49.6"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.9","oclif":"^3","eslint":"^8.50.0","vitest":"^0.34.6","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.6.3","@types/async":"^3.2.21","@changesets/cli":"^2.26.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.0","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_2.1.1-unstable.202310110934.0_1697016887624_0.06363722962527563","host":"s3://npm-registry-packages"}},"2.1.1-unstable.202310110944.0":{"name":"@shopify/oxygen-cli","version":"2.1.1-unstable.202310110944.0","license":"MIT","_id":"@shopify/oxygen-cli@2.1.1-unstable.202310110944.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"0da593b2ec205c9367f0903595715250bc55b947","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-2.1.1-unstable.202310110944.0.tgz","fileCount":72,"integrity":"sha512-iYD/dL2gk2E2N1G1QlZvfMvcHDySEt9zeujf8VrbnVchq6+wnijvSq9Qklljcs1rt8Fx5vxDPWrt9064hfUjWg==","signatures":[{"sig":"MEUCIHPnspR8OPflhFbaprAy0LYcWXnU1KHPGv1/VSvUklnqAiEA1j0ku9lZFuI0upi8aNYOPEaHBzpR99P+dq8r8ixueEQ=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":140775},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"9678c0a1563bc95b68d8aa642bc67bc2644c8e91","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@bugsnag/js":"^7.21.0","@oclif/core":"2.15.0","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0","@shopify/cli-kit":"^3.49.6"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.9","oclif":"^3","eslint":"^8.50.0","vitest":"^0.34.6","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.6.3","@types/async":"^3.2.21","@changesets/cli":"^2.26.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.0","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_2.1.1-unstable.202310110944.0_1697017466444_0.3203815911287655","host":"s3://npm-registry-packages"}},"2.1.1-unstable.202310110958.0":{"name":"@shopify/oxygen-cli","version":"2.1.1-unstable.202310110958.0","license":"MIT","_id":"@shopify/oxygen-cli@2.1.1-unstable.202310110958.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"2e2a0298c4df0d8c7f268699fa13d55b6274d720","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-2.1.1-unstable.202310110958.0.tgz","fileCount":72,"integrity":"sha512-hQHgOW0D1G492cT+I97sdAVPrlNV66DU1j1JgFppvTX1bO3RRu7t7E3lXhveOH9A1iIVGpfiAOcMAn2zH5O8PQ==","signatures":[{"sig":"MEYCIQDdFnWOZy9nOlUVPQS07VGINzvzNQfZrGWVthSICvpbiQIhAJWnrEu7v7tlNuWJpCCd4/LTTTJeNZsKafyi/V3hbtu9","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":140806},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"5a41f5a4e7366ff356b2b15a0cd45bcd0d3a3aff","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@bugsnag/js":"^7.21.0","@oclif/core":"2.15.0","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0","@shopify/cli-kit":"^3.49.6"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.9","oclif":"^3","eslint":"^8.50.0","vitest":"^0.34.6","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.6.3","@types/async":"^3.2.21","@changesets/cli":"^2.26.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.0","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_2.1.1-unstable.202310110958.0_1697018330413_0.9643674419141586","host":"s3://npm-registry-packages"}},"2.1.0":{"name":"@shopify/oxygen-cli","version":"2.1.0","license":"MIT","_id":"@shopify/oxygen-cli@2.1.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"20ce31daa2d75ba50162f0d0341113d1d5f60f35","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-2.1.0.tgz","fileCount":72,"integrity":"sha512-PRiRSbx4p6S4KSbID0F1ndLk/GcL25L1IE9AaHzQJv8zI7UAsoSYFmSL/z1mPyZmo6bfh0CWok02S6bx0Sw5YQ==","signatures":[{"sig":"MEQCIEvSza5bDyhx/vvllRaXcNEZ1LEdHRYgCxa2lmcJefy2AiAGSqVy0gdLRNJIfFEbrpYxyEY/ceDEaEuj2ikmXS+xaw==","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":140758},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"c36525996febc7e6397948d3ceb222f49f071570","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@bugsnag/js":"^7.21.0","@oclif/core":"2.15.0","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0","@shopify/cli-kit":"^3.49.6"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"devDependencies":{"tsup":"^7.2.0","vite":"^4.4.9","oclif":"^3","eslint":"^8.50.0","vitest":"^0.34.6","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.6.3","@types/async":"^3.2.21","@changesets/cli":"^2.26.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.0","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_2.1.0_1697030566400_0.6643470330691581","host":"s3://npm-registry-packages"}},"2.1.2-unstable.202310111449.0":{"name":"@shopify/oxygen-cli","version":"2.1.2-unstable.202310111449.0","license":"MIT","_id":"@shopify/oxygen-cli@2.1.2-unstable.202310111449.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"38c55b06e1f788a3cd2d3310477e977147ffcf88","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-2.1.2-unstable.202310111449.0.tgz","fileCount":72,"integrity":"sha512-M65G4J2F9w6L3QuR96BTmZcjSyxTcXYaZyon5ZcYc1nkdENBRflRqgqcFyT0Gn5LHaAToGD9YpK5zoDOLNXveQ==","signatures":[{"sig":"MEQCICZm+cLjUxgNkZugmn1zb088DEJoTY9Ql1gyffPuWTC6AiB9iFiJfzRo0mfpazVcxJScQgc9MiB9bLRcZGqUs2TIMg==","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":140806},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"3b3943d6fb07e0b5003f9ff83b0d3f8fedd78152","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@bugsnag/js":"^7.21.0","@oclif/core":"2.15.0","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0","@shopify/cli-kit":"^3.49.6"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.9","oclif":"^3","eslint":"^8.50.0","vitest":"^0.34.6","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.6.3","@types/async":"^3.2.21","@changesets/cli":"^2.26.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.1","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_2.1.2-unstable.202310111449.0_1697035768522_0.27195477657502853","host":"s3://npm-registry-packages"}},"2.1.2-unstable.202310121637.0":{"name":"@shopify/oxygen-cli","version":"2.1.2-unstable.202310121637.0","license":"MIT","_id":"@shopify/oxygen-cli@2.1.2-unstable.202310121637.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"5e842d2ad185650e7253c34d4b7e937576791c8b","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-2.1.2-unstable.202310121637.0.tgz","fileCount":72,"integrity":"sha512-TGrTo7cJ0DhXiynsJM7Tn5MCBEdl74FyLYetLS+pQcXNlCwEt+x/es/xKcyClFqNkyhKbK+3HwaJkmVhYv+NQA==","signatures":[{"sig":"MEUCIBO1O3udZrsR213FCoyS7ZlWHabh+TLPzsDO7aY9TxFiAiEApZ9In60hAbqDwkYAS09ub+3TZLOeBI/7Le3O408mHrQ=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":141033},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"452f6f65180e39d7bc6b7bb1a893a185af84f040","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@bugsnag/js":"^7.21.0","@oclif/core":"2.15.0","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0","@shopify/cli-kit":"^3.49.6"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.9","oclif":"^3","eslint":"^8.50.0","vitest":"^0.34.6","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.6.3","@types/async":"^3.2.21","@changesets/cli":"^2.26.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.1","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_2.1.2-unstable.202310121637.0_1697128679133_0.21318966178872056","host":"s3://npm-registry-packages"}},"2.1.1":{"name":"@shopify/oxygen-cli","version":"2.1.1","license":"MIT","_id":"@shopify/oxygen-cli@2.1.1","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"1566a91fe067f3755dc081884e588a9f416fb15e","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-2.1.1.tgz","fileCount":72,"integrity":"sha512-lZb8cRQ6m2ReKxoeJfDWgx+OVkGrtlIF5fn6qeMy475MSFv1qyaaGXahgrspKtZxEJnlY/ITZjsVguaG30TPcw==","signatures":[{"sig":"MEYCIQDJyULB9R4LaBqJrt6In+p4gQaZuGM3VhR3gZ20wn+KnQIhAIyIuyOUuxzCanp8p4oGLDnTaK8/n6cuy4YLGw56B6uS","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":140985},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"391e7235e86c24a7afa6aab39c662eb473a548ef","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@bugsnag/js":"^7.21.0","@oclif/core":"2.15.0","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0","@shopify/cli-kit":"^3.49.6"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"devDependencies":{"tsup":"^7.2.0","vite":"^4.4.9","oclif":"^3","eslint":"^8.50.0","vitest":"^0.34.6","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.6.3","@types/async":"^3.2.21","@changesets/cli":"^2.26.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.1","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_2.1.1_1697129097949_0.3803545703550897","host":"s3://npm-registry-packages"}},"2.1.3-unstable.202310171425.0":{"name":"@shopify/oxygen-cli","version":"2.1.3-unstable.202310171425.0","license":"MIT","_id":"@shopify/oxygen-cli@2.1.3-unstable.202310171425.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"9b4829a2a9e5fdd414aa7e3c939d1c358f6473d5","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-2.1.3-unstable.202310171425.0.tgz","fileCount":72,"integrity":"sha512-QKmsCzV8TvolgPjNiXWIyfvWex/OdTlnwuA/CvBd47bpz4SqpFBQXiMBZlLvdxdt0uTpdabElfzjx5/lm43ihw==","signatures":[{"sig":"MEUCICBcBa9ywchALR1C8imu8/yzqnr9liCAtQ3FyD4mkFdWAiEA/CZ5Guwj3jKadH2mf0xy7trKxAnwRCvEfDCI/FLZhMU=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":141224},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"e2ca2f7e3637627a1eb43988e77f3461d7fcfe5d","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@bugsnag/js":"^7.21.0","@oclif/core":"2.15.0","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0","@shopify/cli-kit":"^3.49.6"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.9","oclif":"^3","eslint":"^8.50.0","vitest":"^0.34.6","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.6.3","@types/async":"^3.2.21","@changesets/cli":"^2.26.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.1","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_2.1.3-unstable.202310171425.0_1697552715818_0.18773758087172787","host":"s3://npm-registry-packages"}},"2.1.3-unstable.202310181354.0":{"name":"@shopify/oxygen-cli","version":"2.1.3-unstable.202310181354.0","license":"MIT","_id":"@shopify/oxygen-cli@2.1.3-unstable.202310181354.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"72cee4f16ec68da4b4839605e4ddc93db1479340","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-2.1.3-unstable.202310181354.0.tgz","fileCount":72,"integrity":"sha512-NRrETujdN4mWxb1sMcU0RIkFyc5kOQan96cpB3NoQFs5yEWrg3jzJ/Ba9P5X2DN0Bz04l4ay2xPoIamIqnpeAA==","signatures":[{"sig":"MEUCIQDFQ44Ptd+isnI4tAaHkzTzLeJtasl7rCGIRewRI9H3lwIgffX0BOwojzJ6xmd/KZNnP03MViyGciIa9TTwxmHiATc=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":141224},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"611b3d1fdcfd73fb0876009e366857f23eb7c7f9","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@bugsnag/js":"^7.21.0","@oclif/core":"2.15.0","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0","@shopify/cli-kit":"^3.49.6"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.9","oclif":"^3","eslint":"^8.50.0","vitest":"^0.34.6","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.6.5","@types/async":"^3.2.21","@changesets/cli":"^2.26.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.1","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_2.1.3-unstable.202310181354.0_1697637272307_0.8892615147320218","host":"s3://npm-registry-packages"}},"2.1.3-unstable.202310181355.0":{"name":"@shopify/oxygen-cli","version":"2.1.3-unstable.202310181355.0","license":"MIT","_id":"@shopify/oxygen-cli@2.1.3-unstable.202310181355.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"c0627386b9c344e3013f190fafc9160c808bab0e","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-2.1.3-unstable.202310181355.0.tgz","fileCount":72,"integrity":"sha512-ZY2KgTZdysbfbgUFgNduySMzKn6dqu9pannr347QaomAQGKyHe+Aw5ir8+br46LF2AJXHxHHpPIRJFQDzsfIvA==","signatures":[{"sig":"MEQCIBKDDfyArD+6hMqTPW9bpK+fyLKx9q0M3ARcaD3hxQ/bAiBbSDeJ67UpfM36yBV4Q2yV2XaoQtJhsA0kOr/N0Ll7Mg==","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":142057},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"7f0d9d146ea6689f22a2733f12f12afd4eca781a","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@bugsnag/js":"^7.21.0","@oclif/core":"2.15.0","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0","@shopify/cli-kit":"^3.49.6"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.9","oclif":"^4","eslint":"^8.50.0","vitest":"^0.34.6","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.6.5","@types/async":"^3.2.21","@changesets/cli":"^2.26.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.1","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_2.1.3-unstable.202310181355.0_1697637327691_0.5152099160078036","host":"s3://npm-registry-packages"}},"2.1.3-unstable.202310181621.0":{"name":"@shopify/oxygen-cli","version":"2.1.3-unstable.202310181621.0","license":"MIT","_id":"@shopify/oxygen-cli@2.1.3-unstable.202310181621.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"69f58018cf52dd6c118773478c84e127980f27e6","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-2.1.3-unstable.202310181621.0.tgz","fileCount":72,"integrity":"sha512-ydI5piZFmQcrmBbOxukx8mVQ34TEDOsMp2dMXUlFEG6lknVXlDdM/8Hio81rSCTC///Anl8DVJ8DIO4NgjTAbA==","signatures":[{"sig":"MEYCIQDfDvIK8Z2wBTptnp8XJGHI9B5LjW/XRDTMtQ23UcuhkgIhAMp3i0A9tWwfUizXckVHOQp+mQdINkaV0iiAdgGCIv1x","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":142058},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"7f311c5ad166c35e7f15d0f5a8f15e633c05dd56","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@bugsnag/js":"^7.21.0","@oclif/core":"2.15.0","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0","@shopify/cli-kit":"^3.49.6"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.10","oclif":"^4","eslint":"^8.50.0","vitest":"^0.34.6","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.6.5","@types/async":"^3.2.21","@changesets/cli":"^2.26.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.1","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_2.1.3-unstable.202310181621.0_1697646102033_0.003015546592107343","host":"s3://npm-registry-packages"}},"2.1.3-unstable.202310200839.0":{"name":"@shopify/oxygen-cli","version":"2.1.3-unstable.202310200839.0","license":"MIT","_id":"@shopify/oxygen-cli@2.1.3-unstable.202310200839.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"421de5058aefc76dee8cc9729051b802851b1437","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-2.1.3-unstable.202310200839.0.tgz","fileCount":72,"integrity":"sha512-D3JqYL7Ukh7Y7MHin2FhcLfCA+uW7qoOdSYCr9Z2GO4mcm1S8VmX9QOyPrtxUAiNH1GXKjiwnntH1Ym6k4dRBg==","signatures":[{"sig":"MEYCIQDBdFsCBM6vPjs8jT/XgaqrdF4TOzrFNQmBn8KZsEnPXgIhAKw2EthhkDQ3xXDYiqL6YsqWACPyIclfqjSGhxTU8+Pp","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":142058},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"93aa40f4ecda681ddce27912819777cc726eda3c","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@bugsnag/js":"^7.21.0","@oclif/core":"2.15.0","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0","@shopify/cli-kit":"^3.49.6"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.10","oclif":"^4","eslint":"^8.50.0","vitest":"^0.34.6","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.6.5","@types/async":"^3.2.21","@changesets/cli":"^2.26.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.1","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_2.1.3-unstable.202310200839.0_1697791165122_0.8502641356933827","host":"s3://npm-registry-packages"}},"2.1.3-unstable.202310231259.0":{"name":"@shopify/oxygen-cli","version":"2.1.3-unstable.202310231259.0","license":"MIT","_id":"@shopify/oxygen-cli@2.1.3-unstable.202310231259.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"785b9dde6da13775d48c1cff6395a66aca2322cd","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-2.1.3-unstable.202310231259.0.tgz","fileCount":72,"integrity":"sha512-HBRhtvgWkUYsGXXLoh6bIi3V9kg2YL0QcCsy85/pkvtxcJifM82TUTuMwH20bPJCpcn8RUe212ba/8D2BKcsCQ==","signatures":[{"sig":"MEQCIAsxaqIS9VKk5XVQm0k8wqp4rg3SInYoRwR1ogGQ065BAiAY1EPFKqGhZCce0iWaobuStEQ1BinmZn6XhBFv6eSVHQ==","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":142058},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"e433c4cacb0f5c78a46a2bad35aedda48f480259","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@bugsnag/js":"^7.21.0","@oclif/core":"2.15.0","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0","@shopify/cli-kit":"^3.49.6"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.10","oclif":"^4","eslint":"^8.50.0","vitest":"^0.34.6","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.6.5","@types/async":"^3.2.21","@changesets/cli":"^2.26.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.1","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_2.1.3-unstable.202310231259.0_1698066001305_0.24620523820271512","host":"s3://npm-registry-packages"}},"2.1.3-unstable.202310231557.0":{"name":"@shopify/oxygen-cli","version":"2.1.3-unstable.202310231557.0","license":"MIT","_id":"@shopify/oxygen-cli@2.1.3-unstable.202310231557.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"87e274b77922526c4ba096a4cfe86280cea8c834","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-2.1.3-unstable.202310231557.0.tgz","fileCount":72,"integrity":"sha512-vmZo6D8XdICbin9/K/doTfego9fdH9MmOVqfebO6mYJvDu1KW/2zpUG8AiND7g4DXAQjdDb11h9j51o5woo/EA==","signatures":[{"sig":"MEUCIQC9xye1f6sJdks/gX4QMqes/woMFsF76Q4vSgsUWgheHwIgXcZgns6JGOP5Ff9STyKg//trhXvrpIgoHpyLW6y4UwA=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":142088},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"25198042977c8754e8c1e5e07eaf654069fae24b","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@bugsnag/js":"^7.21.0","@oclif/core":"3.0.3","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0","@shopify/cli-kit":"^3.49.6"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.10","oclif":"^4","eslint":"^8.50.0","vitest":"^0.34.6","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.6.5","@types/async":"^3.2.21","@changesets/cli":"^2.26.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.1","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_2.1.3-unstable.202310231557.0_1698076690379_0.5606766758893191","host":"s3://npm-registry-packages"}},"2.1.3-unstable.202310231610.0":{"name":"@shopify/oxygen-cli","version":"2.1.3-unstable.202310231610.0","license":"MIT","_id":"@shopify/oxygen-cli@2.1.3-unstable.202310231610.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"730e446d47528e0da40cc22227ed0d0b65ccb7c6","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-2.1.3-unstable.202310231610.0.tgz","fileCount":72,"integrity":"sha512-zbYsr5PR/Dor/q4vpvgDl1KI0oJAIc5uKI1NNj9/QnuPuPDXBCvPURxXmY/vZiP0SZpgHP1V0YJYGO57fi56lA==","signatures":[{"sig":"MEYCIQDoNC/Vw8Q9w8vofOEnKic7qmYYLX4b9yJNLrbv3pGh/AIhALr5RmLfaQboIgNtOYhrGLYejKNW7hKelN6Beq1zyEPO","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":142088},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"12fcd3f8b9350708c5c130b0b256871114cfba61","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@bugsnag/js":"^7.21.0","@oclif/core":"3.0.3","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0","@shopify/cli-kit":"^3.49.6"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.10","oclif":"^4","eslint":"^8.51.0","vitest":"^0.34.6","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.6.5","@types/async":"^3.2.21","@changesets/cli":"^2.26.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.1","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_2.1.3-unstable.202310231610.0_1698077431741_0.6260071300546728","host":"s3://npm-registry-packages"}},"2.1.2":{"name":"@shopify/oxygen-cli","version":"2.1.2","license":"MIT","_id":"@shopify/oxygen-cli@2.1.2","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"e2742b74b4f5c33ba958dcf43be4c64327a58be6","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-2.1.2.tgz","fileCount":72,"integrity":"sha512-Snqs2gvK+L0RhGpMD6LgBNLHQljLHo5UnfoWHfwO1PQu+sgEK6/gF8R+39tLpKz6eiLS4LOJraVhm4eJoORDRQ==","signatures":[{"sig":"MEUCIHSCPlXxPWe2t/96Ix4z/UqVQcLV2ihLF3FtWxGXpaYOAiEA9YZ1sULbLxLlDZGTco6cdA7RELgVnE6biVBHqEeQVcw=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":142040},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"44d66696e258f6a2fdc4874094182c3fc5cbc108","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@bugsnag/js":"^7.21.0","@oclif/core":"3.0.3","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0","@shopify/cli-kit":"^3.49.6"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"devDependencies":{"tsup":"^7.2.0","vite":"^4.4.10","oclif":"^4","eslint":"^8.51.0","vitest":"^0.34.6","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.6.5","@types/async":"^3.2.21","@changesets/cli":"^2.26.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.1","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_2.1.2_1698142264114_0.5673815936413626","host":"s3://npm-registry-packages"}},"2.2.1-unstable.202310241131.0":{"name":"@shopify/oxygen-cli","version":"2.2.1-unstable.202310241131.0","license":"MIT","_id":"@shopify/oxygen-cli@2.2.1-unstable.202310241131.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"39d4859e8b2f6378708acd206cb31d95595a67d1","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-2.2.1-unstable.202310241131.0.tgz","fileCount":75,"integrity":"sha512-7cK8cZxTYDLXVjhORaUMUtFQ+btO8Pn6TkFp/dvspPu8jENtDZYhbykPJV0zSCo3O89/5nUbTZdav89OOTby3A==","signatures":[{"sig":"MEUCIGK3Yt77UB8d4tF8wpTY62TK56+294XfqFKO9N+jxurzAiEA1I5WdIKBv7OUG2v4sSXhXoJxy8kuqEvtGt+u2WGRmqE=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":154657},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"31a65bbe6052f6293e76b08d76f386d5e314b6d5","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@bugsnag/js":"^7.21.0","@oclif/core":"3.0.3","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0","@shopify/cli-kit":"^3.49.6"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.10","oclif":"^4","eslint":"^8.51.0","vitest":"^0.34.6","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.6.5","@types/async":"^3.2.21","@changesets/cli":"^2.26.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.1","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_2.2.1-unstable.202310241131.0_1698147103545_0.1062357164483343","host":"s3://npm-registry-packages"}},"2.2.1-unstable.202310241146.0":{"name":"@shopify/oxygen-cli","version":"2.2.1-unstable.202310241146.0","license":"MIT","_id":"@shopify/oxygen-cli@2.2.1-unstable.202310241146.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"1edac9c9494f83019f2b7639dc5783282b17030d","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-2.2.1-unstable.202310241146.0.tgz","fileCount":75,"integrity":"sha512-ckPJYmbnZ4SHpy5v/e9IhGczhmJaXU7eE5zMI+2zeUoRdNlatUrTNecOiHii+QUwh8SeoOcWgHh2DE8XJz9IOw==","signatures":[{"sig":"MEYCIQDB3wPPxvyfuajSqQBT22x7wYPI6G0sWr8K5y3WNTOvOgIhAJVlo5PAntqwbZZv7tz2/D6QixEMtiZy2QYw+RNzwkFe","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":154657},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"c669b3e4ca00251acc1f027ba60f003f138cf0ce","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@bugsnag/js":"^7.21.0","@oclif/core":"3.0.3","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0","@shopify/cli-kit":"^3.49.6"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.10","oclif":"^4","eslint":"^8.51.0","vitest":"^0.34.6","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.6.5","@types/async":"^3.2.21","@changesets/cli":"^2.26.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.1","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_2.2.1-unstable.202310241146.0_1698147987260_0.7863590499038362","host":"s3://npm-registry-packages"}},"2.2.1-unstable.202310241623.0":{"name":"@shopify/oxygen-cli","version":"2.2.1-unstable.202310241623.0","license":"MIT","_id":"@shopify/oxygen-cli@2.2.1-unstable.202310241623.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"fd0f4fe19fc4ab60e77df58269d0e613612e74f2","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-2.2.1-unstable.202310241623.0.tgz","fileCount":75,"integrity":"sha512-nC8biDA0occFN+Eje1Ho+nXq7cPalZVOqlfctWFujZ2F4uHmlBrfO0oQPBof7KxVHktqDSCAGH8cGJi2x0ZLlA==","signatures":[{"sig":"MEYCIQCwTkiSk0wQ/86+YCgBbR5TcvAfO3IIX3mZ9MkT/Moy5wIhANte98n72Qvda6O/1GCA9V0d+yjPRQTjdkgReAlJQTPA","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":154657},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"b73cd7e493ddc9f004aaeddd1ce9053a317c71c4","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@bugsnag/js":"^7.21.0","@oclif/core":"3.0.3","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0","@shopify/cli-kit":"^3.50.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.10","oclif":"^4","eslint":"^8.51.0","vitest":"^0.34.6","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.6.5","@types/async":"^3.2.21","@changesets/cli":"^2.26.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.1","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_2.2.1-unstable.202310241623.0_1698164604960_0.4757206851222069","host":"s3://npm-registry-packages"}},"2.2.0":{"name":"@shopify/oxygen-cli","version":"2.2.0","license":"MIT","_id":"@shopify/oxygen-cli@2.2.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"67625ffeb3227aee205fed54388e352d63ab343d","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-2.2.0.tgz","fileCount":75,"integrity":"sha512-tZUDcjiXOaO8qANuCprjnckdGGy3QOywLMzHADCsulGKdZQwcUlKViV3x3nprQ06cAt86tsUcN7nzL66T2fg3w==","signatures":[{"sig":"MEUCIQDOSNkywDcmxXcGHyTlqs2sbE0k+ML98HPg2/f0/dBa4wIgUlnhn/64GGJDw78Di3kxOnC7valyEUwHLWogs7bUkkA=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":154609},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"d30edfaddd395e99fdbaceb43ab61f4bc60a85f7","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@bugsnag/js":"^7.21.0","@oclif/core":"3.0.3","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0","@shopify/cli-kit":"^3.50.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"devDependencies":{"tsup":"^7.2.0","vite":"^4.4.10","oclif":"^4","eslint":"^8.51.0","vitest":"^0.34.6","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.6.5","@types/async":"^3.2.21","@changesets/cli":"^2.26.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.1","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_2.2.0_1698164726327_0.17945606576148232","host":"s3://npm-registry-packages"}},"2.2.2-unstable.202310241915.0":{"name":"@shopify/oxygen-cli","version":"2.2.2-unstable.202310241915.0","license":"MIT","_id":"@shopify/oxygen-cli@2.2.2-unstable.202310241915.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"e0cf674fb8b4a8e9a5ac1481650dbf3437779572","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-2.2.2-unstable.202310241915.0.tgz","fileCount":75,"integrity":"sha512-NH6tvpCrKu8mkIWymIAAL+m2P0Wk5q17s9UYnjIsrvUpRJ8+bxUc5F6NRVNP3JKrcyizgs5osdPwZ7m35eHrXw==","signatures":[{"sig":"MEYCIQCEfKUSjOuMXZkqbCy8DTpbcHOi/0FiOW1L5dQ2VS/t9QIhANiY8nrTKqlMTfEUUr8eq/ebsy/+mdoDINhK6btR4KIC","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":154657},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"e93b29f5d372bc9f5dd0c5ebbfd4caf24d2e310d","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@bugsnag/js":"^7.21.0","@oclif/core":"3.0.3","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0","@shopify/cli-kit":"^3.50.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.10","oclif":"^4","eslint":"^8.52.0","vitest":"^0.34.6","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.6.5","@types/async":"^3.2.21","@changesets/cli":"^2.26.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.1","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_2.2.2-unstable.202310241915.0_1698174917518_0.2112708908000831","host":"s3://npm-registry-packages"}},"2.3.1-unstable.202310251117.0":{"name":"@shopify/oxygen-cli","version":"2.3.1-unstable.202310251117.0","license":"MIT","_id":"@shopify/oxygen-cli@2.3.1-unstable.202310251117.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"07a6e3069f6d5dcf40e0672ec7350ad61593395b","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-2.3.1-unstable.202310251117.0.tgz","fileCount":75,"integrity":"sha512-jPppj+9GzIIuRKK2+XRAVhTGqNSVXGmOs4Nd3h+/JOd5PNSNi7YfmeFlrk/rNDvj2asij5hpGwPGxRQuCHAUcQ==","signatures":[{"sig":"MEYCIQDBRxaoNYddHCx6e6OcivGQnqhnCyRXJLGfFzhuqZhmJwIhAK1DanEFb3ze6icFDejxjS4s86F3oSlRtKZ67lTAm47j","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":155958},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"4f03de8abafc270a09032434473cea3a003aaf1b","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@bugsnag/js":"^7.21.0","@oclif/core":"3.0.3","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0","@shopify/cli-kit":"^3.50.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.10","oclif":"^4","eslint":"^8.52.0","vitest":"^0.34.6","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.6.5","@types/async":"^3.2.21","@changesets/cli":"^2.26.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.1","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_2.3.1-unstable.202310251117.0_1698232677931_0.7047207179965334","host":"s3://npm-registry-packages"}},"2.3.0":{"name":"@shopify/oxygen-cli","version":"2.3.0","license":"MIT","_id":"@shopify/oxygen-cli@2.3.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"5271bb79ae647c6572512073a1627f8637b25bca","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-2.3.0.tgz","fileCount":75,"integrity":"sha512-SX2Go9515MMgZmgkYg11FJXrLId32DjXbMcF+aKsg8tGklSE48yz7sMryb/dale0SHZtcEQ1jJreYtDWV93qAg==","signatures":[{"sig":"MEUCIHpMPiCK4syy3P/DY4KPTIwPSIQU7BtRAxqAlL2ESb8uAiEAw6sBayr0yE4MADxH8FpOGm1v/xd1ozmDrE0TXvSCmpA=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":155910},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"7d1032c75bc27f7c40e6920fe3ed4104dbec1161","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@bugsnag/js":"^7.21.0","@oclif/core":"3.0.3","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0","@shopify/cli-kit":"^3.50.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"devDependencies":{"tsup":"^7.2.0","vite":"^4.4.10","oclif":"^4","eslint":"^8.52.0","vitest":"^0.34.6","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.6.5","@types/async":"^3.2.21","@changesets/cli":"^2.26.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.1","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_2.3.0_1698232876277_0.3810443534081489","host":"s3://npm-registry-packages"}},"2.3.2-unstable.202310261005.0":{"name":"@shopify/oxygen-cli","version":"2.3.2-unstable.202310261005.0","license":"MIT","_id":"@shopify/oxygen-cli@2.3.2-unstable.202310261005.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"38fbe79c76ffa26d285da955c164de1b89ba9b54","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-2.3.2-unstable.202310261005.0.tgz","fileCount":75,"integrity":"sha512-W5qm8yQ2vc1S1RrNqd8gWeH+aQw0SnNZwlM314A19lLX/U60AwuuQsmzQKLfi4WFVFlIO2YcaTJ+DMmYivz1BQ==","signatures":[{"sig":"MEUCIFslloBjnu8OjYMNBiTZFPEGa/o5a+PVT9AyaFujL5SkAiEAm2lU7S7z+vPj3Yc5ssYVqu8RGpLSthZlxZ6ljWedbLg=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":157098},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"70f068a87d4f7ec33ed3b14aabdb8fac2c55bfb0","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@bugsnag/js":"^7.21.0","@oclif/core":"3.0.3","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0","@shopify/cli-kit":"^3.50.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.10","oclif":"^4","eslint":"^8.52.0","vitest":"^0.34.6","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.6.5","@types/async":"^3.2.21","@changesets/cli":"^2.26.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.1","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_2.3.2-unstable.202310261005.0_1698314751321_0.0992761937674167","host":"s3://npm-registry-packages"}},"2.3.2-unstable.202310261009.0":{"name":"@shopify/oxygen-cli","version":"2.3.2-unstable.202310261009.0","license":"MIT","_id":"@shopify/oxygen-cli@2.3.2-unstable.202310261009.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"0a01a31ae3806d24290b18167975b87836510cc4","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-2.3.2-unstable.202310261009.0.tgz","fileCount":75,"integrity":"sha512-JL1ac0Lo4xdhgAd9bTaHVoFVWVCclRNroWKteCLeg/Dklkm9ZulDTH+2AWP+ZiVw9QxcJ9cc0+JSTQldEHj7Tg==","signatures":[{"sig":"MEUCIQDCoVuW1KAiW4XbS/VP67nGhGMu/66CwYOwEwyWj3Yz7AIgZ7IkiDQmTCfNJTmBCLDlpnUJmf6rdoby9u4eSeYR92o=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":157215},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"71c92360d5fcdccb443e6c6bd9aec25c95018d83","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@bugsnag/js":"^7.21.0","@oclif/core":"3.0.3","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0","@shopify/cli-kit":"^3.50.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.10","oclif":"^4","eslint":"^8.52.0","vitest":"^0.34.6","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.6.5","@types/async":"^3.2.21","@changesets/cli":"^2.26.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.1","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_2.3.2-unstable.202310261009.0_1698315002484_0.20211577649733914","host":"s3://npm-registry-packages"}},"2.3.3-unstable.202310261013.0":{"name":"@shopify/oxygen-cli","version":"2.3.3-unstable.202310261013.0","license":"MIT","_id":"@shopify/oxygen-cli@2.3.3-unstable.202310261013.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"0a973130154ec7700f04117b91872a28841c2dab","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-2.3.3-unstable.202310261013.0.tgz","fileCount":75,"integrity":"sha512-Y2pLowto6Sf5NOpT7NqEcUHkLQi4+Gj3IZvOLyNH/vJBZiSqHiFEcrLz/GFHHnlnHtmV019C237aAJXNpkStoA==","signatures":[{"sig":"MEUCIEQnxZlja/P4/9b+n5e9kZ3wJ9NNFqFqmml9lJYj3pTQAiEAlC+pHwx9wfmcgA6lBlb1d2EwZcgqdIAhG8fMdC/YAMI=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":157215},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"df03adaa76081ea0a7737dd01c1a3648c7de023c","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@bugsnag/js":"^7.21.0","@oclif/core":"3.8.0","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0","@shopify/cli-kit":"^3.50.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.10","oclif":"^4","eslint":"^8.52.0","vitest":"^0.34.6","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.6.5","@types/async":"^3.2.21","@changesets/cli":"^2.26.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.1","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_2.3.3-unstable.202310261013.0_1698315218375_0.589048576651779","host":"s3://npm-registry-packages"}},"2.3.2":{"name":"@shopify/oxygen-cli","version":"2.3.2","license":"MIT","_id":"@shopify/oxygen-cli@2.3.2","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"f885cd206b8de8950bab73faf220f1d11f122f2d","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-2.3.2.tgz","fileCount":75,"integrity":"sha512-Wy/u6aERtmsqN6V0i672iU5xGQu/gha1lsk4al/nA0dhRB7JTd9XHxpH81hV7GFXrEqPLtoEBVNzd4wj8UWmWw==","signatures":[{"sig":"MEQCIHpD7YA9NUJ9lQXFOHbAUrH1EHMLNJFqYNTtMNE4SQ6NAiAWTpbA1UVF07fagnuIv4oXPcFCHN/7N6HFERnMkj6ULg==","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":157167},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"ff08f1a8b443ec1d327c7c83482abbbf66ee19b4","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@bugsnag/js":"^7.21.0","@oclif/core":"3.8.0","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0","@shopify/cli-kit":"^3.50.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"devDependencies":{"tsup":"^7.2.0","vite":"^4.4.10","oclif":"^4","eslint":"^8.52.0","vitest":"^0.34.6","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.6.5","@types/async":"^3.2.21","@changesets/cli":"^2.26.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.1","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_2.3.2_1698319946583_0.6130495526380624","host":"s3://npm-registry-packages"}},"2.4.1-unstable.202310270943.0":{"name":"@shopify/oxygen-cli","version":"2.4.1-unstable.202310270943.0","license":"MIT","_id":"@shopify/oxygen-cli@2.4.1-unstable.202310270943.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"58240567d3b31f3a7a3b2db63694e056d39457b4","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-2.4.1-unstable.202310270943.0.tgz","fileCount":75,"integrity":"sha512-GSTpLCnxc3AwXiA1MlK6c22meukQ765ckJGVZxc8dnyyXaIbJ0jEQA+hUMs+CHMmOxr2pORZM7ZsdmH1l2Wt/g==","signatures":[{"sig":"MEUCID5dtr5njgEEOnFQPBDrjAYmGDepyW2fZBDBR7GNBVY3AiEAy/XtCZGbf+/C8VFbEDW/lcSbO5VRqF15HZDl2tzG9ko=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":157679},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"9da4c45eedfbf74243336811145064a9ba5416a4","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@bugsnag/js":"^7.21.0","@oclif/core":"3.8.0","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0","@shopify/cli-kit":"^3.50.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.10","oclif":"^4","eslint":"^8.52.0","vitest":"^0.34.6","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.6.5","@types/async":"^3.2.21","@changesets/cli":"^2.26.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.1","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_2.4.1-unstable.202310270943.0_1698399821183_0.7345515656754509","host":"s3://npm-registry-packages"}},"2.4.1-unstable.202310270948.0":{"name":"@shopify/oxygen-cli","version":"2.4.1-unstable.202310270948.0","license":"MIT","_id":"@shopify/oxygen-cli@2.4.1-unstable.202310270948.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"6d9319c88db87aec837c20111592acd9a29b63e5","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-2.4.1-unstable.202310270948.0.tgz","fileCount":75,"integrity":"sha512-4rTBhNngM4w3E+pJm7PqTw4+BJMVA/utcpqnsSy1QZeAYA3JcQ6qJ817Q1gOGBpI9iwGUb/u6mJyjTQKfahLTA==","signatures":[{"sig":"MEUCIQCP2Zz8m+w19i5dW6QjVo5HarQHrY8ozPWeQaia1F5TDQIgfcrhi3u34G6K82q2mTtE4yQl34JARMUm3ughBiJ+dgg=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":157679},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"7f72d6a8bb104e723f82fde2b8ea6b5ea44aa748","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@bugsnag/js":"^7.21.0","@oclif/core":"3.8.0","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0","@shopify/cli-kit":"^3.50.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.10","oclif":"^4","eslint":"^8.52.0","vitest":"^0.34.6","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.8.9","@types/async":"^3.2.21","@changesets/cli":"^2.26.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.1","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_2.4.1-unstable.202310270948.0_1698400149001_0.9538987646047086","host":"s3://npm-registry-packages"}},"2.4.0":{"name":"@shopify/oxygen-cli","version":"2.4.0","license":"MIT","_id":"@shopify/oxygen-cli@2.4.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"4729c7511d93ea0d9299fc93cf2002b800a7b500","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-2.4.0.tgz","fileCount":75,"integrity":"sha512-lg8uPyfxhi1Yz/LXEEuxGBSR3aaBC5EcptzOhbgheIEcalwuDaLOdYnM366/KEz/QGLZFSO6MIhzGdjlAx02Sw==","signatures":[{"sig":"MEUCICt4uhQeOUvIhdMDhg9LqY81eZEeYwpnFKW5ioBv5VaqAiEA8vj5VGhfbTIFWGabWvrdsok6HRXmwZx5AOGRSMtP3Mw=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":157631},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"b300144391111e449b004451dc4bc816759297a9","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@bugsnag/js":"^7.21.0","@oclif/core":"3.8.0","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0","@shopify/cli-kit":"^3.50.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"devDependencies":{"tsup":"^7.2.0","vite":"^4.4.10","oclif":"^4","eslint":"^8.52.0","vitest":"^0.34.6","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.8.9","@types/async":"^3.2.21","@changesets/cli":"^2.26.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.1","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_2.4.0_1698400817828_0.02516880357243423","host":"s3://npm-registry-packages"}},"2.4.2-unstable.202310271439.0":{"name":"@shopify/oxygen-cli","version":"2.4.2-unstable.202310271439.0","license":"MIT","_id":"@shopify/oxygen-cli@2.4.2-unstable.202310271439.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"0b26a2bc56badf6e070c6d74b8102d0c68635e64","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-2.4.2-unstable.202310271439.0.tgz","fileCount":75,"integrity":"sha512-D1CR3BY0wH5eRGuGqJFcVXxixnEwVwedR3Cm0zYFm1U4PXJWZYFq2soSMLjNEZ8Wl4+aDnXLVRM6PiPAtTCrZA==","signatures":[{"sig":"MEQCIGOOjlx2oirzfE7SX8Q+TyA/bZAZjFpa6W2cYG++qBpQAiAJ1ArnwdlVGNCYPr+yIdZq4PzUMbCaaOHFf4PwyZktxg==","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":157679},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"613ce0680d25386b379da8ab25e721ee7222b5cb","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@bugsnag/js":"^7.21.0","@oclif/core":"3.9.0","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0","@shopify/cli-kit":"^3.50.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.10","oclif":"^4","eslint":"^8.52.0","vitest":"^0.34.6","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.8.9","@types/async":"^3.2.21","@changesets/cli":"^2.26.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.1","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_2.4.2-unstable.202310271439.0_1698417576109_0.7306280059247243","host":"s3://npm-registry-packages"}},"2.4.2-unstable.202310301421.0":{"name":"@shopify/oxygen-cli","version":"2.4.2-unstable.202310301421.0","license":"MIT","_id":"@shopify/oxygen-cli@2.4.2-unstable.202310301421.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"1b165f11e7d74998204013a9dfc2d56204fd370f","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-2.4.2-unstable.202310301421.0.tgz","fileCount":75,"integrity":"sha512-1BxbnY3urxp+EOclFq/FGNKDUujEGkPE6V8fK9Aas5EJU+pbCnaMzOeQu2f9qG1FyuS7poGIWJC00Fdo4857GQ==","signatures":[{"sig":"MEUCIA1JlSNFJHxg/j96Ug+hEzTZoJmuudxSCWZ/Y5sP2GlMAiEAzqiZYshlXGk2Vnwd1/CULjNUIeLlrKiOQ7NH5pub6+w=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":157679},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"73419d827c4ed76554c458d9bf380dfc348a428d","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@bugsnag/js":"^7.21.0","@oclif/core":"3.9.1","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0","@shopify/cli-kit":"^3.50.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.10","oclif":"^4","eslint":"^8.52.0","vitest":"^0.34.6","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.8.9","@types/async":"^3.2.21","@changesets/cli":"^2.26.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.1","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_2.4.2-unstable.202310301421.0_1698675700374_0.016980369832909403","host":"s3://npm-registry-packages"}},"2.4.1":{"name":"@shopify/oxygen-cli","version":"2.4.1","license":"MIT","_id":"@shopify/oxygen-cli@2.4.1","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"87c1565611f961b7e3f2ede9a9edcb854c93f53c","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-2.4.1.tgz","fileCount":75,"integrity":"sha512-HeMvJHfnez0ROrlGoyDcwe2QgZR1CSTwCQCpy01JOecq3atVragMcvtZpfz5MAmQRpLE6vnu0G3xj0h+Opj+UQ==","signatures":[{"sig":"MEYCIQCTjJZHTlIxtjz9uXH9xv2kLgmYGHtxJ6KnHxoMeGm7XwIhAJmNepOHtFjY/Fy2EUT5uohXIAMdQQ1TVHNE0yyblwq6","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":157631},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"4dafa2118cc6987eef6205027d54bbfae3b7d6ba","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@bugsnag/js":"^7.21.0","@oclif/core":"3.9.1","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0","@shopify/cli-kit":"^3.50.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"devDependencies":{"tsup":"^7.2.0","vite":"^4.4.10","oclif":"^4","eslint":"^8.52.0","vitest":"^0.34.6","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.8.9","@types/async":"^3.2.21","@changesets/cli":"^2.26.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.1","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_2.4.1_1698758683988_0.4358530696410601","host":"s3://npm-registry-packages"}},"2.4.3-unstable.202310311458.0":{"name":"@shopify/oxygen-cli","version":"2.4.3-unstable.202310311458.0","license":"MIT","_id":"@shopify/oxygen-cli@2.4.3-unstable.202310311458.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"c8c4764642099ca75b297c17d917cefd1127d026","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-2.4.3-unstable.202310311458.0.tgz","fileCount":75,"integrity":"sha512-2PcZuaNvZnH2znjMFILucn2uh0yf40dwR3WtTRTrDdNWot5+BUq7Sxfcd8xvTc89oa1nuoBXzC2/tTnC+WocVw==","signatures":[{"sig":"MEYCIQDdZx/dsW9S9aP+Vog8jx27dqBRTsoWA7rmLA8NeJGccwIhANEef3G855QxxM3dO9sjFOAySMA7jsxvki3MKVA/+zX4","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":157680},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"02c7de8967dac790cfa6e7240940f6e8ce694ff9","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@bugsnag/js":"^7.21.0","@oclif/core":"3.9.1","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0","@shopify/cli-kit":"^3.50.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.10","oclif":"^4","eslint":"^8.52.0","vitest":"^0.34.6","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.8.10","@types/async":"^3.2.21","@changesets/cli":"^2.26.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.1","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_2.4.3-unstable.202310311458.0_1698764328774_0.31114104565127265","host":"s3://npm-registry-packages"}},"2.4.3-unstable.202310311504.0":{"name":"@shopify/oxygen-cli","version":"2.4.3-unstable.202310311504.0","license":"MIT","_id":"@shopify/oxygen-cli@2.4.3-unstable.202310311504.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"ebc793541cadf34d58e29938326b7b428dd359bc","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-2.4.3-unstable.202310311504.0.tgz","fileCount":75,"integrity":"sha512-YM0JjQJha1yD7U+ajhWMrymz1/V+QjveGMlw6KQLSUH2UOZ0zu97lTGKJFBAvQwwXppX8kV6tTOI67+/1Uy+LQ==","signatures":[{"sig":"MEYCIQCM55Aa80MKKgESwiZ7zM0DqGDdER6wj8hWqLarow6q3QIhAPgrSo/+G0IRohztApQPE+rFCNXwe/tlN7+fRxsR1sAj","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":157680},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"31ab9d86bc5014b5f337658f7452b1de5c008bc0","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@bugsnag/js":"^7.21.0","@oclif/core":"3.9.2","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0","@shopify/cli-kit":"^3.50.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.10","oclif":"^4","eslint":"^8.52.0","vitest":"^0.34.6","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.8.10","@types/async":"^3.2.21","@changesets/cli":"^2.26.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.1","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_2.4.3-unstable.202310311504.0_1698764688221_0.9914793894743994","host":"s3://npm-registry-packages"}},"2.4.2":{"name":"@shopify/oxygen-cli","version":"2.4.2","license":"MIT","_id":"@shopify/oxygen-cli@2.4.2","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"5dfc7b93a5d99101fa4686db0d46e233d53319c1","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-2.4.2.tgz","fileCount":75,"integrity":"sha512-On8eOCeZHHgnVEsV0+scvIHmIdpQGk056erv+InK9UQeSCnDHiJEota/5UvaialcoANRhKmdF4hea5k+yyAV/Q==","signatures":[{"sig":"MEQCIF3gDGGMrEReMK9ftvas1l24Nhno2kmp7WwgnUUvoLY8AiA0XdEJJjkvJ82KKxs12H5wiw9AtHD3PEUIaYOg/WuYkg==","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":157632},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"f0c5c9414e98187704a7017b789a84007091b1ca","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@bugsnag/js":"^7.21.0","@oclif/core":"3.9.2","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0","@shopify/cli-kit":"^3.50.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"devDependencies":{"tsup":"^7.2.0","vite":"^4.4.10","oclif":"^4","eslint":"^8.52.0","vitest":"^0.34.6","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.8.10","@types/async":"^3.2.21","@changesets/cli":"^2.26.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.1","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_2.4.2_1698847007054_0.923433342935492","host":"s3://npm-registry-packages"}},"2.4.4-unstable.202311011512.0":{"name":"@shopify/oxygen-cli","version":"2.4.4-unstable.202311011512.0","license":"MIT","_id":"@shopify/oxygen-cli@2.4.4-unstable.202311011512.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"1091b6a73a149bd8e4062294361c03fd2f79f267","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-2.4.4-unstable.202311011512.0.tgz","fileCount":75,"integrity":"sha512-MYRNevY4JMDvCER5G3oIOQqdH+e9AaZEVsjdnnSk0uNg/bS5ibbPlQ5EYtblc3W1Sdw35dtiM5U+Z6fdJyo8Rw==","signatures":[{"sig":"MEUCIQCgTSCBWKO7A55Xv/sSE1uOHszJGVgWEbepUP4II7UvxwIgJuz1SdYGTThFStcHqkHxFiIcuxCIHlYQD1fEK825BBM=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":157680},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"7dc72a1212b41b1238e071d772238ca743e11b9d","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@bugsnag/js":"^7.21.0","@oclif/core":"3.9.2","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0","@shopify/cli-kit":"^3.50.1"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.10","oclif":"^4","eslint":"^8.52.0","vitest":"^0.34.6","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.8.10","@types/async":"^3.2.21","@changesets/cli":"^2.26.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.1","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_2.4.4-unstable.202311011512.0_1698851549693_0.6427433851655164","host":"s3://npm-registry-packages"}},"2.4.4-unstable.202311021422.0":{"name":"@shopify/oxygen-cli","version":"2.4.4-unstable.202311021422.0","license":"MIT","_id":"@shopify/oxygen-cli@2.4.4-unstable.202311021422.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"d5997d23b994452c57a09ec1b0215ca4a5a185aa","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-2.4.4-unstable.202311021422.0.tgz","fileCount":75,"integrity":"sha512-VfV7J70w77+Eu8wMiduGY9uRyqUOGFB7o8TgDMIjWEvIO24K3Bds7BWQ30Sm7dhSdwQKUaAYR/4uRQ/NOuNGCA==","signatures":[{"sig":"MEYCIQDjNAJYj8mDoSFibdCMbdliR2IcJFlozZyMguiNHp1Q4gIhAJjwU8AuS2PA69S7741roxFO/CnvYs3Te0TCLJhXctar","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":157680},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"0a2170e9dbd95af5ab86cb09925ed5e410c8f1ad","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@bugsnag/js":"^7.21.0","@oclif/core":"3.9.2","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0","@shopify/cli-kit":"^3.50.2"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.10","oclif":"^4","eslint":"^8.52.0","vitest":"^0.34.6","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.8.10","@types/async":"^3.2.21","@changesets/cli":"^2.26.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.1","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_2.4.4-unstable.202311021422.0_1698934989152_0.8227523605643514","host":"s3://npm-registry-packages"}},"2.4.4-unstable.202311022210.0":{"name":"@shopify/oxygen-cli","version":"2.4.4-unstable.202311022210.0","license":"MIT","_id":"@shopify/oxygen-cli@2.4.4-unstable.202311022210.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"f0deddb0bbba0cd9714372f3eae2f61a089c65cb","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-2.4.4-unstable.202311022210.0.tgz","fileCount":75,"integrity":"sha512-oexBC+UI2nOagptZJsIYps/SGQ4NarBm8GnFAR2LKXKQw7h0f3uv3QsI0f2NtzHbNpC+bCbqt42Vj6DCT7LyHQ==","signatures":[{"sig":"MEYCIQD+bmWfb1yGkdD3Q6oo6zW/bEx9/LdS8LLfHVG0lk38/AIhAK9i5LSLA01g9hvOud4G3ph0S5/LYFt1fGRC2Y3BeqWz","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":157680},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"b3bfd19f76bf58cc94a554069462543a248dfed8","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@bugsnag/js":"^7.21.0","@oclif/core":"3.9.2","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0","@shopify/cli-kit":"^3.50.2"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.10","oclif":"^4","eslint":"^8.52.0","vitest":"^0.34.6","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.8.10","@types/async":"^3.2.21","@changesets/cli":"^2.26.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.1","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_2.4.4-unstable.202311022210.0_1698963057930_0.9954518755321813","host":"s3://npm-registry-packages"}},"2.4.4-unstable.202311031420.0":{"name":"@shopify/oxygen-cli","version":"2.4.4-unstable.202311031420.0","license":"MIT","_id":"@shopify/oxygen-cli@2.4.4-unstable.202311031420.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"df5bb5916b2952bcb162f4d2fab7a64d6ec6af3c","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-2.4.4-unstable.202311031420.0.tgz","fileCount":75,"integrity":"sha512-6a1NFQAM8cKfLFntXld2tnY4+MH8/IDzvpCVeFEHDao8p09iGsPzo7sXCHhGjAnZhHpRySgSx3hv5ny/0AlQvA==","signatures":[{"sig":"MEQCIG48VyENkCPX2M/rvYtVSIbZISfky0jBKyQPAmIEVNK/AiAKGBD6SAPJIgnE0IhXy9P6RzFdHnHzri0V6KppmAGzDg==","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":157681},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"6965deec573a63eb4eadd2394e6179c91b9cc870","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@bugsnag/js":"^7.21.0","@oclif/core":"3.10.0","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0","@shopify/cli-kit":"^3.50.2"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.10","oclif":"^4","eslint":"^8.52.0","vitest":"^0.34.6","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.8.10","@types/async":"^3.2.21","@changesets/cli":"^2.26.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.1","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_2.4.4-unstable.202311031420.0_1699021249008_0.3647705741147531","host":"s3://npm-registry-packages"}},"2.4.4-unstable.202311031525.0":{"name":"@shopify/oxygen-cli","version":"2.4.4-unstable.202311031525.0","license":"MIT","_id":"@shopify/oxygen-cli@2.4.4-unstable.202311031525.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"fd1b490da48e1485685702d622776584361b42c0","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-2.4.4-unstable.202311031525.0.tgz","fileCount":75,"integrity":"sha512-Ux1nR8vD38niGzpCAl9uCZrofHQoag6RlTRsgt9JcU6mZ7Zqt+r1ZakaUVVLUKNzf+/KcXGPYoAGXObSbA3N0Q==","signatures":[{"sig":"MEUCIBa5sGxUg0ABKS0bK7mi98KIEiLSF6cY4C99Ek8SzYRpAiEAr0QeDWsUqvjNL0HzHoadEc/ITRw+y/IpMc2fa4wj3l4=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":155258},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"7d16a5abc353d3470a7d8be116cf44c43df2dbc4","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@bugsnag/js":"^7.21.0","@oclif/core":"3.10.0","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0","@shopify/cli-kit":"^3.50.2"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.10","oclif":"^4","eslint":"^8.52.0","vitest":"^0.34.6","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.8.10","@types/async":"^3.2.21","@changesets/cli":"^2.26.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.1","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_2.4.4-unstable.202311031525.0_1699025134455_0.7727123343393103","host":"s3://npm-registry-packages"}},"2.4.4-unstable.202311031755.0":{"name":"@shopify/oxygen-cli","version":"2.4.4-unstable.202311031755.0","license":"MIT","_id":"@shopify/oxygen-cli@2.4.4-unstable.202311031755.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"2f4f24b17d2c44dae7fa61068bdb9ece0edbcc3c","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-2.4.4-unstable.202311031755.0.tgz","fileCount":75,"integrity":"sha512-pmRAzJY0Du+Py6YV4PWyS883M4hVAGtEDnlPwn4vXux551UFL+1byE523PEZ7dDiVNnxtL3AH8lL1ktSgMbXIw==","signatures":[{"sig":"MEYCIQD+GJXZE41E5hqYQhxNr7/N6cxk4f1THuZDTjb31M8XNAIhANtDWaW0LX0o84Fsn4ZbaJlOdNeWyeN+MhP/2f30Eyvp","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":155258},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"c2fff94bc19c4d4af08decdd379c106290bee104","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.4","@bugsnag/js":"^7.21.0","@oclif/core":"3.10.0","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0","@shopify/cli-kit":"^3.50.2"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.10","oclif":"^4","eslint":"^8.52.0","vitest":"^0.34.6","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.8.10","@types/async":"^3.2.21","@changesets/cli":"^2.26.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.1","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_2.4.4-unstable.202311031755.0_1699034139053_0.7423138094308428","host":"s3://npm-registry-packages"}},"2.4.4-unstable.202311061555.0":{"name":"@shopify/oxygen-cli","version":"2.4.4-unstable.202311061555.0","license":"MIT","_id":"@shopify/oxygen-cli@2.4.4-unstable.202311061555.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"2e5b09650081f187879bf1cf4341622e29810171","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-2.4.4-unstable.202311061555.0.tgz","fileCount":75,"integrity":"sha512-o7ZIz0NDh2OTKdzRRoi7Zuaz0lLbtrmZQiaLw2/bhUuHI7V3USdDmaUMYosu86kIuS3hyig4LhzMFxKyGeWVYw==","signatures":[{"sig":"MEUCIBfR9bq9biS//GBaiQvObdiGhH5QxYzr3U2lRlHmsZZUAiEAqyLvLtkIfzUej+DZZIAWhzcZs8zXXCDc9mluf2hw1JQ=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":155258},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"b4096ad5fc91dacef26436ca65e278fbf7ee2d35","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.21.0","@oclif/core":"3.10.1","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0","@shopify/cli-kit":"^3.50.2"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.10","oclif":"^4","eslint":"^8.53.0","vitest":"^0.34.6","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.8.10","@types/async":"^3.2.21","@changesets/cli":"^2.26.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.1","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_2.4.4-unstable.202311061555.0_1699286139867_0.11967870608889353","host":"s3://npm-registry-packages"}},"2.4.4-unstable.202311061604.0":{"name":"@shopify/oxygen-cli","version":"2.4.4-unstable.202311061604.0","license":"MIT","_id":"@shopify/oxygen-cli@2.4.4-unstable.202311061604.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"0f8ec010f0dd12c8206185c4db954a6503fdd855","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-2.4.4-unstable.202311061604.0.tgz","fileCount":75,"integrity":"sha512-R+WS5kNPCcRcHJS0iqxbfv+FhNZDk2ZL9jEhdSAaByZerTlU8+hAtUD0JCPfathg8N6GIAu6vybE/DT9X05M4A==","signatures":[{"sig":"MEUCIQDFsy2RKY4EChK6zZM2RP4fNWnLrzjQ9DCrSaBI1dwUBwIgDL6wUm7HwlgE1jETKYQNc3Sb5399dgCP2Svq5pgw6lI=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":155258},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"e8bd01915c556f725ad8f497d53d882bc4378220","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.21.0","@oclif/core":"3.10.1","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0","@shopify/cli-kit":"^3.50.2"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.10","oclif":"^4","eslint":"^8.53.0","vitest":"^0.34.6","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.8.10","@types/async":"^3.2.21","@changesets/cli":"^2.26.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.1","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_2.4.4-unstable.202311061604.0_1699286694161_0.11670460656199522","host":"s3://npm-registry-packages"}},"2.4.4-unstable.202311061740.0":{"name":"@shopify/oxygen-cli","version":"2.4.4-unstable.202311061740.0","license":"MIT","_id":"@shopify/oxygen-cli@2.4.4-unstable.202311061740.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"61f4dddf14528da6ab7d4babb935d987a26f94e1","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-2.4.4-unstable.202311061740.0.tgz","fileCount":75,"integrity":"sha512-yZlxCD5tGzXQ7Fu1a/M+A4viBDrYuWYuxeUwNPPw4nQhKTtg/o7wpPzMmzBKdYqdmB13hEeO/yPJlkews+FF8w==","signatures":[{"sig":"MEQCIER9LNEuuF904fY2jJSoLz1sFPEyGDDmDWAsI1hZDD7OAiAQ71Wn7abRtCSOeJij0daC1c8woFZJgTthhZf3MQg0sg==","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":155359},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"b1742e46f56e1f4a0faae5669dad9e061308cb3d","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.21.0","@oclif/core":"3.10.1","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0","@shopify/cli-kit":"^3.50.2"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.10","oclif":"^4","eslint":"^8.53.0","vitest":"^0.34.6","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.8.10","@types/async":"^3.2.21","@changesets/cli":"^2.26.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.1","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_2.4.4-unstable.202311061740.0_1699292439556_0.8730211707429001","host":"s3://npm-registry-packages"}},"2.4.3":{"name":"@shopify/oxygen-cli","version":"2.4.3","license":"MIT","_id":"@shopify/oxygen-cli@2.4.3","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"588c5098743f1867d8e0e178b1905518c11ecd2d","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-2.4.3.tgz","fileCount":75,"integrity":"sha512-YKjmXsH8S5O29q/uEEzxs8mMl9PBkoLGAVwVlxGcTFBAEmF8NjJX+EjPwbI3pQQw+ddsfq/EZjU2OhCCHPJ6uw==","signatures":[{"sig":"MEUCIE2UuPZzC/3rrBkrLc1ActteTM3p7N8MgWvIKBIgcVDOAiEA28KNY+hvJllEhwhPPi/vcjh5OHFPVrmMDO4GgsexiSw=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":155311},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"1e41469ccd2f98ffb254436ce4888234be474486","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.21.0","@oclif/core":"3.10.1","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0","@shopify/cli-kit":"^3.50.2"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"devDependencies":{"tsup":"^7.2.0","vite":"^4.4.10","oclif":"^4","eslint":"^8.53.0","vitest":"^0.34.6","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.8.10","@types/async":"^3.2.21","@changesets/cli":"^2.26.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.1","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_2.4.3_1699293315423_0.37882161628359867","host":"s3://npm-registry-packages"}},"2.5.1-unstable.202311071457.0":{"name":"@shopify/oxygen-cli","version":"2.5.1-unstable.202311071457.0","license":"MIT","_id":"@shopify/oxygen-cli@2.5.1-unstable.202311071457.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"647f9d668825229779eb880203d110eb09459452","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-2.5.1-unstable.202311071457.0.tgz","fileCount":75,"integrity":"sha512-OWn2Eeqv/JzXpAHTQcbbmXGC6YrtgF0+TJfPk4/Z0k379Ns2yXtik8w98OALDdd5UKMdNNuTD5838LzoIMCSNg==","signatures":[{"sig":"MEUCID2v3UBLHL5WN3Cse2X4lugm5jF5cI7crXkG8w8iVKr2AiEAho7L/JE0gRa3OEzO26tcve9qKxuBQWcXvg7c9yj98wI=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":156199},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"1897591cbeb944105c039a54c5cb791daffca15a","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.21.0","@oclif/core":"3.10.1","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0","@shopify/cli-kit":"^3.50.2"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.10","oclif":"^4","eslint":"^8.53.0","vitest":"^0.34.6","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.8.10","@types/async":"^3.2.21","@changesets/cli":"^2.26.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.1","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_2.5.1-unstable.202311071457.0_1699369084783_0.5388476139846297","host":"s3://npm-registry-packages"}},"2.5.0":{"name":"@shopify/oxygen-cli","version":"2.5.0","license":"MIT","_id":"@shopify/oxygen-cli@2.5.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"19bf120cb9d7d874910859abbc6335f75f3e1af2","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-2.5.0.tgz","fileCount":75,"integrity":"sha512-OXJT0qzTggMqpTBlZ5JliCUP6ePRpRQlDATgRo2k3x2NDcrUOevZZZXYqpI5TnmhbrJz6lLuUB/x8Dgt6c8dIw==","signatures":[{"sig":"MEYCIQDhDOxDJdKXFdClbd5FhikUCNkqrpqcE1UoEFPEx0GtHwIhAMxk9B6XtM8We86UrxG4n8W9OMvrX9VxGFMHulMwV3tr","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":156151},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"cf093deccc8df87de4657175fe7d5fb18d24c035","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.21.0","@oclif/core":"3.10.1","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0","@shopify/cli-kit":"^3.50.2"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"devDependencies":{"tsup":"^7.2.0","vite":"^4.4.10","oclif":"^4","eslint":"^8.53.0","vitest":"^0.34.6","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.8.10","@types/async":"^3.2.21","@changesets/cli":"^2.26.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.1","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_2.5.0_1699369794042_0.9099829653367979","host":"s3://npm-registry-packages"}},"2.5.2-unstable.202311071539.0":{"name":"@shopify/oxygen-cli","version":"2.5.2-unstable.202311071539.0","license":"MIT","_id":"@shopify/oxygen-cli@2.5.2-unstable.202311071539.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"07410e21e578fbff1da8b646cdbe0dfdad097087","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-2.5.2-unstable.202311071539.0.tgz","fileCount":75,"integrity":"sha512-onn3H+PXet77lLnGKBATQ/TbY9Rp4j5IPEFLgUrKp5RKGMGXdt2Z4jY3GM16WkhPBlC2euLhztqwHESr9iA5EA==","signatures":[{"sig":"MEQCIDotA6jTdte3hBPuacIHahqh93z38XpqkyHIJNYnvvg7AiA5wyUoDIrLGPbvp375Fc0ZSvgMZ4Ylqnp26N9fOmIrRQ==","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":156199},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"731efe2a320fe6f126faed562d7ad1f0b461a454","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.21.0","@oclif/core":"3.10.6","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0","@shopify/cli-kit":"^3.50.2"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.10","oclif":"^4","eslint":"^8.53.0","vitest":"^0.34.6","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.8.10","@types/async":"^3.2.23","@changesets/cli":"^2.26.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.1","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_2.5.2-unstable.202311071539.0_1699371566832_0.42775702167877694","host":"s3://npm-registry-packages"}},"2.6.1-unstable.202311081249.0":{"name":"@shopify/oxygen-cli","version":"2.6.1-unstable.202311081249.0","license":"MIT","_id":"@shopify/oxygen-cli@2.6.1-unstable.202311081249.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"e06706088d518b644eee50ac7e92fd071db22296","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-2.6.1-unstable.202311081249.0.tgz","fileCount":75,"integrity":"sha512-Vso5MgBiFNKadbgJTB8EpEkQptPOt52hL6Iuur5qpFveDVq2f0rTbJnpsx92+6ditM4/0FZUpgC3Ywz2focP1Q==","signatures":[{"sig":"MEUCIQDPgCxt8Fj/M4PsqYOaILTEqaPg7V5d44Vy1zv6BNMRoQIgCeBaFcRuouVwEiQWY6cVYYxMV08HgOP6rXFvwN93rkE=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":156168},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"ccb7da26b8552fbf41bbf102f369cf9c5d2f60d3","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.21.0","@oclif/core":"2.11.7","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0","@shopify/cli-kit":"^3.50.2"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.10","oclif":"^4","eslint":"^8.53.0","vitest":"^0.34.6","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.8.10","@types/async":"^3.2.23","@changesets/cli":"^2.26.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.1","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_2.6.1-unstable.202311081249.0_1699447798463_0.33906650599415733","host":"s3://npm-registry-packages"}},"2.6.0":{"name":"@shopify/oxygen-cli","version":"2.6.0","license":"MIT","_id":"@shopify/oxygen-cli@2.6.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"d32af5629033d789a902a60758f6813d56844e5e","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-2.6.0.tgz","fileCount":75,"integrity":"sha512-p8f2qakXlLcD9hTOmvn0qRqEv2lcHmghpW1SQzKHXSgqwCmjyZggHJ1lskSGtCVNPLSs4DmQVlgHkZlZ6u1CTw==","signatures":[{"sig":"MEUCIQCTLjo54FwT+q7eiH+J2NoGoXK5dePxv4ZUVQ+OgbqQFAIgBU4iYSfUIJ6HK13igFKgKFRW8TkAwGAsgFrGc1nllCg=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":156120},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"0b61986036e3ce87ab7a3f6d9f1fc8cb6d1289a8","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.21.0","@oclif/core":"2.11.7","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0","@shopify/cli-kit":"^3.50.2"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"devDependencies":{"tsup":"^7.2.0","vite":"^4.4.10","oclif":"^4","eslint":"^8.53.0","vitest":"^0.34.6","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.8.10","@types/async":"^3.2.23","@changesets/cli":"^2.26.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.1","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_2.6.0_1699448335452_0.006257117982825244","host":"s3://npm-registry-packages"}},"2.6.2-unstable.202311081605.0":{"name":"@shopify/oxygen-cli","version":"2.6.2-unstable.202311081605.0","license":"MIT","_id":"@shopify/oxygen-cli@2.6.2-unstable.202311081605.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"114c045f3579b17d918daf4280d5a69aab95565e","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-2.6.2-unstable.202311081605.0.tgz","fileCount":75,"integrity":"sha512-FJ8lV0bqADg4GH9zqptYRmI+Kg6H6q3ih4lbHYtz4dHBpof8BRuiyc+ATWqbgG3TzZuUGrV98vusa1ynAX/amA==","signatures":[{"sig":"MEYCIQC9jjGQZxD/3PEs5kzEocS+7fAyGIA1Anz3JGtp6K4qqgIhAPrfaTA8VKj6NblfYCZdTjXJbvHOiLgb4Hz4/H/mH58e","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":156167},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"ee12a13379fe943ff6061f0452c08d0889251964","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.21.0","@oclif/core":"2.11.7","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0","@shopify/cli-kit":"^3.50.2"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.10","oclif":"^4","eslint":"^8.53.0","vitest":"^0.34.6","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.9.0","@types/async":"^3.2.23","@changesets/cli":"^2.26.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.1","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_2.6.2-unstable.202311081605.0_1699459569099_0.7681316131356437","host":"s3://npm-registry-packages"}},"2.6.2-unstable.202311101049.0":{"name":"@shopify/oxygen-cli","version":"2.6.2-unstable.202311101049.0","license":"MIT","_id":"@shopify/oxygen-cli@2.6.2-unstable.202311101049.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"8030c64900f2a93381f20f0e2e39e0303cf70db4","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-2.6.2-unstable.202311101049.0.tgz","fileCount":76,"integrity":"sha512-mdd11FfAGQ5WPwXDuWCi/3pOxiy+1AmjTuor8sZtZBGGjADjKGzH1194M2evjjlgE8JGMH13njfbPa7mx7bZdw==","signatures":[{"sig":"MEUCIDQAymosNleG2yR3Cx8TcVrOunYXAK3MUFa1zSxCIltOAiEA7zkZrM5FbxZDo8i6AfwSRsnqyK2SXl/SqYWXR8k3cOA=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":167701},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"3ecba80447ed130a93c1d78738c717fb4448a65a","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.21.0","@oclif/core":"2.11.7","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0","@shopify/cli-kit":"^3.50.2"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.10","oclif":"^4","eslint":"^8.53.0","vitest":"^0.34.6","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.9.0","@types/async":"^3.2.23","@changesets/cli":"^2.26.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.1","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_2.6.2-unstable.202311101049.0_1699613412705_0.4845196789479378","host":"s3://npm-registry-packages"}},"2.6.1":{"name":"@shopify/oxygen-cli","version":"2.6.1","license":"MIT","_id":"@shopify/oxygen-cli@2.6.1","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"01645361426677e3093308c2405092676b9694c7","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-2.6.1.tgz","fileCount":76,"integrity":"sha512-MFQP96Dna5t4WxIRWcqmsOGKDB3AJstxo0WogJRcWnytXqy/gyenWzGJYE02BPDWGQLQFCZMW8DUO+qmHSsZkg==","signatures":[{"sig":"MEUCIGMLg/ykMGlVfaKi3LYO/4Uk2KtpXh1jxvg1ijlflD5nAiEA4pTXq/w8/sDdPZasoMVLm4Qqe+X7jhcdrXwTRAy9+yA=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":167653},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"0c8ccf7faf8211aa3d70bc66747e2b094c7402b2","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.21.0","@oclif/core":"2.11.7","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0","@shopify/cli-kit":"^3.50.2"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"devDependencies":{"tsup":"^7.2.0","vite":"^4.4.10","oclif":"^4","eslint":"^8.53.0","vitest":"^0.34.6","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.9.0","@types/async":"^3.2.23","@changesets/cli":"^2.26.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.1","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_2.6.1_1699613622732_0.29597062725663936","host":"s3://npm-registry-packages"}},"2.6.3-unstable.202311140948.0":{"name":"@shopify/oxygen-cli","version":"2.6.3-unstable.202311140948.0","license":"MIT","_id":"@shopify/oxygen-cli@2.6.3-unstable.202311140948.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"2c01352afa1857ad0d72b77e725d5fb22bee0b44","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-2.6.3-unstable.202311140948.0.tgz","fileCount":76,"integrity":"sha512-j3nBuBAUbhlpoHUzTByieFOks7c4mF1YV/OsL62uWGx/Qw3QvuwjKunVZcV3RaJ24V8LdiIJfa7Btvuelcy1Iw==","signatures":[{"sig":"MEYCIQDkJwTTN8abF5Un5ObXOkxb0MnrpKFGX8wlp5pVG6CqOAIhAI5lO/aFDwBpsA3gA4Y+BqLc0DmUZGx0buudDdkY+evO","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":167788},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"855256b350ef86b6875df31f25203737a7e3bd69","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.21.0","@oclif/core":"2.11.7","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0","@shopify/cli-kit":"^3.51.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.2.0","vite":"^4.4.10","oclif":"^4","eslint":"^8.53.0","vitest":"^0.34.6","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.9.0","@types/async":"^3.2.23","@changesets/cli":"^2.26.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.1","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_2.6.3-unstable.202311140948.0_1699955353761_0.2302871045526762","host":"s3://npm-registry-packages"}},"2.6.2":{"name":"@shopify/oxygen-cli","version":"2.6.2","license":"MIT","_id":"@shopify/oxygen-cli@2.6.2","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"0694b185db5a3dde3d32ed7a34ba1faa0e2975b1","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-2.6.2.tgz","fileCount":76,"integrity":"sha512-vN5G3HmMNgy0VKZw0VWPVndQpCELzVBLHrflp6Edn4te/iVwXJXQLyIqWGGoTz/pfmyo9eF1qV4e18rTvI1afw==","signatures":[{"sig":"MEUCICRPzzlFFyhCvzID9fRGaitZskBiGXrr9+JSzYrGVxPPAiEAoq8YPVwdIwTrIH/ttaclcF/HudSGWlHonw7CEcNf7w0=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":167740},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"bce2691a2e722235d37b5e09cb5f2d7136c346aa","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.21.0","@oclif/core":"2.11.7","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0","@shopify/cli-kit":"^3.51.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"devDependencies":{"tsup":"^7.2.0","vite":"^4.4.10","oclif":"^4","eslint":"^8.53.0","vitest":"^0.34.6","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.9.0","@types/async":"^3.2.23","@changesets/cli":"^2.26.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.1","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_2.6.2_1699964851534_0.37965251582021686","host":"s3://npm-registry-packages"}},"2.6.4-unstable.202311171556.0":{"name":"@shopify/oxygen-cli","version":"2.6.4-unstable.202311171556.0","license":"MIT","_id":"@shopify/oxygen-cli@2.6.4-unstable.202311171556.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"84b24a43b8752fd68208c8bd37eca576236a392d","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-2.6.4-unstable.202311171556.0.tgz","fileCount":76,"integrity":"sha512-qg86G/hgxNqGfTCUkHCo4fOqGLtPtHyMGiN82jTOJ8Kaom5adq4+Zt9tu1e8D8diUYqnvBsxdgWowHFj/4Y69g==","signatures":[{"sig":"MEUCIAx25KaEUuw0NVOfCsMWnrhPKxhBnOA6tTpfDOF5SOt0AiEA8N2QoKbdVn+qNaULfez+b9r4HeShQ3azYZpn7tiFCss=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":168008},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"fb0f190e4b4798dbbff1271356bdccfe6dd73ea0","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.21.0","@oclif/core":"2.11.7","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0","@shopify/cli-kit":"^3.51.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.3.0","vite":"^4.4.10","oclif":"^4","eslint":"^8.53.0","vitest":"^0.34.6","node-fetch":"^3.3.2","typescript":"^5.2.2","@types/node":"^20.9.1","@types/async":"^3.2.23","@changesets/cli":"^2.26.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.1","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_2.6.4-unstable.202311171556.0_1700236591175_0.4050701791321547","host":"s3://npm-registry-packages"}},"2.6.4-unstable.202311211537.0":{"name":"@shopify/oxygen-cli","version":"2.6.4-unstable.202311211537.0","license":"MIT","_id":"@shopify/oxygen-cli@2.6.4-unstable.202311211537.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"bb064bc5d367e33dc347d84ac1e11a27b0d6a05c","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-2.6.4-unstable.202311211537.0.tgz","fileCount":76,"integrity":"sha512-zdQiS6hrtFhP2u61mTKwWtBKxcPcnfGzaSIjeVhBjFUzRvoPnSa+VG6R/XsYujQjRGes7vzy8cmKDNpwhnSQ1w==","signatures":[{"sig":"MEUCIBQtsDFQDljbHIAQNgAI6kNhrvplpYPPay10TgwAMJQYAiEA7VXgsOgEKsDWORQhP75I5O5Z8nU7SY2eKyT1SnVOHcE=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":168153},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"11818f5989f6450a054d8eecd54025edca3a2501","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.2","@oclif/core":"2.11.7","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0","@shopify/cli-kit":"^3.51.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.3.0","vite":"^4.4.10","oclif":"^4","eslint":"^8.53.0","vitest":"^0.34.6","node-fetch":"^3.3.2","typescript":"^5.3.2","@types/node":"^20.9.1","@types/async":"^3.2.23","@changesets/cli":"^2.26.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.1","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_2.6.4-unstable.202311211537.0_1700581040141_0.9451563813224886","host":"s3://npm-registry-packages"}},"2.6.4-unstable.202311221523.0":{"name":"@shopify/oxygen-cli","version":"2.6.4-unstable.202311221523.0","license":"MIT","_id":"@shopify/oxygen-cli@2.6.4-unstable.202311221523.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"b9f07373748a6c93e3b46147fa4a31244bebf6be","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-2.6.4-unstable.202311221523.0.tgz","fileCount":76,"integrity":"sha512-iqbGDyIG/E0YBzrwBr9gMx8kZrqmCQD57ZEZ/BYNyt3XXUGJ5+JY8ogykrRyMmjy06sSe66lJy8ZUD9tn9+38A==","signatures":[{"sig":"MEUCICf5BOpHPB6fmX+dXzGLAtndockdtYz89yHIzm1SsWBJAiEAjZJlC7pUoUZ2uuXFexDxgS1v8Ab79DN12uZyRTI9du8=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":168206},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"0130353a13ee3349441bb19516ae369b13d758ad","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.2","@oclif/core":"2.11.7","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0","@shopify/cli-kit":"^3.51.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.3.0","vite":"^4.4.10","oclif":"^4","eslint":"^8.53.0","vitest":"^0.34.6","node-fetch":"^3.3.2","typescript":"^5.3.2","@types/node":"^20.9.1","@types/async":"^3.2.24","@changesets/cli":"^2.26.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.1","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_2.6.4-unstable.202311221523.0_1700666623425_0.48164101439851703","host":"s3://npm-registry-packages"}},"2.6.4-unstable.202311231527.0":{"name":"@shopify/oxygen-cli","version":"2.6.4-unstable.202311231527.0","license":"MIT","_id":"@shopify/oxygen-cli@2.6.4-unstable.202311231527.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"362a74b4c40830767e3a6f8a105fad1b3efd1f6a","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-2.6.4-unstable.202311231527.0.tgz","fileCount":76,"integrity":"sha512-qma/2HuN94x06Znqmnyj7TIAerXZ7io3PbeiJE6rnI2juU6IYUdp2rGowLNFiq4YyVkRGwNXYlIBriJYaXPfqA==","signatures":[{"sig":"MEQCIGP3McJrB826GnUmT27rspw4bCu3wJunPK8Q6YXOoyFPAiAwcgk7ZFkBTohHznVjgVvt122mC/kBbcIHm/SBPSNjdQ==","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":168263},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"555cee0772d989a040c549e33ddc7e4e9f6cbae4","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.2","@oclif/core":"2.11.7","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0","@shopify/cli-kit":"^3.51.1"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.3.0","vite":"^4.4.10","oclif":"^4","eslint":"^8.53.0","vitest":"^0.34.6","node-fetch":"^3.3.2","typescript":"^5.3.2","@types/node":"^20.9.1","@types/async":"^3.2.24","@changesets/cli":"^2.26.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.1","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_2.6.4-unstable.202311231527.0_1700753264748_0.2716054225449833","host":"s3://npm-registry-packages"}},"2.6.4-unstable.202311271525.0":{"name":"@shopify/oxygen-cli","version":"2.6.4-unstable.202311271525.0","license":"MIT","_id":"@shopify/oxygen-cli@2.6.4-unstable.202311271525.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"2d53aeefdabc5bc596b6cd33e7aebc2c3a324df8","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-2.6.4-unstable.202311271525.0.tgz","fileCount":76,"integrity":"sha512-c4M8ajN8Y9RoUYqgq0qEds9BGGqGEu3irH/nYW7cMv40/0jJrelzoxW1hGtOh1kfLPZsucl0ylySIHrAh99eHw==","signatures":[{"sig":"MEUCIE6JrunRJnGqFtMJr1PiTXqj9hQW37TkmvvrQ2IkXtyuAiEAjX2jhXiifreULz4BHXRZ8wr3xF2nMxnDVWjqSMmQlI8=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":168320},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"09fa9b367c9fe54e3fc1df7a42b9308f90ab796f","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.2","@oclif/core":"2.11.7","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0","@shopify/cli-kit":"^3.51.2"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.3.0","vite":"^4.4.10","oclif":"^4","eslint":"^8.53.0","vitest":"^0.34.6","node-fetch":"^3.3.2","typescript":"^5.3.2","@types/node":"^20.9.1","@types/async":"^3.2.24","@changesets/cli":"^2.26.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.1","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_2.6.4-unstable.202311271525.0_1701098749149_0.014684167283393501","host":"s3://npm-registry-packages"}},"2.6.4-unstable.202311281532.0":{"name":"@shopify/oxygen-cli","version":"2.6.4-unstable.202311281532.0","license":"MIT","_id":"@shopify/oxygen-cli@2.6.4-unstable.202311281532.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"6b534a439e142008c4c2b1fbe6161431f80b5292","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-2.6.4-unstable.202311281532.0.tgz","fileCount":76,"integrity":"sha512-xCb0d2wVg3OO8ROEB9ROorDlUBQYQ2/C5tvWjdRMgYNde1tkt6DvHKQ5OoMCPXgSq6hL0EsHnBAQAkaJlAmZuQ==","signatures":[{"sig":"MEQCIBsM8DmnWc/wdCak21KT6S3pPHyh7TIzA4UhGy57Zof0AiAtGIy+V33vpU+Qc9uTmGhwBkcqizuaSK7t9C5UW33DaQ==","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":168376},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"f1d50403e4989bb542ffe4b919f4e4e161c0953b","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.2","@oclif/core":"2.11.7","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0","@shopify/cli-kit":"^3.51.2"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.3.0","vite":"^4.4.10","oclif":"^4","eslint":"^8.53.0","vitest":"^0.34.6","node-fetch":"^3.3.2","typescript":"^5.3.2","@types/node":"^20.9.1","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.1","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_2.6.4-unstable.202311281532.0_1701185548916_0.6115002711246733","host":"s3://npm-registry-packages"}},"3.0.1-unstable.202311291846.0":{"name":"@shopify/oxygen-cli","version":"3.0.1-unstable.202311291846.0","license":"MIT","_id":"@shopify/oxygen-cli@3.0.1-unstable.202311291846.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"9bc25684e0e07d4dc437722cede4b2ea0d69800a","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-3.0.1-unstable.202311291846.0.tgz","fileCount":76,"integrity":"sha512-xJMXEHi3jgqkmg+1NUlAdyHoE+GmDyXMHKAwQRSvnDXvDydhERwyYEOZ2hO8KdI5/vHaCJclor3eNWD2e91ejQ==","signatures":[{"sig":"MEQCIDXBdR376rS5gGGprfU6A/48qLDoFFfodVMsMttgts7ZAiAtammMKRXaecdVcI8/rBxCzvhMRNWmX6pQNBUKhePY/A==","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":171741},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n- --generateAuthBypassToken: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"8b2fb62c4201af8e16a5f8a017c0212ba59f23f3","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.2","@oclif/core":"2.11.7","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0","@shopify/cli-kit":"^3.51.2"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.3.0","vite":"^4.4.10","oclif":"^4","eslint":"^8.53.0","vitest":"^0.34.6","node-fetch":"^3.3.2","typescript":"^5.3.2","@types/node":"^20.9.1","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.1","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_3.0.1-unstable.202311291846.0_1701283581500_0.22017941528049034","host":"s3://npm-registry-packages"}},"3.0.0":{"name":"@shopify/oxygen-cli","version":"3.0.0","license":"MIT","_id":"@shopify/oxygen-cli@3.0.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"77b0637336dc5459e05fc9e56cabfc87cb6be9f4","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-3.0.0.tgz","fileCount":76,"integrity":"sha512-qys64KJNn1j3ve1RkgD1+FIIneMt7NX007VkMoawNtetDVGBIGXBoqFvDyWH7H6xqmcipsZNdwn5hRZRoemcgQ==","signatures":[{"sig":"MEUCIQCFjQ+48enjXMwreUxfNJ9Amh/m71wPQhZ7Whpp2eeMMQIgTFoIAUKFmMcK4hD6nf++ju5GR9Af2eJjbiXCbVjAstA=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":171693},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"baea94b5a8d90fbbb149ded9eb78eaa163d1be0f","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.2","@oclif/core":"2.11.7","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0","@shopify/cli-kit":"^3.51.2"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"devDependencies":{"tsup":"^7.3.0","vite":"^4.4.10","oclif":"^4","eslint":"^8.53.0","vitest":"^0.34.6","node-fetch":"^3.3.2","typescript":"^5.3.2","@types/node":"^20.9.1","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.1","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_3.0.0_1701288717315_0.0356796618776003","host":"s3://npm-registry-packages"}},"3.1.2-unstable.202312011142.0":{"name":"@shopify/oxygen-cli","version":"3.1.2-unstable.202312011142.0","license":"MIT","_id":"@shopify/oxygen-cli@3.1.2-unstable.202312011142.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"b6b6c2ff30d82010aeb3a55428dc308ac2637045","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-3.1.2-unstable.202312011142.0.tgz","fileCount":82,"integrity":"sha512-OZK/MpfaSStex03hcCh1ItRGGmG274wbBAoHDVX9t+nw9asFFHS8BsVV8ds7mZprZcbe29oJHfWRhkR5jUWD3g==","signatures":[{"sig":"MEYCIQCeC/U5DTsUWmvoTjxFt+jF7CcYGAeg7u+lVr44tE8QkAIhAJ8GR9a/KwZZazAcWm+kuvybE6j7QDmmGeIi2uvyRWFZ","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":184533},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n- --generateAuthBypassToken: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"91f973984f7fe7610bd75fb3f83ef867c7ab9d5b","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.2","@oclif/core":"2.11.7","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0","@shopify/cli-kit":"^3.51.2"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.3.0","vite":"^4.4.10","oclif":"^4","eslint":"^8.53.0","vitest":"^0.34.6","node-fetch":"^3.3.2","typescript":"^5.3.2","@types/node":"^20.9.1","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.1","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_3.1.2-unstable.202312011142.0_1701430935860_0.4097934936256893","host":"s3://npm-registry-packages"}},"3.1.1":{"name":"@shopify/oxygen-cli","version":"3.1.1","license":"MIT","_id":"@shopify/oxygen-cli@3.1.1","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"58c7e0fbe73e4574a9b86ae67ed7a0820be413fb","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-3.1.1.tgz","fileCount":82,"integrity":"sha512-Ac5brpc6ct7BzjYA23pmUmRjUmajxXE3aZI1Qi2imcr9pJRwOvPcuv30kNJOUHDUrC2t6d/Nat/Hb2aNNAFVnA==","signatures":[{"sig":"MEQCID/QrvkgvMf2VKLs5DBFG/gyYZraF5TunJYHfLDXgu84AiBUxeADZZTrFirmXSbMYyEG/KBOBWGq4Y89DzD1EhIikA==","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":184485},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"9f9ab76f85561b453da9fb741058992ea171bcb3","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.2","@oclif/core":"2.11.7","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0","@shopify/cli-kit":"^3.51.2"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"devDependencies":{"tsup":"^7.3.0","vite":"^4.4.10","oclif":"^4","eslint":"^8.53.0","vitest":"^0.34.6","node-fetch":"^3.3.2","typescript":"^5.3.2","@types/node":"^20.9.1","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.1","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_3.1.1_1701431725242_0.7707318380115105","host":"s3://npm-registry-packages"}},"3.1.3-unstable.202312061529.0":{"name":"@shopify/oxygen-cli","version":"3.1.3-unstable.202312061529.0","license":"MIT","_id":"@shopify/oxygen-cli@3.1.3-unstable.202312061529.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"45e3a53224b90a5bfb9e44af16ebba04b36b3c26","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-3.1.3-unstable.202312061529.0.tgz","fileCount":82,"integrity":"sha512-BHXETdWPih8UfT1+hntzlK3bUdCc5OFswwP+nQJ1bFU3UxalT6/kbRhvSygG52Xud9JJHFQys1rH7tP+w7d96Q==","signatures":[{"sig":"MEUCIBwSXTVI3J5M+iwvrsjaetcacCFtqQENF8wJURhb94VNAiEA30d0KrpvgZw0gmwBs4nJH4yhmEGm9lNWKafaOvm4m3E=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":184620},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n- --generateAuthBypassToken: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"37394340dcc67b1b36fae16da869fa8fa3320c96","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.2","@oclif/core":"2.11.7","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0","@shopify/cli-kit":"^3.52.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.3.0","vite":"^4.4.10","oclif":"^4","eslint":"^8.53.0","vitest":"^0.34.6","node-fetch":"^3.3.2","typescript":"^5.3.2","@types/node":"^20.9.1","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.1","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_3.1.3-unstable.202312061529.0_1701876579122_0.5315591035661333","host":"s3://npm-registry-packages"}},"3.1.3-unstable.202312070943.0":{"name":"@shopify/oxygen-cli","version":"3.1.3-unstable.202312070943.0","license":"MIT","_id":"@shopify/oxygen-cli@3.1.3-unstable.202312070943.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"cce91aa9b394e064f86a7574348e8d744367bfe5","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-3.1.3-unstable.202312070943.0.tgz","fileCount":82,"integrity":"sha512-0XGE3byrcdTRN12IVQZOhfDuTsnpvYOl0p/ffoccUX7jj+JWJUp+uymiLOzCrcJ3SsxyfLKxHsymxQEir/fuIQ==","signatures":[{"sig":"MEYCIQCT3of7Jq9MqrFWHgXW2+Q0NZKWmzJJPnRPTjzTjTG0ewIhAN6rvhjrP5XKPhReD99QWMW8OfmXgTG3GzusdZOOlnyS","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":184674},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n- --generateAuthBypassToken: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"5b006ed35e3ef4a1e29433da2d71d52c5c82cb58","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.2","@oclif/core":"2.11.7","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0","@shopify/cli-kit":"^3.52.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.3.0","vite":"^4.4.10","oclif":"^4","eslint":"^8.53.0","vitest":"^0.34.6","node-fetch":"^3.3.2","typescript":"^5.3.2","@types/node":"^20.10.4","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.1","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_3.1.3-unstable.202312070943.0_1701942221016_0.13733317951362212","host":"s3://npm-registry-packages"}},"3.1.3-unstable.202312071416.0":{"name":"@shopify/oxygen-cli","version":"3.1.3-unstable.202312071416.0","license":"MIT","_id":"@shopify/oxygen-cli@3.1.3-unstable.202312071416.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"6acbae04a945736c374efc1841beebff5b17b54b","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-3.1.3-unstable.202312071416.0.tgz","fileCount":82,"integrity":"sha512-k+Ix9lLkOYdQ/UyqXZqPStBN+mWFDsZfnEGDFdv+uUjUMSiBbusIT6Li6KhxYH1Bf8/uyaA+JPyQ+4Nj6HAH9Q==","signatures":[{"sig":"MEUCIDmZbMlO0lRniOnVB5lLgTrc822XKzfuP8/e7zl9vYasAiEA1h0waGQSHF2PRGBYwoo8z7G5nC3dZz2EaJfvJuRLmfA=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":184721},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n- --generateAuthBypassToken: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"3984ff645495a224dbf837489dba9eeea26d9bd5","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.2","@oclif/core":"2.11.7","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0","@shopify/cli-kit":"^3.52.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.3.0","vite":"^4.4.10","oclif":"^4","eslint":"^8.55.0","vitest":"^0.34.6","node-fetch":"^3.3.2","typescript":"^5.3.2","@types/node":"^20.10.4","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.1","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_3.1.3-unstable.202312071416.0_1701958603562_0.028289600196359732","host":"s3://npm-registry-packages"}},"3.1.3-unstable.202312071602.0":{"name":"@shopify/oxygen-cli","version":"3.1.3-unstable.202312071602.0","license":"MIT","_id":"@shopify/oxygen-cli@3.1.3-unstable.202312071602.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"92a1f57609d70dfa3b3bd6e8d9cb7411b2fd5194","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-3.1.3-unstable.202312071602.0.tgz","fileCount":82,"integrity":"sha512-hLILbgIgmCuSSVJ/qsvXjmWY4Li8TPhlvwuIABDwJzkobwtpbF6MUYXh2hul3W21bF6doQt6vLYYrm+jNI1WWA==","signatures":[{"sig":"MEYCIQD7D+ePRy1ZjMn2VWFxHSLPGSmvfP4dlZpcMIzVzOMqWQIhALDKqswAE1a2e1gjOQEsrS9+UpU3A0wZPEmPF1vSJX53","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":184770},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n- --generateAuthBypassToken: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"ddd20afe0d57fa9d6bf2750ed8bfde870d9180d4","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.2","@oclif/core":"2.11.7","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0","@shopify/cli-kit":"^3.52.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^7.3.0","vite":"^4.4.10","oclif":"^4","eslint":"^8.55.0","vitest":"^0.34.6","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.10.4","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.1","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_3.1.3-unstable.202312071602.0_1701964942814_0.09783635557348336","host":"s3://npm-registry-packages"}},"3.1.2":{"name":"@shopify/oxygen-cli","version":"3.1.2","license":"MIT","_id":"@shopify/oxygen-cli@3.1.2","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"a80239f8ea88f5cfe6715896f7d06aad93382b30","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-3.1.2.tgz","fileCount":82,"integrity":"sha512-uHs+iheYVnnDCwcxoWO9AlMLT4iVUX/pqP3C9mzUx2CWC0UICNmvXMEv1pvtamBZM8/vxBecpymjbbuNkKdoSw==","signatures":[{"sig":"MEQCIBXwNNyjC00wBSXOXPPuZopMdKpwyiPQUBjurhAzbSBKAiBUxz/TKTp3W8IB/GtKpYMM6NvzDnmGm211KBRyMxBbkA==","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":184722},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"6e456b4df33e640715fd19b1ff9b1807354a201a","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.2","@oclif/core":"2.11.7","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0","@shopify/cli-kit":"^3.52.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"devDependencies":{"tsup":"^7.3.0","vite":"^4.4.10","oclif":"^4","eslint":"^8.55.0","vitest":"^0.34.6","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.10.4","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.1","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_3.1.2_1702034062173_0.6650776759383612","host":"s3://npm-registry-packages"}},"3.1.4-unstable.202312081545.0":{"name":"@shopify/oxygen-cli","version":"3.1.4-unstable.202312081545.0","license":"MIT","_id":"@shopify/oxygen-cli@3.1.4-unstable.202312081545.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"6782466cff43b925e8436ea12a1827edc27ca3b6","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-3.1.4-unstable.202312081545.0.tgz","fileCount":82,"integrity":"sha512-uCO2SHN8EIae6cVWKzUAgHuxrtfQNOR6FZf/khCFm/t4yTlaWLESImVESB1jYu0TDRHsftnkJHzKUpCnv2u+0g==","signatures":[{"sig":"MEUCIQCS28JWUateApRCbCe56krRhNxuQ2RNQnageWPl5MpaXAIgVOUwN9YdoWkb/eRHtpQ82CYhJ3O8Xt+lD2ejHAqmIP4=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":184843},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n- --generateAuthBypassToken: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"23bd8d203e357d1e232e43e49171ba00748a02d4","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.2","@oclif/core":"2.11.7","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0","@shopify/cli-kit":"^3.52.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.1","vite":"^4.4.10","oclif":"^4","eslint":"^8.55.0","vitest":"^0.34.6","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.10.4","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.1","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_3.1.4-unstable.202312081545.0_1702050321383_0.14191584082573683","host":"s3://npm-registry-packages"}},"3.1.4-unstable.202312122000.0":{"name":"@shopify/oxygen-cli","version":"3.1.4-unstable.202312122000.0","license":"MIT","_id":"@shopify/oxygen-cli@3.1.4-unstable.202312122000.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"80f7433734ac3e968deac98fc6e6b1517dbcce8d","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-3.1.4-unstable.202312122000.0.tgz","fileCount":82,"integrity":"sha512-7UVfPQpHQHMyy2OjvcOPZdxvkOcMS5vun88tOnswlLvG+sX28LFc90oCG5b9682/rDNV8qBc/M4DIy6bW6oIMA==","signatures":[{"sig":"MEYCIQCCf08ChZobVIUt+1Ms9kIW3SCFwP2yTOEfuPiVDHlGJwIhAIj3wnmZrkv+0amYqqO2oM27PRRYx3MsWxUMnxT7pbLh","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":184843},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n- --generateAuthBypassToken: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"9f4e3bcc54043b6868be0524284e7dc0c5793f1d","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.2","@oclif/core":"2.11.7","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0","@shopify/cli-kit":"^3.52.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.1","vite":"^4.4.10","oclif":"^4","eslint":"^8.55.0","vitest":"^0.34.6","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.10.4","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.1","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_3.1.4-unstable.202312122000.0_1702411227198_0.19085421893802423","host":"s3://npm-registry-packages"}},"3.1.4-unstable.202312131421.0":{"name":"@shopify/oxygen-cli","version":"3.1.4-unstable.202312131421.0","license":"MIT","_id":"@shopify/oxygen-cli@3.1.4-unstable.202312131421.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"f309cf68b1b4efb57075cf8c345bb0f73bc7912d","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-3.1.4-unstable.202312131421.0.tgz","fileCount":82,"integrity":"sha512-7Uy3RRdf2y89YiOEwEkdCRw8cLuQtXDr9HpkfBGiX5C41mBtEPa+T452dxR+qDPqrbBLFwHKOhmCwH7+gCzkfA==","signatures":[{"sig":"MEQCIC7J0Maa1it4WNHic/hDc7ZHJU1tF1CxXsPWLlEoBrF1AiB/NizB43kvsX5QE5mUoRD45V3cgHVlQoe1ASyEk9lMsg==","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":184888},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n- --generateAuthBypassToken: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"3d5dd8f02642ea9717b3157958df2316134764a5","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.2","@oclif/core":"2.11.7","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0","@shopify/cli-kit":"^3.52.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.1","vite":"^4.4.10","oclif":"^4","eslint":"^8.55.0","vitest":"^1.0.0","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.10.4","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^43.0.0","eslint-plugin-prettier":"^5.0.1","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_3.1.4-unstable.202312131421.0_1702477284232_0.4470265989201119","host":"s3://npm-registry-packages"}},"3.1.4-unstable.202312131452.0":{"name":"@shopify/oxygen-cli","version":"3.1.4-unstable.202312131452.0","license":"MIT","_id":"@shopify/oxygen-cli@3.1.4-unstable.202312131452.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"d03c54bca153d42fdde90b50accf854806a10539","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-3.1.4-unstable.202312131452.0.tgz","fileCount":82,"integrity":"sha512-Af8qnDvNmCiIZ0Qua1j1txMzFi3z79rZHAmIVW26iyj45sPQnPve6w+pG8p66ZGI2EZdSr3bOxZ28IPksjg2Bg==","signatures":[{"sig":"MEYCIQCey9w1J+GsK3RRPh4QZtUyHlG0Y6vR04IwuCRJTeIgrwIhANEIovhiKGy1BSZjBQSiSeV09uKkRC3fIpBJGN9QuNoO","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":184892},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n- --generateAuthBypassToken: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"ce01f467f3b903a16c70186f62f995a139201591","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.2","@oclif/core":"2.11.7","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0","@shopify/cli-kit":"^3.52.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.1","vite":"^4.4.10","oclif":"^4","eslint":"^8.55.0","vitest":"^1.0.0","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.10.4","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.0.1","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_3.1.4-unstable.202312131452.0_1702479175173_0.07765759605885703","host":"s3://npm-registry-packages"}},"3.1.4-unstable.202312131557.0":{"name":"@shopify/oxygen-cli","version":"3.1.4-unstable.202312131557.0","license":"MIT","_id":"@shopify/oxygen-cli@3.1.4-unstable.202312131557.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"263df9cf7e8e00fa4415801cb935fa1cfd4e277d","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-3.1.4-unstable.202312131557.0.tgz","fileCount":82,"integrity":"sha512-OyU7P3zMs1wcVj4uTVLPIYNPXXvTAC6vv1i/IWOvdBmePQdtjA0PAYGg2Z4pHzu6X3Hf56j5Qci+QJbP5eUQhA==","signatures":[{"sig":"MEYCIQDzNvxrky9WblHUPJAXBGGOSrZbpXhY/Fo4o7uTF7yWyQIhAOMSrD4mb07DgGUjGGOIDoqN46fSYbO9Fh71QngriC4N","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":184937},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n- --generateAuthBypassToken: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"fc4f6f31a6acf34e37856a8fbc8e8ff221b38660","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.2","@oclif/core":"2.11.7","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0","@shopify/cli-kit":"^3.52.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.1","vite":"^4.4.10","oclif":"^4","eslint":"^8.55.0","vitest":"^1.0.4","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.10.4","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.0.1","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_3.1.4-unstable.202312131557.0_1702483065078_0.3221352013761094","host":"s3://npm-registry-packages"}},"3.1.3":{"name":"@shopify/oxygen-cli","version":"3.1.3","license":"MIT","_id":"@shopify/oxygen-cli@3.1.3","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"ce96328777b7083ee3519c37c2e3360670329911","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-3.1.3.tgz","fileCount":82,"integrity":"sha512-+k050SjOrCf3GCLGeBwdN6t24jjxCV+OFMK272/0zAU42jQ5eOKdY7DLIHEUILsd0F2jGS+o2qksZbWjfrArVA==","signatures":[{"sig":"MEUCIQDaBOFJ0AYHFKV96cRyejLdiueIaxhAr8Bcx0/jcWV19gIge0/SntPdIEvtNFw2znEqfUZLyXoMJTIEIqcUQt8mF9g=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":184889},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"0b527f23cb47edb5fd595262814e8fb92178e139","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.2","@oclif/core":"2.11.7","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0","@shopify/cli-kit":"^3.52.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"devDependencies":{"tsup":"^8.0.1","vite":"^4.4.10","oclif":"^4","eslint":"^8.55.0","vitest":"^1.0.4","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.10.4","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.0.1","@shopify/prettier-config":"^1.1.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_3.1.3_1702554281468_0.8832227485969961","host":"s3://npm-registry-packages"}},"3.1.5-unstable.202312141257.0":{"name":"@shopify/oxygen-cli","version":"3.1.5-unstable.202312141257.0","license":"MIT","_id":"@shopify/oxygen-cli@3.1.5-unstable.202312141257.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"bed1bb7e3c9fdb391b04c0afec599dc8a17bf4a4","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-3.1.5-unstable.202312141257.0.tgz","fileCount":82,"integrity":"sha512-95TkRQ1kdW5I3pCfA8RyAVAck9t968Blsu+ZWO45HcYJyJQeTdV9FWrlF+Tdnv0WqlGBz6kTt+hevLCBQqVsKA==","signatures":[{"sig":"MEUCIQCeF1C0Wh7zZObcSsbiubNAVMZu+VnDTzffhewkxSAVBwIgNpeu3jBcAEKf+XNDgQ450D1JHiAhs3driCsoaslirdg=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":185063},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n- --generateAuthBypassToken: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"049ff48bea3be7c56ec86434464c4a7c20687b33","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.2","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.1","vite":"^4.4.10","oclif":"^4","eslint":"^8.55.0","vitest":"^1.0.4","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.10.4","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.0.1","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^2.11.7","@shopify/cli-kit":"^3.51.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_3.1.5-unstable.202312141257.0_1702558671027_0.23642088488767476","host":"s3://npm-registry-packages"}},"3.1.4":{"name":"@shopify/oxygen-cli","version":"3.1.4","license":"MIT","_id":"@shopify/oxygen-cli@3.1.4","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"315eeed474b40d679bd4ff86bb571b42f3773c88","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-3.1.4.tgz","fileCount":82,"integrity":"sha512-9BSLb5HCENNFXxo0jUQ17ywsN85Vt3jFhkRHP9oknWXVLvBzfIMSE9VZQySQAxjzmrCKQkBBn+stOrT/yhksSw==","signatures":[{"sig":"MEQCIExENEW0fj8Bft5b6znO3E5Q2zYmxLUpD45QN2nIAyU/AiBeYJMLg1sq0+ip7cpFxxZk6I+q3q3MyFnsKzlZkGkT0w==","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":185015},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"7d9bd897b4c6b809db18aae19fc24ee7a902da9f","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.2","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"devDependencies":{"tsup":"^8.0.1","vite":"^4.4.10","oclif":"^4","eslint":"^8.55.0","vitest":"^1.0.4","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.10.4","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.0.1","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^2.11.7","@shopify/cli-kit":"^3.51.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_3.1.4_1702559256778_0.460180256842867","host":"s3://npm-registry-packages"}},"3.1.6-unstable.202312150927.0":{"name":"@shopify/oxygen-cli","version":"3.1.6-unstable.202312150927.0","license":"MIT","_id":"@shopify/oxygen-cli@3.1.6-unstable.202312150927.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"e521da194db9dcb32b78954696751414ecb8a72a","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-3.1.6-unstable.202312150927.0.tgz","fileCount":82,"integrity":"sha512-fCLazB0PAP/WefkaSW+3DnwpP23iTYlvPDkLntMxPpvsDOVuPXTWGlYVSHJQ1o+z8/QAy2h7b0EjQjCxmwtRIg==","signatures":[{"sig":"MEUCIQDncPC7i+JrFnADlddJOFntbRStGIZg1NI0UErSolkGewIgP+cZJIda80nBySkD0cX1/8Erxatt62e5vpFXCKHQrwM=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":185302},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n- --generateAuthBypassToken: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"bec1a355f3042c75a6cabc600691976305f19237","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.2","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.1","vite":"^4.4.10","oclif":"^4","eslint":"^8.55.0","vitest":"^1.0.4","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.10.4","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.0.1","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^2.11.7","@shopify/cli-kit":"^3.51.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_3.1.6-unstable.202312150927.0_1702632484582_0.60854614792313","host":"s3://npm-registry-packages"}},"3.1.5":{"name":"@shopify/oxygen-cli","version":"3.1.5","license":"MIT","_id":"@shopify/oxygen-cli@3.1.5","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"6dc3d637721a3a1e1d6c1457bb83337679d8a45b","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-3.1.5.tgz","fileCount":82,"integrity":"sha512-W5Qqlvvro/pwr70kn0yhKtP831+dSmJendhtnnKTZo3cTb/+vuL5wl7rYNt1kC3mg2Al00c4xtMBl7MAb3PaVQ==","signatures":[{"sig":"MEUCIQCpv1E1/iDvBrZdASjwEOzhJHsOdZFJDrrEjL66RF5jQAIgIv+e7B20Y4sMZ0Jm+xlqbJCQfEhO2zhgfVZXr+uEXo0=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":185254},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"2a01944f5706c1e730ff86661410514b85167128","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.2","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"devDependencies":{"tsup":"^8.0.1","vite":"^4.4.10","oclif":"^4","eslint":"^8.55.0","vitest":"^1.0.4","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.10.4","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.0.1","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^2.11.7","@shopify/cli-kit":"^3.51.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_3.1.5_1702640932493_0.9282648646797809","host":"s3://npm-registry-packages"}},"3.1.7-unstable.202312151554.0":{"name":"@shopify/oxygen-cli","version":"3.1.7-unstable.202312151554.0","license":"MIT","_id":"@shopify/oxygen-cli@3.1.7-unstable.202312151554.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"a0906f19fb2a4480f9e965968418c2d595e873e4","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-3.1.7-unstable.202312151554.0.tgz","fileCount":82,"integrity":"sha512-k4kgRIJT9p7rgDDKyKe9OUBVG31rQx6Oga5EFxfr/MmAMcNNN/9IDbR8KTgAQKqwKTLfHwQlvRZIEip/U8XVkw==","signatures":[{"sig":"MEUCIQD3eu4VY5EfCUB5qZfLnQwdszTmjDcBE0/lqNMD8JyIeQIgS9IKzZH5c/bhysTk61EwaOhViCX4WhzvB7lne4WXotk=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":185376},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n- --generateAuthBypassToken: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"495a4545bd1300496d7d8ff3947746ac86c28249","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.2","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.1","vite":"^4.4.10","oclif":"^4","eslint":"^8.55.0","vitest":"^1.0.4","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.10.4","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.0.1","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^2.11.7","@shopify/cli-kit":"^3.51.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_3.1.7-unstable.202312151554.0_1702655692920_0.5696779201951809","host":"s3://npm-registry-packages"}},"3.1.7-unstable.202312190941.0":{"name":"@shopify/oxygen-cli","version":"3.1.7-unstable.202312190941.0","license":"MIT","_id":"@shopify/oxygen-cli@3.1.7-unstable.202312190941.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"66de67b79dc12581edb61047c3fe97c8c143b42f","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-3.1.7-unstable.202312190941.0.tgz","fileCount":82,"integrity":"sha512-1AD2rdZZUrBb7FjpoK2YF24sudP6kfpHDUT/iMgFXDY15LvydYJv4YZ36dWn/bmHluzbFGLNuoYonyvQ+WVmjA==","signatures":[{"sig":"MEUCICcCvgJ1hHorNC6yeM+8cyszpu3n3l+D+iVQYSSvub5WAiEA9TJrt/GIDpr3m8ITO3Ub1VOATI7gh6iSX9rJKR9Dkwc=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":185376},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n- --generateAuthBypassToken: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"c22b474c71e6a3f437865f84aea5c4a297444a20","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.2","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.1","vite":"^4.4.10","oclif":"^4","eslint":"^8.55.0","vitest":"^1.0.4","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.10.4","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.0.1","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^2.11.7","@shopify/cli-kit":"^3.51.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_3.1.7-unstable.202312190941.0_1702978885737_0.5199769844779285","host":"s3://npm-registry-packages"}},"3.1.7-unstable.202312191526.0":{"name":"@shopify/oxygen-cli","version":"3.1.7-unstable.202312191526.0","license":"MIT","_id":"@shopify/oxygen-cli@3.1.7-unstable.202312191526.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"1d2931c960fdc2b917c01c2ed187d1c1be5ebc5e","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-3.1.7-unstable.202312191526.0.tgz","fileCount":82,"integrity":"sha512-sCQ38XTPjp2JFAxUKes06IVM3A6SvAF16J0FhQcdOelqAY7Ia36NxRxZ9JJ7EMsn88+xpZV90ei9tGBO1H5j9g==","signatures":[{"sig":"MEQCIHTznEDQGa2djWLPio5uhrigxlGSJxaFyNZuBhdZ0SPBAiALgnFKQnJQkAZMGDoFxPi84QSzRPrBdjOeHDYQUo3WSg==","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":185421},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n- --generateAuthBypassToken: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"88743b70f8f7c07ed6d118be1267f707f9f92602","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.2","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.1","vite":"^4.4.10","oclif":"^4","eslint":"^8.55.0","vitest":"^1.1.0","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.10.4","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.0.1","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^2.11.7","@shopify/cli-kit":"^3.51.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_3.1.7-unstable.202312191526.0_1702999585860_0.032054052689235446","host":"s3://npm-registry-packages"}},"3.1.7-unstable.202312201542.0":{"name":"@shopify/oxygen-cli","version":"3.1.7-unstable.202312201542.0","license":"MIT","_id":"@shopify/oxygen-cli@3.1.7-unstable.202312201542.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"2b90d295ec4aacca0a7a7741fe05e69c46334348","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-3.1.7-unstable.202312201542.0.tgz","fileCount":82,"integrity":"sha512-5QTrpC8EN2XBZYzdlA1FWODAOVCVbdVy1IbjENJNyVPoTKCqEJDXxQw7Kd7jJ8zTgQW9ctf8buDWEWzA2AtI0g==","signatures":[{"sig":"MEUCIQDmAP/KEyWK7Ot7vSuk11FHNqnnj/RK/gfjtysf8yx4PAIgeXbC67f5L5BhBYdHMl3OBQAaBK+1hNsTSYdbZoc0EiQ=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":185482},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n- --generateAuthBypassToken: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"b2505ca8c34c9768a635b3d74db2216ec1fda29f","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.2","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.1","vite":"^4.4.10","oclif":"^4","eslint":"^8.55.0","vitest":"^1.1.0","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.10.4","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.0","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^2.11.7","@shopify/cli-kit":"^3.51.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_3.1.7-unstable.202312201542.0_1703086964469_0.12234625222687368","host":"s3://npm-registry-packages"}},"3.1.7-unstable.202312202227.0":{"name":"@shopify/oxygen-cli","version":"3.1.7-unstable.202312202227.0","license":"MIT","_id":"@shopify/oxygen-cli@3.1.7-unstable.202312202227.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"8425a47a7d8513b6296a6213bc645605787be7aa","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-3.1.7-unstable.202312202227.0.tgz","fileCount":82,"integrity":"sha512-egIw5JZRPtLEDIrCUBbZM79e1BhUd5fe+uc2xqC3mSgbSb5/3gvpsWL44zoNW9J00RQyePzI5Ajba+ke50MTvw==","signatures":[{"sig":"MEUCIQDof/Ek6KxIlfHRsYTJlQfGEtDSDCYbbbcAYR+W0mpPzgIgH9CMOHoGXi2CO20sT4r40/rgrenL0g01Kfl/wa6FSPc=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":185536},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n- --generateAuthBypassToken: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"5ceb9b76942c8dd846a9424cd03d13e5ed4b16a3","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.2","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.1","vite":"^4.4.10","oclif":"^4","eslint":"^8.55.0","vitest":"^1.1.0","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.10.5","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.0","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^2.11.7","@shopify/cli-kit":"^3.51.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_3.1.7-unstable.202312202227.0_1703111250698_0.4567786900481017","host":"s3://npm-registry-packages"}},"3.1.6":{"name":"@shopify/oxygen-cli","version":"3.1.6","license":"MIT","_id":"@shopify/oxygen-cli@3.1.6","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"784f07c85ee15895d001ceadbbea404f8d7e6683","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-3.1.6.tgz","fileCount":82,"integrity":"sha512-6D+74WrmxEzT6ZFuYWbSqx+H7uZ22vbx+r01qOvfUB6UrexmJu2eE744EPHT/hD8huUycjmg7TSBMlEDdGdAJA==","signatures":[{"sig":"MEQCIGv2Za29wj53lTOKvkmMSf7vSyUmS0relkz1qAW5TcUYAiBtDRzd60V/MFDNxZIEo/3+GKjX126x4HNfE1/NZiV85w==","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":185488},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"49815634daf4aec00b8340aa521ef11c9d37dea2","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.2","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"devDependencies":{"tsup":"^8.0.1","vite":"^4.4.10","oclif":"^4","eslint":"^8.55.0","vitest":"^1.1.0","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.10.5","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.0","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^2.11.7","@shopify/cli-kit":"^3.51.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_3.1.6_1703111672391_0.4041847214918626","host":"s3://npm-registry-packages"}},"3.1.8-unstable.202401031601.0":{"name":"@shopify/oxygen-cli","version":"3.1.8-unstable.202401031601.0","license":"MIT","_id":"@shopify/oxygen-cli@3.1.8-unstable.202401031601.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"c301dc6df69655f8ba627feef06b5bc845c3c307","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-3.1.8-unstable.202401031601.0.tgz","fileCount":82,"integrity":"sha512-VWziaLjk7fWz1Gta+hYVfR+lQJqWTqspkM4YPKnz2Was7dSCaNXcmZaa9AisWcQH8uib4ELK2kTaAfrlAlEUAw==","signatures":[{"sig":"MEQCIEranF6MlIis912Grjx2dOJ9oA1wmT6KlRy9Xfw33j1MAiBIrK/OkPVIbQz/Dh6gKdDUUOhbg0d8fWWjCxZYFXiKjA==","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":185618},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n- --generateAuthBypassToken: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"ca067ba5fe17182aab2b71e491ce4c993f62cd24","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.3","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.1","vite":"^4.4.10","oclif":"^4","eslint":"^8.55.0","vitest":"^1.1.0","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.10.5","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.0","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^2.11.7","@shopify/cli-kit":"^3.51.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_3.1.8-unstable.202401031601.0_1704297729449_0.45331927862676946","host":"s3://npm-registry-packages"}},"3.1.7":{"name":"@shopify/oxygen-cli","version":"3.1.7","license":"MIT","_id":"@shopify/oxygen-cli@3.1.7","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"99ebf627df156e281666881e129e9f3b76927972","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-3.1.7.tgz","fileCount":82,"integrity":"sha512-lfwDnIzU18k2zVcMVNGfJ7YkhM4YDlAMGbxWmGWcTtEQpMy6BRzNUDD8z3I7jNuLGFPCXg7qSOluD14DIwGHnQ==","signatures":[{"sig":"MEUCIDsLgViMOta8oGO0IoPdVpdqBTHUSmwvcBaTRJqu9Hd0AiEA/fIrrFoDlL2RPF/GO0AX0Hz5N/1w/sMQP8WrR/IBD80=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":185570},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"a5d721695b667d0008fc986def7add9410a5e811","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.3","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"devDependencies":{"tsup":"^8.0.1","vite":"^4.4.10","oclif":"^4","eslint":"^8.55.0","vitest":"^1.1.0","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.10.5","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.0","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^2.11.7","@shopify/cli-kit":"^3.51.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_3.1.7_1704315755642_0.0508099457782869","host":"s3://npm-registry-packages"}},"3.1.9-unstable.202401051510.0":{"name":"@shopify/oxygen-cli","version":"3.1.9-unstable.202401051510.0","license":"MIT","_id":"@shopify/oxygen-cli@3.1.9-unstable.202401051510.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"0714a6a6bedb929b3ac0ae852e6554762cd5d4a5","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-3.1.9-unstable.202401051510.0.tgz","fileCount":82,"integrity":"sha512-Qo2ZvfQ/b9d7IdJoYjdvCJbD+Z3i4gxx+OT6KqbMG5uKZxJW+NskkIl5JGj12Fd7pyXbzd4UBw5Pe9fZ0acthQ==","signatures":[{"sig":"MEUCIQCkCLdnkTWMj/TeXwIN8ZGmlwDnxyfmjF7xTkqUbMHBxAIgfao4qVPSXPrOV/j9BYxj7yrvRbfztk3unkXZo29JQQ8=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":185693},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n- --generateAuthBypassToken: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"e0c14b35b1557b7dd761b93e95a35ad55a5326b8","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.3","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.1","vite":"^4.4.10","oclif":"^4","eslint":"^8.55.0","vitest":"^1.1.3","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.10.5","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.0","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^2.11.7","@shopify/cli-kit":"^3.51.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_3.1.9-unstable.202401051510.0_1704467462219_0.22500728454374297","host":"s3://npm-registry-packages"}},"3.1.9-unstable.202401051515.0":{"name":"@shopify/oxygen-cli","version":"3.1.9-unstable.202401051515.0","license":"MIT","_id":"@shopify/oxygen-cli@3.1.9-unstable.202401051515.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"34f18772f0ff3f11582d4b96ef11c8e155e88d2f","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-3.1.9-unstable.202401051515.0.tgz","fileCount":82,"integrity":"sha512-roufHUUrZV+9c7NSxVmzpn0ibDwzW/n9mwEL4/vpwgUcoDvEu416jl7hjS34wZV91FAsk20Wh6iMw6vHtFhnpg==","signatures":[{"sig":"MEUCIQCFCHjFuBe4gjbsbWW/scbK4SwoP9gH2to5Nm2tg83alwIgUVsIgAqWwTyuZoeJbqGzJW1+TxrboQR+cBJxcsht8H4=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":185808},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n- --generateAuthBypassToken: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"7af0edb1ef7d9310659915f949d9ae92f5cbdb5a","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.3","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.1","vite":"^4.4.10","oclif":"^4","eslint":"^8.55.0","vitest":"^1.1.3","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.10.6","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.2","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^2.11.7","@shopify/cli-kit":"^3.51.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_3.1.9-unstable.202401051515.0_1704467725711_0.5024762844488304","host":"s3://npm-registry-packages"}},"3.1.9-unstable.202401081521.0":{"name":"@shopify/oxygen-cli","version":"3.1.9-unstable.202401081521.0","license":"MIT","_id":"@shopify/oxygen-cli@3.1.9-unstable.202401081521.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"e9df5dbf292b85d5f0451e6eeaaf36b9e523dcfd","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-3.1.9-unstable.202401081521.0.tgz","fileCount":82,"integrity":"sha512-jSH3En0eoZQStMo1S+D+ro9y5i7mCvsQW3G20hqlmjuUxFUBLjczkj2A+N/R/E8LpXxTYLadWs3X5LXnB0BkeA==","signatures":[{"sig":"MEUCIQD6qlm4WLDaZq77A12VyF9/VPCf1EkndCaTa9OmO1kcKgIgR65pjMCekNeNO7xm5Y6VocDX+WkBjVW9t7VYfCHMsk4=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":185862},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n- --generateAuthBypassToken: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"d48c31d0caedd01de61ebc333916873127fecf20","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.3","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.1","vite":"^4.4.10","oclif":"^4","eslint":"^8.55.0","vitest":"^1.1.3","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.10.7","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.2","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^2.11.7","@shopify/cli-kit":"^3.51.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_3.1.9-unstable.202401081521.0_1704727294363_0.015868899098950395","host":"s3://npm-registry-packages"}},"3.1.9-unstable.202401090007.0":{"name":"@shopify/oxygen-cli","version":"3.1.9-unstable.202401090007.0","license":"MIT","_id":"@shopify/oxygen-cli@3.1.9-unstable.202401090007.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"fc8bd833246238573ff268b2ca8129cdbffa5562","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-3.1.9-unstable.202401090007.0.tgz","fileCount":82,"integrity":"sha512-kzyYRJLy2cmjBg1CDRTyLvlQL9mLKxx6fGQ455PEhfKw6vTbzMDj7ivBLrnfr9qLENceoIefGzwnkqCd4qYZHA==","signatures":[{"sig":"MEUCIQDRaJMJ3v4ekZDbn+vbnHtk4QV10ePlZzHdiOqBS6WySAIgG2Df98fv1HkwYCXCfPQiXZyYhgMeUdNhnrESfgFc6UU=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":185906},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n- --generateAuthBypassToken: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"00b72f1f4288971845db13dd572ad9f1b63334c9","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.3","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.1","vite":"^4.4.10","oclif":"^4","eslint":"^8.55.0","vitest":"^1.1.3","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.10.7","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.2","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^2.11.7","@shopify/cli-kit":"^3.51.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_3.1.9-unstable.202401090007.0_1704758855563_0.41539599782524994","host":"s3://npm-registry-packages"}},"3.1.9-unstable.202401091544.0":{"name":"@shopify/oxygen-cli","version":"3.1.9-unstable.202401091544.0","license":"MIT","_id":"@shopify/oxygen-cli@3.1.9-unstable.202401091544.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"360c61de848287f7dbbb8d63cc4390e485a708cd","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-3.1.9-unstable.202401091544.0.tgz","fileCount":82,"integrity":"sha512-4NI/kTkeo/9vv268tRV2K9NlC3TgtWW77tbZIJrA2rF0BfeX3Bmu0Wkw3USOI1CDxu8/RKGwr+Pd9NRCgoPcYg==","signatures":[{"sig":"MEQCIDSSM3JNzJUJzWn6IFBDXUNZkI3Pgdt0Fr50ZqT3NeZfAiBRrn+LpD5TaH9BrwOMJkrcvOwXn5P6EV3wUT8gIjimPw==","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":185960},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n- --generateAuthBypassToken: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"62fa5a0b8b527e3aa7404614c18200d90e23395c","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.3","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.1","vite":"^4.4.10","oclif":"^4","eslint":"^8.55.0","vitest":"^1.1.3","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.10.8","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.2","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^2.11.7","@shopify/cli-kit":"^3.51.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_3.1.9-unstable.202401091544.0_1704815108158_0.7192959492292683","host":"s3://npm-registry-packages"}},"3.1.9-unstable.202401101521.0":{"name":"@shopify/oxygen-cli","version":"3.1.9-unstable.202401101521.0","license":"MIT","_id":"@shopify/oxygen-cli@3.1.9-unstable.202401101521.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"40da5a6f4cf1e9d02ed41ee15350583a17a6fcc5","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-3.1.9-unstable.202401101521.0.tgz","fileCount":82,"integrity":"sha512-cn1fxhl0172ruJjrksq4yNwpqKB1M5dkYW+5n/yjkdpF+nyGUXXiz0UXod8SlChI9G+HtY9sZo7Whglh5G5AIQ==","signatures":[{"sig":"MEQCIHnlWZ+lcn9DEqnMIKm56ky1H0DW48nu54lQsDx6aHUDAiAhevWLhi8/0ZAiHWgC/w8AOGVIGvn9hACtNdLAvqkJAQ==","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":186065},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL that links to the deployment.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n- --generateAuthBypassToken: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | BITBUCKET_COMMIT_AUTHOR | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"cd0ae5c32ae1f6fa450ec1d3cbd9761e19777494","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.3","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.1","vite":"^4.4.10","oclif":"^4","eslint":"^8.55.0","vitest":"^1.1.3","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.10.8","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^2.11.7","@shopify/cli-kit":"^3.51.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_3.1.9-unstable.202401101521.0_1704900097969_0.35525283492287807","host":"s3://npm-registry-packages"}},"3.1.9-unstable.202401111534.0":{"name":"@shopify/oxygen-cli","version":"3.1.9-unstable.202401111534.0","license":"MIT","_id":"@shopify/oxygen-cli@3.1.9-unstable.202401111534.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"6a3bdd1d47dee306dadef5213e017833f06c13d3","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-3.1.9-unstable.202401111534.0.tgz","fileCount":82,"integrity":"sha512-Sca9YKKJO0eP12kxKONDXmsdJ5V9cXmgmVbyJDqTfunNWfyYgBfJuJN55yEAhyyfknL/xiE2IqkKqAo4tW1Cuw==","signatures":[{"sig":"MEYCIQDszYxov/GMl4vHURRR0PL8pJ89Kb595FQvDxky/7/GKQIhALsa2PMSC20ah2QM6mT7HtBWjBlgicXx/4fnV0ojKaMM","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":186263},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n- --generateAuthBypassToken: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"1a1ec4a6e6fe12eafb9d75393e66343ec3a80f53","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.3","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.1","vite":"^4.4.10","oclif":"^4","eslint":"^8.55.0","vitest":"^1.1.3","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.10.8","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^2.11.7","@shopify/cli-kit":"^3.51.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_3.1.9-unstable.202401111534.0_1704987278047_0.15515158032248344","host":"s3://npm-registry-packages"}},"3.1.9-unstable.202401111603.0":{"name":"@shopify/oxygen-cli","version":"3.1.9-unstable.202401111603.0","license":"MIT","_id":"@shopify/oxygen-cli@3.1.9-unstable.202401111603.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"49e22168de3701b0353511d8038ab8fc2009853c","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-3.1.9-unstable.202401111603.0.tgz","fileCount":82,"integrity":"sha512-jzoXfa/UEFYuFAn/UkckGXJtJdH0SpP7K2yMjmvZWL+8THfOld7UG6T97NxySmBFbF9KQMW1TvHp32SHIT4GyA==","signatures":[{"sig":"MEYCIQDCBVfq5renkUNlzuxCyPHrfgjHDSpkrfgj204xPqZPHgIhAMOSclqy3ysAqaAMiN6aOLM71+COJcrWUu0by2XjNqbY","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":186317},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n- --generateAuthBypassToken: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"b93654da06379b46da58ebd77f5298ae4ddaadf2","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.3","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.1","vite":"^4.4.10","oclif":"^4","eslint":"^8.55.0","vitest":"^1.1.3","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.11.0","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^2.11.7","@shopify/cli-kit":"^3.51.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_3.1.9-unstable.202401111603.0_1704989017154_0.7278936785041672","host":"s3://npm-registry-packages"}},"3.1.9-unstable.202401111608.0":{"name":"@shopify/oxygen-cli","version":"3.1.9-unstable.202401111608.0","license":"MIT","_id":"@shopify/oxygen-cli@3.1.9-unstable.202401111608.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"0ea11f19a11c2853f7f7fb808616846ab00f9aa5","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-3.1.9-unstable.202401111608.0.tgz","fileCount":82,"integrity":"sha512-jWRc9cLHlwRsQ9JXsqf6nEyWeN78t/mc66XajQMUjwKRjNUHDrQnVNacC9grvZ4SnVj4/C+kISZllXqxP62aEw==","signatures":[{"sig":"MEUCICeW3N5abBl1QyIg8fmtHVCdkPoC2Tu66bI8Zs4FKlTtAiEAkl9nl+uP8rs55iAGBhvBqIdbKzyqxP/RQUoWbmTRBDc=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":186361},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n- --generateAuthBypassToken: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"79ac5b971a0f1211da7ac943b0db6d892663835e","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.3","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.1","vite":"^4.4.10","oclif":"^4","eslint":"^8.55.0","vitest":"^1.1.3","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.11.0","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^2.11.7","@shopify/cli-kit":"^3.51.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_3.1.9-unstable.202401111608.0_1704989335364_0.16913143398722252","host":"s3://npm-registry-packages"}},"3.1.9-unstable.202401151559.0":{"name":"@shopify/oxygen-cli","version":"3.1.9-unstable.202401151559.0","license":"MIT","_id":"@shopify/oxygen-cli@3.1.9-unstable.202401151559.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"b8ea7ec4aa366bb52f10cf61bdea9b9e7188f2fc","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-3.1.9-unstable.202401151559.0.tgz","fileCount":82,"integrity":"sha512-y2clFuuTv93vMsWGwnFw7+JEWPH5g8W+1BJqmOWBfNpuez5lbtnWqsoK8FODkbfGD3CZ6ep/9tw+8ChwWk2uIA==","signatures":[{"sig":"MEYCIQCJc7IuhBLAWwTpcFvGkouazAEywfcTtKwu8UJ+9RshOgIhANYhbfSvgFAs/ZqWGBYBF+UXvTHQ2q0oFv3Sq7zfI1c3","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":186504},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n- --generateAuthBypassToken: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"ce0a32935ae5ed835be4c1c2fc4b7d7e987a90ce","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.3","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.1","vite":"^4.4.10","oclif":"^4","eslint":"^8.55.0","vitest":"^1.2.0","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.11.2","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^2.11.7","@shopify/cli-kit":"^3.51.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_3.1.9-unstable.202401151559.0_1705334358208_0.24117146255650423","host":"s3://npm-registry-packages"}},"3.1.9-unstable.202401161007.0":{"name":"@shopify/oxygen-cli","version":"3.1.9-unstable.202401161007.0","license":"MIT","_id":"@shopify/oxygen-cli@3.1.9-unstable.202401161007.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"f10cae4d326421d9299c0f7dfad622e832646762","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-3.1.9-unstable.202401161007.0.tgz","fileCount":82,"integrity":"sha512-HTsw4rjZ2QAJT6FC9BKzVkMc7NKKlGFmUq2SFg/LkQIJuncNio0uJcbE0eNG/Lh8SDhyHLpNR5x/rFOp+Gd4wg==","signatures":[{"sig":"MEUCIQDfMXeC7yyfmiNSwl29XKrk7VsSduvyRWGW2fhBUxIDdgIgLS1Ze6ZlGJVIq5GoPCoPXV45QW9OOe7jh+wi3hPjgOg=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":187094},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n- --generateAuthBypassToken: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"b209fb0d15aacc7d2ac44c1c4b8401e6279a73ac","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.3","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.1","vite":"^4.4.10","oclif":"^4","eslint":"^8.55.0","vitest":"^1.2.0","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.11.2","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^2.11.7","@shopify/cli-kit":"^3.51.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_3.1.9-unstable.202401161007.0_1705399657475_0.5744573895086931","host":"s3://npm-registry-packages"}},"3.1.9-unstable.202401161602.0":{"name":"@shopify/oxygen-cli","version":"3.1.9-unstable.202401161602.0","license":"MIT","_id":"@shopify/oxygen-cli@3.1.9-unstable.202401161602.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"1b5f2a224895c78f05204d00543909af6e4d99be","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-3.1.9-unstable.202401161602.0.tgz","fileCount":82,"integrity":"sha512-mWkcQxcO8q7o9j/hOOJpKjqj+QxGvSUW3nHVpgELL6FUjkOqKcSsrzIhvb5XD2dKC9933X1Xi2eXv/z4EAkg+w==","signatures":[{"sig":"MEQCIHS8Yad5r0h8sj+rhrAehoymygY5+Hni4/hhGOOIGvoLAiBeGzd/xntjTPN+jeAXmmOxmrfwhJmXHdEBe9+aB7vNhw==","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":187148},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n- --generateAuthBypassToken: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"579ee13b24f39fcbfb5ddf24bd9e41e183fea401","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.3","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.1","vite":"^4.4.10","oclif":"^4","eslint":"^8.55.0","vitest":"^1.2.0","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.11.4","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^2.11.7","@shopify/cli-kit":"^3.51.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_3.1.9-unstable.202401161602.0_1705420969889_0.029723242911871894","host":"s3://npm-registry-packages"}},"3.1.9-unstable.202401171457.0":{"name":"@shopify/oxygen-cli","version":"3.1.9-unstable.202401171457.0","license":"MIT","_id":"@shopify/oxygen-cli@3.1.9-unstable.202401171457.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"5ffd2c5262e629b21d028b33f8fde3477525a4c9","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-3.1.9-unstable.202401171457.0.tgz","fileCount":82,"integrity":"sha512-lVootBpIfzUzQ5evj2Sapw+eCZi0qHuaFQUqvd8Lyc1FgQO6ZDYsebzEHHbLOZTAibDoDuV4Zef/heOsDyfnpQ==","signatures":[{"sig":"MEUCIFEGdJbmfkBsHHXCe2AL4IzqHt0HEpYA3o1M81o8bKWjAiEA2+GpdiRb2ZiCa0+P7J6J3Pi3qoEJ19We2tvlQ2+J2qk=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":187192},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n- --generateAuthBypassToken: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"c79a201e99f28f32c5c68a19306660f206442694","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.3","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.1","vite":"^5.0.11","oclif":"^4","eslint":"^8.55.0","vitest":"^1.2.0","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.11.4","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^2.11.7","@shopify/cli-kit":"^3.51.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_3.1.9-unstable.202401171457.0_1705503448668_0.5204496987595879","host":"s3://npm-registry-packages"}},"3.1.9-unstable.202401171540.0":{"name":"@shopify/oxygen-cli","version":"3.1.9-unstable.202401171540.0","license":"MIT","_id":"@shopify/oxygen-cli@3.1.9-unstable.202401171540.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"cc26153862d26cde6f8d8d51d36969a0d9bfb49d","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-3.1.9-unstable.202401171540.0.tgz","fileCount":82,"integrity":"sha512-fMlmDqDGEcCU5Pe7BtgiItMfB0/8Ls1Dxp+WF7mlbg98OLSOYutQHnELXI4ee+R6nC6uWnvT8m7kV8W1ogPaOQ==","signatures":[{"sig":"MEUCIQC07OIJe3qBSsGRSf/8CczBPRbK/lEOoE+qtdPi29UdygIgNSdhqxKgq2RasJfaTy+NFggxFaJbZoy/oNQXHO7TfmE=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":187246},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n- --generateAuthBypassToken: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"9813c20674ddb7edf1ae6f67c944bed17843707c","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.3","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.1","vite":"^5.0.11","oclif":"^4","eslint":"^8.55.0","vitest":"^1.2.0","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.11.5","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^2.11.7","@shopify/cli-kit":"^3.51.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_3.1.9-unstable.202401171540.0_1705506014695_0.3068795040952277","host":"s3://npm-registry-packages"}},"3.1.8":{"name":"@shopify/oxygen-cli","version":"3.1.8","license":"MIT","_id":"@shopify/oxygen-cli@3.1.8","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"dfc6f537536ff196e05a57c9393de5d7b2c07005","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-3.1.8.tgz","fileCount":82,"integrity":"sha512-lHk7QvnMH7nVr8+DorbStWNsFFbYyBXz27tSL1afO7+7BgPylJlEU3wv3+7dqeSue5MfuwyPNO3voN/M/meoNw==","signatures":[{"sig":"MEUCIH+2jIvFe3tnODYKiFt0M//Z7ivkq5OxXIrdMXdAhGKBAiEAy0kPbYE4Q26oe3JoWnVKwQfWNCf0NECto740Blb2Ia0=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":187198},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"50c2a3710241564c2e3630174bbe97a84223cb91","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.3","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"devDependencies":{"tsup":"^8.0.1","vite":"^5.0.11","oclif":"^4","eslint":"^8.55.0","vitest":"^1.2.0","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.11.5","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^2.11.7","@shopify/cli-kit":"^3.51.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_3.1.8_1705589813011_0.9302186093431117","host":"s3://npm-registry-packages"}},"3.1.10-unstable.202401181539.0":{"name":"@shopify/oxygen-cli","version":"3.1.10-unstable.202401181539.0","license":"MIT","_id":"@shopify/oxygen-cli@3.1.10-unstable.202401181539.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"1800c48971a0172359c884ba41f395d05b2e2a60","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-3.1.10-unstable.202401181539.0.tgz","fileCount":82,"integrity":"sha512-sscXaiU5wPgYsbb/ifobTCwAAs539//upE7HelkMUBU48Yqbl4zqy37/+jey0+6ke7sn2xbMgLcrQsHhmwEQsA==","signatures":[{"sig":"MEQCICz+tCncUKrHFcA420dfre9l4HSftE4OZZEC9oDnpMYiAiBAmO6vAD8eFwOAjMVZg6BRDob7ygbCsg/qPET5iefSBg==","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":187323},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n- --generateAuthBypassToken: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"2d99386562d5b5486b0353928a842bb07cdd814c","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.3","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.1","vite":"^5.0.11","oclif":"^4","eslint":"^8.55.0","vitest":"^1.2.1","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.11.5","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^2.11.7","@shopify/cli-kit":"^3.51.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_3.1.10-unstable.202401181539.0_1705592388027_0.6960091569973594","host":"s3://npm-registry-packages"}},"3.1.10-unstable.202401181541.0":{"name":"@shopify/oxygen-cli","version":"3.1.10-unstable.202401181541.0","license":"MIT","_id":"@shopify/oxygen-cli@3.1.10-unstable.202401181541.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"257f20437cfb41a261649a9518c29c8f137a84b6","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-3.1.10-unstable.202401181541.0.tgz","fileCount":82,"integrity":"sha512-RAekLzPGlOlhIxky5zwTTh0fpMUZAicH+x9vQTB6s7FcdQRSAjOA+anusdhgjiDq5hoWljxH67lt0friJLAI4g==","signatures":[{"sig":"MEUCIBaq/SsKO1QyIjsgqjmFiVyBCmfdxmlQWPkwHxsGXbdRAiEA4k/qXVz/4FaqrZLMDwHp30rHAJLvKK5UPgH6kdPXakw=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":187367},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --publicDeployment: set the deployment to be publicly accessible.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n- --generateAuthBypassToken: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"7589bff5eb8ca25253b12965f07f72fbbfded51f","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.3","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.1","vite":"^5.0.11","oclif":"^4","eslint":"^8.55.0","vitest":"^1.2.1","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.11.5","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^2.11.7","@shopify/cli-kit":"^3.51.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_3.1.10-unstable.202401181541.0_1705592532568_0.11897129347288038","host":"s3://npm-registry-packages"}},"4.0.1-unstable.202401181831.0":{"name":"@shopify/oxygen-cli","version":"4.0.1-unstable.202401181831.0","license":"MIT","_id":"@shopify/oxygen-cli@4.0.1-unstable.202401181831.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"b20f94dc7404bf70ad285164957dac90232952ab","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.0.1-unstable.202401181831.0.tgz","fileCount":82,"integrity":"sha512-AcDitNbrcHa9d1xijvOtMg+AdC7GE8QB/5Sez97zQDmFCM8rSVihwV2AkKQeuWQlzhhD1122AjUmNyUXg2INFA==","signatures":[{"sig":"MEYCIQCCaExR+EeKsUbscz+ImFw9vP+/ZVtAUcQr4bI8GueYfQIhAJEnEq2SDG0GBCpDMUVwE7lj8IRJYaFRgz/iw6dyVXdb","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":187912},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- --defaultEnvironment: Deploys to the default environment of the app.\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n- --generateAuthBypassToken: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"6be5981afceedb182f438b0ebed73ee7d430268e","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.3","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.1","vite":"^5.0.11","oclif":"^4","eslint":"^8.55.0","vitest":"^1.2.1","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.11.5","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^2.11.7","@shopify/cli-kit":"^3.51.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.0.1-unstable.202401181831.0_1705602687985_0.965220489366041","host":"s3://npm-registry-packages"}},"4.0.1-unstable.202401191555.0":{"name":"@shopify/oxygen-cli","version":"4.0.1-unstable.202401191555.0","license":"MIT","_id":"@shopify/oxygen-cli@4.0.1-unstable.202401191555.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"b1170462ee991a3da246cb6490a8365c314e297d","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.0.1-unstable.202401191555.0.tgz","fileCount":82,"integrity":"sha512-O1ScR1XmWOnNipCUOm7Kc5tDL/HyUajAf+aq4RvcqQLFXOXw+tXIWCnkrzP7MDasMM6Bc2314dZcYhYG200/Ng==","signatures":[{"sig":"MEYCIQCfZdeQpT1eiY2XQKYXq/Utd2JB5UqJfvovYk9FU/SEKgIhAL4IUhDPZr58b1AxBDh3V1JxCG70hc5dirMMW244721v","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":187957},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- --defaultEnvironment: Deploys to the default environment of the app.\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n- --generateAuthBypassToken: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"3f2c01ff35ec27d6ed150a85dc94d4cdf59c7d3f","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.3","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.1","vite":"^5.0.12","oclif":"^4","eslint":"^8.55.0","vitest":"^1.2.1","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.11.5","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^2.11.7","@shopify/cli-kit":"^3.51.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.0.1-unstable.202401191555.0_1705679721981_0.8634908829887342","host":"s3://npm-registry-packages"}},"4.0.1-unstable.202401191559.0":{"name":"@shopify/oxygen-cli","version":"4.0.1-unstable.202401191559.0","license":"MIT","_id":"@shopify/oxygen-cli@4.0.1-unstable.202401191559.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"6590b0b235cd60913d25afb705d4197f17a40949","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.0.1-unstable.202401191559.0.tgz","fileCount":82,"integrity":"sha512-2094ehY8xQky5d8QYWShwWh2w30+FYRwpBTTzJXaOGDRwIDut/Rk+rgO22/X+zm36j3sba4sTPfpUrG2CW56fw==","signatures":[{"sig":"MEYCIQD4n8WXIW/wbkvph3FVa+K2tqMD0UFldi0xQAgeJ1uaOgIhANr8Zze+HntVYYv+p69Az+VW8RN+wxadm6x0z1e/eCfl","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":188001},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\nThe common route to launch oxygen-cli's `deploy` command locally is through [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli). When this is installed globally, the command is available via the `h2 deploy`.\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\nFinally, it is also possible to install the oxygen-cli independently, which is preferable when run from within a CI/CD environment.\n\n```\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```\noxygen:deploy [options]\n```\n\n### Options\n\n- -t, --token <token>: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- -p, --path <rootPath>: Root path (defaults to the current working directory).\n- -e, --environmentTag <environmentTag>: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- --defaultEnvironment: Deploys to the default environment of the app.\n- -w, --workerFolder <workerFolder>: Worker folder (default: `dist/worker/`).\n- -a, --assetsFolder <assetsFolder>: Assets folder (default: `dist/client/`).\n- -o, --workerOnly: Worker only deployment.\n- -s, --skipBuild: Skip running build command.\n- -b, --buildCommand <buildCommand>: Build command (default: `yarn build`).\n- -v, --skipVerification: skip the worker deployment verification step\n- -d, --verificationMaxDuration: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- --metadataDescription <metadataDescription>: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- --metadataUrl <metadataUrl>: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- --metadataUser <metadataUser>: User that initiated the deployment.\n- --metadataVersion <metadataVersion>: A version identifier for the deployment.\n- --disableBugsnag: Disable Bugsnag error reporting.\n- --generateAuthBypassToken: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n\n**Note**: All metadata options (--metadataDescription, --metadataUrl, --metadataUser, and --metadataVersion) have a maximum character limit of 375.\n\n### Example:\n\n```\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the staging environment with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the` --skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"405d3097316206dc5569852a2feefa2b82b919d9","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.3","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.1","vite":"^5.0.12","oclif":"^4","eslint":"^8.55.0","vitest":"^1.2.1","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.11.5","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^2.11.7","@shopify/cli-kit":"^3.51.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.0.1-unstable.202401191559.0_1705679954700_0.9040651897544651","host":"s3://npm-registry-packages"}},"4.0.1-unstable.202401192311.0":{"name":"@shopify/oxygen-cli","version":"4.0.1-unstable.202401192311.0","license":"MIT","_id":"@shopify/oxygen-cli@4.0.1-unstable.202401192311.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"982ccdecd95552af6b027eefd3a71867ac9ecb4c","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.0.1-unstable.202401192311.0.tgz","fileCount":82,"integrity":"sha512-04nGfzAtKY9FuAZagqj6NBIgnWEFkPv86TRKY6rq5A5WwhHJbnyN/LNwW/m9sN5b6h3/tyxtHNmZYNvwsMd9cQ==","signatures":[{"sig":"MEUCIQDaCTSsFS5F22fOXinRyIZuih5owN5l9o/zwhzNJ+rN0QIgOTvCuIthpnH6y/4HYwQyHYB2mLaK/nPqXKPBnhkutmQ=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":188061},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"90ed7fe6b5fe4a3020375f4a73f957c0f5a99f46","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.3","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.1","vite":"^5.0.12","oclif":"^4","eslint":"^8.55.0","vitest":"^1.2.1","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.11.5","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^2.11.7","@shopify/cli-kit":"^3.51.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.0.1-unstable.202401192311.0_1705705911908_0.2017164846672337","host":"s3://npm-registry-packages"}},"4.0.1-unstable.202401221555.0":{"name":"@shopify/oxygen-cli","version":"4.0.1-unstable.202401221555.0","license":"MIT","_id":"@shopify/oxygen-cli@4.0.1-unstable.202401221555.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"52cbfcb1c76b4d5d20f784037d547a4903a5e32d","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.0.1-unstable.202401221555.0.tgz","fileCount":82,"integrity":"sha512-6+TDUW9zuMznQ+Of1EpRVaR69SHqMCY9lDnr7z+YPVGZCdzVXBOxOlwvyk+luCPu1WPULtiQfKBAVHOqdO2cQw==","signatures":[{"sig":"MEQCIH4CLYoRwTmwithVKfCiatzOMpRnc514O5o04J+qxmjSAiAXldv1VTvjsAWQDManzNP6q8hI6jyqab3IL4zCaIsrSw==","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":188105},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"e9ad8fad149f8fb2d14420ce8f865a20a8bc0dba","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.3","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.1","vite":"^5.0.12","oclif":"^4","eslint":"^8.55.0","vitest":"^1.2.1","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.11.5","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^2.11.7","@shopify/cli-kit":"^3.51.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.0.1-unstable.202401221555.0_1705938944935_0.7733174419761719","host":"s3://npm-registry-packages"}},"4.0.0":{"name":"@shopify/oxygen-cli","version":"4.0.0","license":"MIT","_id":"@shopify/oxygen-cli@4.0.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"f2d596723bbc71d10179e25a499b7b38ed876940","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.0.0.tgz","fileCount":82,"integrity":"sha512-mkUffl5zUGrvrds935ncWQdzLIThrF1CNGpvLUA17dMwQxqVIfb3pM9/4iWBNgvvORaLWG1ceXsUTg5xVEra1Q==","signatures":[{"sig":"MEUCIQCKrdq6V6ADjNdkeJeq6vytwLHYlJs8kReRv1sTZWNaegIgDQYeNtzZw0UX7e68Fogx098ldAlZ3pOr6AC1M7bYjYk=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":188057},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"38e20ce90b2e63215b5268c80389fbb9bc2d620a","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.3","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"devDependencies":{"tsup":"^8.0.1","vite":"^5.0.12","oclif":"^4","eslint":"^8.55.0","vitest":"^1.2.1","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.11.5","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^2.11.7","@shopify/cli-kit":"^3.51.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.0.0_1705966020652_0.8511792025102272","host":"s3://npm-registry-packages"}},"4.0.2-unstable.202401241609.0":{"name":"@shopify/oxygen-cli","version":"4.0.2-unstable.202401241609.0","license":"MIT","_id":"@shopify/oxygen-cli@4.0.2-unstable.202401241609.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"a7b02ce56b5178f8485b99ce080094eafeba225e","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.0.2-unstable.202401241609.0.tgz","fileCount":82,"integrity":"sha512-K8Jph68eUAFHtrtJF3Tu+b5AXI/oMM/bqEGZ7sswpuu74F09AX0tmBr/tzvcrcvPkFxEwRyfyXKP4g62IbNCGA==","signatures":[{"sig":"MEQCIFzL3S5viiy5zOCq9XydyzsVdrL2cmpFJVtAauuqz2/TAiBfxbNjpr49W2pf0j3mVvo0RCiDELXhFhwObZcYNiEJJQ==","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":188189},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"b4a683f1f2c0d8209d6a4f7ae10df2d23b43e9a2","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.3","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.1","vite":"^5.0.12","oclif":"^4","eslint":"^8.55.0","vitest":"^1.2.1","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.11.6","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^2.11.7","@shopify/cli-kit":"^3.51.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.0.2-unstable.202401241609.0_1706112607515_0.9411582573739541","host":"s3://npm-registry-packages"}},"4.0.2-unstable.202401261552.0":{"name":"@shopify/oxygen-cli","version":"4.0.2-unstable.202401261552.0","license":"MIT","_id":"@shopify/oxygen-cli@4.0.2-unstable.202401261552.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"d2be04e983130ac0f68ed9216a30d777a30c9a94","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.0.2-unstable.202401261552.0.tgz","fileCount":82,"integrity":"sha512-GHBALYkHq0GZSTSr+q13T1YV6Rk8j+yMnrUAKLD8woMsp3kDTF5WZGE0JiiQ3JbYQzpu76CYVsi/BzN2vSVH1g==","signatures":[{"sig":"MEQCIDpm5bnYNsSgbVpDWslld0TzHXHlhZYRUhaeji/4jQS8AiBripagreDTds7szif25CHgHg+uyogBpdqrtcQXFtxCuQ==","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":188288},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"e77317587e95235a878fe571b758ef74bd3cec21","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.3","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.1","vite":"^5.0.12","oclif":"^4","eslint":"^8.55.0","vitest":"^1.2.1","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.11.7","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^2.11.7","@shopify/cli-kit":"^3.51.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.0.2-unstable.202401261552.0_1706284389555_0.5301686862573813","host":"s3://npm-registry-packages"}},"4.0.2-unstable.202401291537.0":{"name":"@shopify/oxygen-cli","version":"4.0.2-unstable.202401291537.0","license":"MIT","_id":"@shopify/oxygen-cli@4.0.2-unstable.202401291537.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"763ef653c002698b95c71e85ad91a245edafb3b0","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.0.2-unstable.202401291537.0.tgz","fileCount":82,"integrity":"sha512-PSKLc2SWtS14na9g4DtNYWdmRGxBqIqxJKssAS8quqV6g0iQr4Pl8jUPbdOGlVbk6pUPhDVkEUlcO/ds5SlEXA==","signatures":[{"sig":"MEUCIQCOQQr2etNxjShsqpdEV0eB+3JRUMCmykVbMXtAI+Uj3AIgDgr1Y2ZJWPzmSa9/SJE7J+99DV7PI5YmKIqPmktDwMg=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":188344},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"e8a45accff34efc94580b99bc349f6225fbdad3b","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.3","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.1","vite":"^5.0.12","oclif":"^4","eslint":"^8.55.0","vitest":"^1.2.1","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.11.10","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^2.11.7","@shopify/cli-kit":"^3.51.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.0.2-unstable.202401291537.0_1706542671533_0.421215318017522","host":"s3://npm-registry-packages"}},"4.0.2-unstable.202401291539.0":{"name":"@shopify/oxygen-cli","version":"4.0.2-unstable.202401291539.0","license":"MIT","_id":"@shopify/oxygen-cli@4.0.2-unstable.202401291539.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"5c6a3864c7cd35dcacb6dbcb3a02d3f94a5c0d04","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.0.2-unstable.202401291539.0.tgz","fileCount":82,"integrity":"sha512-N5KEs9sGaZxuzk5eF6ZoCE+VdondY6NTpDsYYWQvy9MiIr4OQL21sfdrDx7KMZcvfnKv4a0vVQ+pjs9ZwVkeoA==","signatures":[{"sig":"MEQCIFOnyYFZLYhNcSWzon4WNQshDKFdxkgrvulcZFjtbGjTAiByaVpnYXUmbU1x3hqvbnlgpynAkQjKA3c3dJvAnTFs/Q==","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":188389},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"294c8ecde205b2ed1afc7e4e19a04265d8fb094c","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.3","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.1","vite":"^5.0.12","oclif":"^4","eslint":"^8.55.0","vitest":"^1.2.2","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.11.10","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^2.11.7","@shopify/cli-kit":"^3.51.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.0.2-unstable.202401291539.0_1706542787835_0.3189753953529184","host":"s3://npm-registry-packages"}},"4.0.2-unstable.202401291540.0":{"name":"@shopify/oxygen-cli","version":"4.0.2-unstable.202401291540.0","license":"MIT","_id":"@shopify/oxygen-cli@4.0.2-unstable.202401291540.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"6af16e07948d2f4dd59ce1aa91257018e769ccec","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.0.2-unstable.202401291540.0.tgz","fileCount":82,"integrity":"sha512-3i8TOw2EOBEIqmqn4fQ15AMNM7eYlerT4PBC2wEe7hvl7zB6gRF5nFtnO+8v0EsdTIUilpqpWCgqCJ9AB/CyBg==","signatures":[{"sig":"MEYCIQDuqrnKvce8giQLe3YWnEB7bs+8EEpcg2C7PFS7053QFwIhAK6EbBoOWytbsr3laA+tIAegGUacjaNCIC7bQteHJos5","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":188434},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"902bb662cdfecf32dde71d48e60db128f753c875","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.3","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.1","vite":"^5.0.12","oclif":"^4","eslint":"^8.55.0","vitest":"^1.2.2","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.11.10","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^2.11.7","@shopify/cli-kit":"^3.51.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.0.2-unstable.202401291540.0_1706542845837_0.919966412635995","host":"s3://npm-registry-packages"}},"4.0.2-unstable.202401311603.0":{"name":"@shopify/oxygen-cli","version":"4.0.2-unstable.202401311603.0","license":"MIT","_id":"@shopify/oxygen-cli@4.0.2-unstable.202401311603.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"e2293c72e5fdf60724123903fddddcb81b53d6ad","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.0.2-unstable.202401311603.0.tgz","fileCount":82,"integrity":"sha512-NXVe3ugXxnikRgbGmZgnvQjhzzd2MbJBUJsaCIKwpA0jZIiQJiz7pUqBwq4zivxidRLxUhw8uk6aAi035CZ+QA==","signatures":[{"sig":"MEQCID/QPqg04vXoTZ0VwHxdtrg/u4T2udaC47fBeegD6zJ8AiA7wRrRJ7A5t6HXiO/GXcBHXtWc+GSNEc+ChBLRNMcYPA==","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":188490},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"b8f36b31e5d6f2caf03ab03341ad6c186e22f8b2","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.3","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.1","vite":"^5.0.12","oclif":"^4","eslint":"^8.55.0","vitest":"^1.2.2","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.11.13","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^2.11.7","@shopify/cli-kit":"^3.51.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.0.2-unstable.202401311603.0_1706717002426_0.4917893701722569","host":"s3://npm-registry-packages"}},"4.0.2-unstable.202402011540.0":{"name":"@shopify/oxygen-cli","version":"4.0.2-unstable.202402011540.0","license":"MIT","_id":"@shopify/oxygen-cli@4.0.2-unstable.202402011540.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"6a12a7e27182ec6cef78d5a62c2685fb3129bbd0","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.0.2-unstable.202402011540.0.tgz","fileCount":82,"integrity":"sha512-uP7fcnSzvR+MSMMFJztuTC0lOuI8qcF0Vk8tJzNotd1lka3FqXDd5dYLB6ie5g7GhQYrAEJuAW7B/KdZDBvcEQ==","signatures":[{"sig":"MEQCIEqrhXOy4GSYG8wIMksG/oCXbvlnGNvL8G0K1LxrO4YJAiABPyizJpAKnaGWEIgSoD+BS+RRu6i2+Tf26LWPecrohw==","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":188546},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"032ef1d9bfbd4f550d2ca6c606a00eb14b5775ac","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.3","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.1","vite":"^5.0.12","oclif":"^4","eslint":"^8.55.0","vitest":"^1.2.2","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.11.15","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^2.11.7","@shopify/cli-kit":"^3.51.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.0.2-unstable.202402011540.0_1706802025603_0.26649179236824505","host":"s3://npm-registry-packages"}},"4.0.2-unstable.202402021525.0":{"name":"@shopify/oxygen-cli","version":"4.0.2-unstable.202402021525.0","license":"MIT","_id":"@shopify/oxygen-cli@4.0.2-unstable.202402021525.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"7c9c873e0f5e1ceef6296b53de5b348101f691ce","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.0.2-unstable.202402021525.0.tgz","fileCount":82,"integrity":"sha512-CD/xZy0TEbP7eiivE1V4M2nROK8onWZkV0g7yy7/qbu3QcAUdAeWyfDt2sBQ56nufaPrgjCM91LekHsJuJBZ9g==","signatures":[{"sig":"MEQCIF0xDgozsO2NerPUuBgLswUfBaAT67Wpf/dsERT3NKfaAiB5tF/l5wym1vsq1kQfwkJ+sp/hGRUJuvc+I0L49tUZvQ==","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":188602},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"aba339cfd5f6754111069b5880e9e87bbef0b773","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.3","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.1","vite":"^5.0.12","oclif":"^4","eslint":"^8.55.0","vitest":"^1.2.2","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.11.16","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^2.11.7","@shopify/cli-kit":"^3.51.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.0.2-unstable.202402021525.0_1706887551487_0.5046001317887725","host":"s3://npm-registry-packages"}},"4.0.2-unstable.202402051601.0":{"name":"@shopify/oxygen-cli","version":"4.0.2-unstable.202402051601.0","license":"MIT","_id":"@shopify/oxygen-cli@4.0.2-unstable.202402051601.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"1f81b3167982d22479fe2c1244e69339ff8ba872","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.0.2-unstable.202402051601.0.tgz","fileCount":82,"integrity":"sha512-nQg63GRWNfrFzxQ1y72XzB7Ryas3hYcMDhh8YdmaXiIjtuRK5k6fNcetm5KA9XSWUsma3stGUWrX8kd9IIAunQ==","signatures":[{"sig":"MEUCIQDLBxM2mhKNXHtTVKMoTDVnHzSHEgzPNSaIJOA9qW6itAIgZudCXBIhuw3JtsSU/7eaUa4BJi7NBetUSaTiOvWUAxs=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":188646},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"5d8d4275f57e41ea2305e8e8bfb3f18a74189c25","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.3","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.1","vite":"^5.0.12","oclif":"^4","eslint":"^8.55.0","vitest":"^1.2.2","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.11.16","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^2.11.7","@shopify/cli-kit":"^3.51.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.0.2-unstable.202402051601.0_1707148904411_0.44450280061473335","host":"s3://npm-registry-packages"}},"4.0.2-unstable.202402052043.0":{"name":"@shopify/oxygen-cli","version":"4.0.2-unstable.202402052043.0","license":"MIT","_id":"@shopify/oxygen-cli@4.0.2-unstable.202402052043.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"ea6daa8245b61373e8006f87bd4d532c4678b381","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.0.2-unstable.202402052043.0.tgz","fileCount":82,"integrity":"sha512-mlEnHIAffBwurR3f2+Y1tM2gcLMddr0yFn6xyWNTidHhlTD1RevXUP1ElK7/r4+OxxvPFpA2i3e0naI4Ki8tGA==","signatures":[{"sig":"MEYCIQCrAkDn3mcHaHVEhm2iyNO1SQ2O7OsYbtJhWWR2UaiC8wIhANMadbThnAz22yJhRxDLDXSw1ma9apKvbHeANiYGq8wA","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":188646},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"4d5edc0e1cce86be2c878517165d29735d39f0d5","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.3","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.1","vite":"^5.0.12","oclif":"^4","eslint":"^8.55.0","vitest":"^1.2.2","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.11.16","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^2.11.7","@shopify/cli-kit":"^3.51.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.0.2-unstable.202402052043.0_1707165833307_0.3196228267605703","host":"s3://npm-registry-packages"}},"4.0.1":{"name":"@shopify/oxygen-cli","version":"4.0.1","license":"MIT","_id":"@shopify/oxygen-cli@4.0.1","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"25cf8eb64fad06487f2ceb4814cbcb778c708192","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.0.1.tgz","fileCount":82,"integrity":"sha512-K+ee9+HhLA9235TTXeVk7J5zzCq8pgO464n1w27nu8NiFqotdZo5pHatE8HZFyFV20+3HUlAmoGVmzrPlEB6qw==","signatures":[{"sig":"MEUCIQD2uzV1XniKxOjba/kCrFX0chNKPqoUpjMIW6TXQSHFrgIgKzlX4mC28RDCJNT/Npsrii+P1Xvg9xNwCY3BcFW3aq0=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":188598},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"fee56b403b428c071239c4c992727d5b7a2501c2","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.3","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"devDependencies":{"tsup":"^8.0.1","vite":"^5.0.12","oclif":"^4","eslint":"^8.55.0","vitest":"^1.2.2","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.11.16","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^2.11.7","@shopify/cli-kit":"^3.51.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.0.1_1707218081899_0.5009861957809216","host":"s3://npm-registry-packages"}},"4.0.3-unstable.202402061510.0":{"name":"@shopify/oxygen-cli","version":"4.0.3-unstable.202402061510.0","license":"MIT","_id":"@shopify/oxygen-cli@4.0.3-unstable.202402061510.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"ad3041dfa1c2be5913db429b8af2791761f05311","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.0.3-unstable.202402061510.0.tgz","fileCount":82,"integrity":"sha512-06BVEQhZNVNqP57/Gh9IPBLstAGVyiWtc2yEpRjtC7QOXbO+NHBAFsWADaT8xVlHnFU0ikPz8Lx1ZoUsR6sRqw==","signatures":[{"sig":"MEUCIQCrXobY6scTzAe/kV3N/UDhdPi/g9EynH0kJX7xih3MkwIgYf3H89M+FxUJUZJrFB7oTCxyE+M0u74KVRq3ws7PUbo=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":188720},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"1ba6bb0d358e544f4973e607fc7db09e431aeb1d","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.3","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.1","vite":"^5.0.12","oclif":"^4","eslint":"^8.55.0","vitest":"^1.2.2","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.11.16","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^2.11.7","@shopify/cli-kit":"^3.51.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.0.3-unstable.202402061510.0_1707232271871_0.3283594471425766","host":"s3://npm-registry-packages"}},"4.0.2":{"name":"@shopify/oxygen-cli","version":"4.0.2","license":"MIT","_id":"@shopify/oxygen-cli@4.0.2","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"5842dcc101a80cd94e789e2c114c0168f54c7986","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.0.2.tgz","fileCount":82,"integrity":"sha512-I3IOlAzJ3ttXFkxygMSS9Vu+LIkstMOCAFphnmYVXFCMd8WOmKuG6nPubWvpZE9pkAth4yjiBFoh81n5JIWZsg==","signatures":[{"sig":"MEUCIAYXno8C45AvRMtbcFBzj2I4qt8Q9Elp1Wi7ZDezJibFAiEAoP+MEtkB+bKU5R9D8QJIsJwW0zpqtB8hRo/nrjk4iTA=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":188672},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"5a8593da4c232863379a2871e44d38f738397e7c","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.3","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"devDependencies":{"tsup":"^8.0.1","vite":"^5.0.12","oclif":"^4","eslint":"^8.55.0","vitest":"^1.2.2","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.11.16","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^2.11.7","@shopify/cli-kit":"^3.51.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.0.2_1707314829659_0.3278325786230314","host":"s3://npm-registry-packages"}},"4.0.4-unstable.202402071515.0":{"name":"@shopify/oxygen-cli","version":"4.0.4-unstable.202402071515.0","license":"MIT","_id":"@shopify/oxygen-cli@4.0.4-unstable.202402071515.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"4e0de4ed0fd0de5a792c721a4b514684e284d71b","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.0.4-unstable.202402071515.0.tgz","fileCount":82,"integrity":"sha512-ZzX+V7YQKpOrG+C+REGbK+TSNf1uvkn/E8pROpitGnFgbYjHYboHT9grZFuRTUg8ikgb6JW2pMhNPvvQG6dJnQ==","signatures":[{"sig":"MEUCIQCp5V5HcuuuFdXyx68TfrrWafE+oyqHQUw0k+jKzZd2ZQIgI4cMG12lV6u78l+qMHQaS5EdAzLAvp6b2GnjexjxRsE=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":188846},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"1b5c18558a2721b184644dff197f2185f468f9cc","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.1","vite":"^5.0.12","oclif":"^4","eslint":"^8.55.0","vitest":"^1.2.2","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.11.16","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^2.11.7","@shopify/cli-kit":"^3.51.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.0.4-unstable.202402071515.0_1707318940568_0.166437495770138","host":"s3://npm-registry-packages"}},"4.0.4-unstable.202402081556.0":{"name":"@shopify/oxygen-cli","version":"4.0.4-unstable.202402081556.0","license":"MIT","_id":"@shopify/oxygen-cli@4.0.4-unstable.202402081556.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"66b78b7553d475a1e7826585bad36bed2b65649a","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.0.4-unstable.202402081556.0.tgz","fileCount":82,"integrity":"sha512-UzAqOUCm/bDVcdHlCHYmoGy1Y8KtSY7uzU0M8PvYNoa7mzuX2dDDDZBrg16RaTRnWKAl0p+OJP56MynnhEwBEQ==","signatures":[{"sig":"MEYCIQDw3ZCd5DGnZGuuKFe27ASEpVIxuzhgYiHaKJVM3FbraQIhAKNnlksEip7kbfB1AxSTgXwIIYZbYgFCWG5Q30pzUXvG","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":188889},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"4b07db48cc898963b641fee392157f4b6d55f2e8","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.1","vite":"^5.1.0","oclif":"^4","eslint":"^8.55.0","vitest":"^1.2.2","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.11.16","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^2.11.7","@shopify/cli-kit":"^3.51.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.0.4-unstable.202402081556.0_1707407825097_0.7413832074425548","host":"s3://npm-registry-packages"}},"4.0.4-unstable.202402091547.0":{"name":"@shopify/oxygen-cli","version":"4.0.4-unstable.202402091547.0","license":"MIT","_id":"@shopify/oxygen-cli@4.0.4-unstable.202402091547.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"43727e7863e4d091982bfab737fe65a218d7102e","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.0.4-unstable.202402091547.0.tgz","fileCount":82,"integrity":"sha512-3S6z0GXT++OrvcDAEYx5Et65Ffi4Jnv8Y6MYX3m9/185a5Hh3Nq2Ev5tRVUTX0Ic9lVJRZXbK3vPyVz+U+tfkA==","signatures":[{"sig":"MEUCIQD6YYAybY6D/+mlxH63UfAyacsF4YbaOmIQceZkOwecZgIgOZTxpDzdK20YWx/OfEeJ8HPm65m1RePn8X/TgSZ4mXs=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":188988},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"68b16a8f223e1517c9a5c30ab0e3c0c0466cca29","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.1","vite":"^5.1.1","oclif":"^4","eslint":"^8.55.0","vitest":"^1.2.2","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.11.17","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^2.11.7","@shopify/cli-kit":"^3.51.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.0.4-unstable.202402091547.0_1707493654477_0.9077953343570597","host":"s3://npm-registry-packages"}},"4.1.1-unstable.202402091553.0":{"name":"@shopify/oxygen-cli","version":"4.1.1-unstable.202402091553.0","license":"MIT","_id":"@shopify/oxygen-cli@4.1.1-unstable.202402091553.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"8b767f3522a0cff09d33a2cbe044066166cceaaf","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.1.1-unstable.202402091553.0.tgz","fileCount":82,"integrity":"sha512-tiqc/Ml8YSs9Kr2LSV5LMqsXzVsk5gmmwdg70qm3uATGdD6UmMaaZm1RZRyEQEeIQVwcL+ZW61U9PTbd9GGxkg==","signatures":[{"sig":"MEQCIH63drSf9uEFtJDobAc20eqoA5HoQow3pSJnPKGr0FYBAiA4JSv9zSfjxdsWDRXlj+WEaeJgYOG74hkl2qNqD1BzsQ==","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":190337},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"cb4323b1e4f88c81872ee3b0ba589c1280c56de0","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.1","vite":"^5.1.1","oclif":"^4","eslint":"^8.55.0","vitest":"^1.2.2","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.11.17","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^2.11.7","@shopify/cli-kit":"^3.51.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.1.1-unstable.202402091553.0_1707494004592_0.21954328785444321","host":"s3://npm-registry-packages"}},"4.1.1-unstable.202402091938.0":{"name":"@shopify/oxygen-cli","version":"4.1.1-unstable.202402091938.0","license":"MIT","_id":"@shopify/oxygen-cli@4.1.1-unstable.202402091938.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"68c24fc97694cbb3d65f053365591f11cd34e898","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.1.1-unstable.202402091938.0.tgz","fileCount":88,"integrity":"sha512-BdkE/9DHxu+6GWKK5PHlyWmaJ6W9wy6HBdhY20BbV8IFMpSlJ/XyLnoVGzeaT4e/rP7iBIStQx4bHaYK0WYDyA==","signatures":[{"sig":"MEQCIGCymIFfIlc2rcvDus6uR3HHqJo5qiw9Y54KID77svkCAiBkOq0bNgiLUg/oL+xF36GHhcdj1zBspStJoeCdQ5gv1g==","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":196588},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./utils":"./dist/utils/index.js","./deploy":"./dist/deploy/index.js"},"gitHead":"4d64962e3f79041d27d701f3b246e243514b7f29","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","dotenv":"^16.4.1","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.1","vite":"^5.1.1","oclif":"^4","eslint":"^8.55.0","vitest":"^1.2.2","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.11.17","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^2.11.7","@shopify/cli-kit":"^3.51.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.1.1-unstable.202402091938.0_1707507517462_0.3791244977518944","host":"s3://npm-registry-packages"}},"4.1.0":{"name":"@shopify/oxygen-cli","version":"4.1.0","license":"MIT","_id":"@shopify/oxygen-cli@4.1.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"40709338612aa71a1e237f7808e04a4c4aceb89c","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.1.0.tgz","fileCount":88,"integrity":"sha512-AowugeJRZQPcsYVUtkGiqoLS7H9xIUCyPsRRG4iNuUD6sXBtCETSBNXrpekYI9fpAUsOLyirKSiFRxAaCkY/0g==","signatures":[{"sig":"MEUCIQCrRXn9IeaQKDiC8y0tmcDCG6dQoYONOFN26qST5xfOdQIgFW4zfGgjE0zENwYemAVfoBouFzDuAKFcnLUOhbZHk54=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":196540},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"engines":{"node":">=16.14.0"},"exports":{"./utils":"./dist/utils/index.js","./deploy":"./dist/deploy/index.js"},"gitHead":"0cb278d424922b38178b20c7828119788d019626","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","dotenv":"^16.4.1","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"devDependencies":{"tsup":"^8.0.1","vite":"^5.1.1","oclif":"^4","eslint":"^8.55.0","vitest":"^1.2.2","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.11.17","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^2.11.7","@shopify/cli-kit":"^3.51.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.1.0_1707745597631_0.5570038189449407","host":"s3://npm-registry-packages"}},"4.1.2-unstable.202402121532.0":{"name":"@shopify/oxygen-cli","version":"4.1.2-unstable.202402121532.0","license":"MIT","_id":"@shopify/oxygen-cli@4.1.2-unstable.202402121532.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"2108dd25025f6c5ed86f768d606eaf5beb1c6df5","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.1.2-unstable.202402121532.0.tgz","fileCount":88,"integrity":"sha512-id0qr//8tYED/syEKl4gZV1cioyLQnI6beRdD+U7f2XKbN+ovhQcupJZnO3jmrR/fOCWfr8hVaqBQCy9pT9WzQ==","signatures":[{"sig":"MEQCIHn5gBl40PemNL/gQ96C9m4KJnuC4DKaqxBk6wi9j/cFAiAVDAIuXjflttQ9DIy+4G2st5bG7/ke4Sa/Ts+ZU3Pv0w==","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":196753},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./utils":"./dist/utils/index.js","./deploy":"./dist/deploy/index.js"},"gitHead":"1a414d47d595e94080422c7702e31254afd36fa5","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","dotenv":"^16.4.2","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.1.1","oclif":"^4","eslint":"^8.55.0","vitest":"^1.2.2","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.11.17","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^2.11.7","@shopify/cli-kit":"^3.51.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.1.2-unstable.202402121532.0_1707751946871_0.5761312791229458","host":"s3://npm-registry-packages"}},"4.1.2-unstable.202402131534.0":{"name":"@shopify/oxygen-cli","version":"4.1.2-unstable.202402131534.0","license":"MIT","_id":"@shopify/oxygen-cli@4.1.2-unstable.202402131534.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"6fb557c88b8d88500a440684eb4ffc571fb8fc00","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.1.2-unstable.202402131534.0.tgz","fileCount":88,"integrity":"sha512-ViVjGT9UWEKbGFNhSkA6Ej9848ey1fuU6l0aDyi6A0Q10F1aCKIeTeUAk+N47DSH3OlNWU+iEBFLiqzSyXWnPw==","signatures":[{"sig":"MEUCIQCk+/FaGL/jIo/ag6F+EC62Xnp/hzGrNLyKX0AYdL041AIgQdZpTgt3etwPw+Dy1Ox1ZL/t5e/I0avr6iw6PChaynU=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":196800},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./utils":"./dist/utils/index.js","./deploy":"./dist/deploy/index.js"},"gitHead":"c8c414cd542c10ab3f31b3ac7e4b080ee8e953da","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","dotenv":"^16.4.3","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.1.1","oclif":"^4","eslint":"^8.55.0","vitest":"^1.2.2","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.11.17","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^2.11.7","@shopify/cli-kit":"^3.51.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.1.2-unstable.202402131534.0_1707838471944_0.7253822615092302","host":"s3://npm-registry-packages"}},"4.1.2-unstable.202402141526.0":{"name":"@shopify/oxygen-cli","version":"4.1.2-unstable.202402141526.0","license":"MIT","_id":"@shopify/oxygen-cli@4.1.2-unstable.202402141526.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"94a74fa44edb8eaff2fe1f8deb052ee0f1b589a2","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.1.2-unstable.202402141526.0.tgz","fileCount":88,"integrity":"sha512-LoGqVQ1NbwgWNRnDh84nc60z/U4NeEX3Q7UieCMmFe8iYBh6Z0xCa+tgb77ss80UUX/jWTKfHBdxnII78zResg==","signatures":[{"sig":"MEQCIHGMtL6bjGa27r9AIWdPvT6vYqgTT3E6SON7T/ILerN4AiABQePirN3Yy3RsXdcgrgME9h6Q7jkXi0SzEJaaVVzAzw==","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":196843},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./utils":"./dist/utils/index.js","./deploy":"./dist/deploy/index.js"},"gitHead":"f45672cde0f9167d7af90c894b269d069c2b39ce","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","dotenv":"^16.4.3","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.1.2","oclif":"^4","eslint":"^8.55.0","vitest":"^1.2.2","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.11.17","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^2.11.7","@shopify/cli-kit":"^3.51.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.1.2-unstable.202402141526.0_1707924386007_0.6930072861174765","host":"s3://npm-registry-packages"}},"4.1.2-unstable.202402151554.0":{"name":"@shopify/oxygen-cli","version":"4.1.2-unstable.202402151554.0","license":"MIT","_id":"@shopify/oxygen-cli@4.1.2-unstable.202402151554.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"6f7f532562f8ca14e28113e6f23a1ee29fda6941","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.1.2-unstable.202402151554.0.tgz","fileCount":88,"integrity":"sha512-Dsxn/NL5ZROBuE7Jn7gDA82nGGAYurykg+SpbEVHFHEzhnsQLnrZz0giJPtuqei2TUnU3b48YQcIN+H9hz4uPw==","signatures":[{"sig":"MEYCIQCdBYRyNI/6sh2q5Z64rjeciCAR1k0pp0B0SVhr4a1GtQIhANgaKDJhC6Q+wxTQ+j8//H8oZjh94p+2qGrRFl23O9G1","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":196988},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./utils":"./dist/utils/index.js","./deploy":"./dist/deploy/index.js"},"gitHead":"a71bf381020673c610492ec60087718fccc7ae36","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","dotenv":"^16.4.3","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.1.3","oclif":"^4","eslint":"^8.55.0","vitest":"^1.2.2","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.11.18","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^2.11.7","@shopify/cli-kit":"^3.51.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.1.2-unstable.202402151554.0_1708012455498_0.38458895505138724","host":"s3://npm-registry-packages"}},"4.1.2-unstable.202402161557.0":{"name":"@shopify/oxygen-cli","version":"4.1.2-unstable.202402161557.0","license":"MIT","_id":"@shopify/oxygen-cli@4.1.2-unstable.202402161557.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"532fb6e520507da2ce04fe9a723492fd6d9e3f03","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.1.2-unstable.202402161557.0.tgz","fileCount":88,"integrity":"sha512-cvdmo65Usb41ngtjtgV5zhkrx3PrfKuCZRB+Ve5TT16MrK1FVt21LZdNGn4egUa6Fa1fOdRA0TZ+wa3iOyFShA==","signatures":[{"sig":"MEQCICrWSyRRxVUEG/x78uyEDoUX/9rzzyNZyZt2MMsuhegLAiBRGNB0Lx/mJBolygsfOYnBAKecnsNsZiA8D476Njd5QA==","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":197044},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./utils":"./dist/utils/index.js","./deploy":"./dist/deploy/index.js"},"gitHead":"fc3da9649bc99d735e280de098cdadc0b7246ecf","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","dotenv":"^16.4.3","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.1.3","oclif":"^4","eslint":"^8.55.0","vitest":"^1.2.2","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.11.19","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^2.11.7","@shopify/cli-kit":"^3.51.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.1.2-unstable.202402161557.0_1708099067357_0.6315050557703579","host":"s3://npm-registry-packages"}},"4.1.2-unstable.202402191550.0":{"name":"@shopify/oxygen-cli","version":"4.1.2-unstable.202402191550.0","license":"MIT","_id":"@shopify/oxygen-cli@4.1.2-unstable.202402191550.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"9198531457c4cb09a22c7dfb3456fb318207e68f","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.1.2-unstable.202402191550.0.tgz","fileCount":88,"integrity":"sha512-3HbgMA6beD2cV7hTUo7atkknsg20BqzKBMhofGEOCNJ/rZsENUc2JWFbXAzXbTutmKplaqHu6Qp/ArUUgSNGyQ==","signatures":[{"sig":"MEUCIGaYS8nLBFkfVwkzFtdFO9m49tT1yn+r15XCPEGJIdr6AiEAp6FgiDuC9SNjsBgtd+O0qRo401669HsHscUNFyIAPTw=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":197135},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./utils":"./dist/utils/index.js","./deploy":"./dist/deploy/index.js"},"gitHead":"fd25bbd301641a06a6e9bea8a83843cc17421631","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","dotenv":"^16.4.3","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.1.3","oclif":"^4","eslint":"^8.55.0","vitest":"^1.3.0","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.11.19","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^2.11.7","@shopify/cli-kit":"^3.51.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.1.2-unstable.202402191550.0_1708357870438_0.16471182692724318","host":"s3://npm-registry-packages"}},"4.1.2-unstable.202402201523.0":{"name":"@shopify/oxygen-cli","version":"4.1.2-unstable.202402201523.0","license":"MIT","_id":"@shopify/oxygen-cli@4.1.2-unstable.202402201523.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"5aa9f0e0cf155f4016f5f06179170c7a37b100da","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.1.2-unstable.202402201523.0.tgz","fileCount":88,"integrity":"sha512-mmZ7qScLd7vl0XDURWBe3DB+j7wJgxJjeAkbJ8ARogKAgP6yEAIYS6k2vQRWmPuT20ygP+YTZWWbZQa31476Zg==","signatures":[{"sig":"MEUCIQCbMpl3V2FxgrX6qJE6NYTKDzpqvYjcy3di1T+PcM3KhQIgNfJJrzXiQAXjobbVTZ6GsaNLmyyN28A6kwCkdFiZevA=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":197180},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./utils":"./dist/utils/index.js","./deploy":"./dist/deploy/index.js"},"gitHead":"59297b6f2699544420ce1d837c03b83e53307af8","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","dotenv":"^16.4.3","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.1.3","oclif":"^4","eslint":"^8.55.0","vitest":"^1.3.1","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.11.19","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^2.11.7","@shopify/cli-kit":"^3.51.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.1.2-unstable.202402201523.0_1708442654388_0.9326265162087188","host":"s3://npm-registry-packages"}},"4.1.2-unstable.202402202221.0":{"name":"@shopify/oxygen-cli","version":"4.1.2-unstable.202402202221.0","license":"MIT","_id":"@shopify/oxygen-cli@4.1.2-unstable.202402202221.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"18e792be943e5674b54418e16b1363ec8de5925e","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.1.2-unstable.202402202221.0.tgz","fileCount":88,"integrity":"sha512-L75gfBkCGbNBq4EbH06ACTccs7UkagjEcFGwKCDNd7vYzhx0nGUx54Qans0qjtsB4HBqgfKwxD8OQbj9BFrZHg==","signatures":[{"sig":"MEUCIA/ggfGMB9it9EfIg7Rti+sNlsyrwpQi+3oUbRC1aCLUAiEAyPnSPqAMXwip9XuUgbk17KefyKaKfMjONgMc5yQ9hLo=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":197221},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./utils":"./dist/utils/index.js","./deploy":"./dist/deploy/index.js"},"gitHead":"c628dad2e7168bfe3b88315e369ef04fb110985a","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","dotenv":"^16.4.3","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.1.3","oclif":"^4","eslint":"^8.55.0","vitest":"^1.3.1","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.11.19","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^2.11.7","@shopify/cli-kit":"^3.51.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.1.2-unstable.202402202221.0_1708467692370_0.00940503920739344","host":"s3://npm-registry-packages"}},"4.1.2-unstable.202402210040.0":{"name":"@shopify/oxygen-cli","version":"4.1.2-unstable.202402210040.0","license":"MIT","_id":"@shopify/oxygen-cli@4.1.2-unstable.202402210040.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"9c6911e16c8b54683713083e428ea97d14bad939","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.1.2-unstable.202402210040.0.tgz","fileCount":88,"integrity":"sha512-bt+7ZTm2hG4ikiNwEETWLpop3kQ1mtNa0xjd+BgAbGXOmHanQIq/q0hXztInb6Es5oiy5pAJnrfb/+mnXvgWTQ==","signatures":[{"sig":"MEYCIQDQmUUwxOHlLdICLEH/zyznjR350W1tZ/sWUgzkhBlLsQIhANe++qIF68njioaHrOJz7m60Sfs+Mz94/Q1v68LMHpKD","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":197268},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./utils":"./dist/utils/index.js","./deploy":"./dist/deploy/index.js"},"gitHead":"e75a66eab8033f2c03e3883a9e6fd8a2bf5714d5","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","dotenv":"^16.4.4","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.1.3","oclif":"^4","eslint":"^8.55.0","vitest":"^1.3.1","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.11.19","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^2.11.7","@shopify/cli-kit":"^3.51.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.1.2-unstable.202402210040.0_1708476034304_0.5654171368466079","host":"s3://npm-registry-packages"}},"4.1.2-unstable.202402211541.0":{"name":"@shopify/oxygen-cli","version":"4.1.2-unstable.202402211541.0","license":"MIT","_id":"@shopify/oxygen-cli@4.1.2-unstable.202402211541.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"7bb4ea516dd77ab1ad638b30319ea369b144b5eb","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.1.2-unstable.202402211541.0.tgz","fileCount":88,"integrity":"sha512-0ayxJxn8mROAIZI1Mz8cO3VqlIWx6yL0xIls+/b8hGw3aazoNOayh1rN7sDShuf2vg7YlkMBpMC1iRwY08uXNw==","signatures":[{"sig":"MEQCIAgPC6sVsEE2o8cjyZDLsjuEqAx+rJJeW1PfoFSaqtOUAiBZ84gQQpndd/j8WfGjxI2XVhCusgCl0U2pocpW8zkkcg==","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":197404},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./utils":"./dist/utils/index.js","./deploy":"./dist/deploy/index.js"},"gitHead":"618bb8fe1d7662fed3ff30c573e71f684bab88e0","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","dotenv":"^16.4.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.1.4","oclif":"^4","eslint":"^8.55.0","vitest":"^1.3.1","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.11.19","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^2.11.7","@shopify/cli-kit":"^3.51.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.1.2-unstable.202402211541.0_1708530076257_0.47834644425353257","host":"s3://npm-registry-packages"}},"4.1.2-unstable.202402231517.0":{"name":"@shopify/oxygen-cli","version":"4.1.2-unstable.202402231517.0","license":"MIT","_id":"@shopify/oxygen-cli@4.1.2-unstable.202402231517.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"aeb3fc61eeb63f6dc53b6e076d956661b80dcfe3","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.1.2-unstable.202402231517.0.tgz","fileCount":88,"integrity":"sha512-2FuyE5XJ30/nzTFrq3Gye7fvMkSrapUN45qefyU7vk8Fz7q4YQBDY8XdRsCCLMvCVYmixfOuFJFdfWFGHE0wVw==","signatures":[{"sig":"MEQCIDG3l8/uxS2113Ai+S1luQ9ZF8p3Z8mmE/38zRtkYvkBAiBeqdeDN1fVRnra7ygKsM/U+ysk8+PPFFOzKF2Osij9/A==","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":197460},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./utils":"./dist/utils/index.js","./deploy":"./dist/deploy/index.js"},"gitHead":"ea36adb3cacbba4c86e0914e997286ee6d4846fc","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","dotenv":"^16.4.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.1.4","oclif":"^4","eslint":"^8.55.0","vitest":"^1.3.1","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.11.20","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^2.11.7","@shopify/cli-kit":"^3.51.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.1.2-unstable.202402231517.0_1708701481711_0.32821452248176297","host":"s3://npm-registry-packages"}},"4.2.1-unstable.202402261000.0":{"name":"@shopify/oxygen-cli","version":"4.2.1-unstable.202402261000.0","license":"MIT","_id":"@shopify/oxygen-cli@4.2.1-unstable.202402261000.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"3ef42d22d0aa915ab0a8959796bfd8b9b3316337","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.2.1-unstable.202402261000.0.tgz","fileCount":88,"integrity":"sha512-XGhGVuTmh/gfN6tSA0tXYqAuQn51mdgfYVFTf+kkSwKJ4tEEhnY6zYGiHhhLF4KGdhm0MWL+ZRJylKidovtSew==","signatures":[{"sig":"MEQCIDoeHFklA5EySr82eMkPDFp0B9L9wM6yuU074fRynBenAiBi4DJ/ruM/e+G8S5Y8NrheKRiYXJzIa4skRw0heXrWvQ==","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":197985},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./utils":"./dist/utils/index.js","./deploy":"./dist/deploy/index.js"},"gitHead":"8ec09f4d00fb77f814b4348ad90a8f96d1fab845","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","dotenv":"^16.4.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.1.4","oclif":"^4","eslint":"^8.55.0","vitest":"^1.3.1","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.11.20","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^2.11.7","@shopify/cli-kit":"^3.51.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.2.1-unstable.202402261000.0_1708941639805_0.2005850223186374","host":"s3://npm-registry-packages"}},"4.2.0":{"name":"@shopify/oxygen-cli","version":"4.2.0","license":"MIT","_id":"@shopify/oxygen-cli@4.2.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"c2dea9237826ce25033983255c9d962ae26a82f9","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.2.0.tgz","fileCount":88,"integrity":"sha512-Lqpkf/UV0wMKBRPMRv5NEoFh8mWyzLuvHftqtOHMxMBlbml9v6gugxJZVsOslk69KaokBtsSDzZP7MwDLg3jpA==","signatures":[{"sig":"MEUCIA/mhY8Rb/YvLSfXIr/Y+BBVP50c0oim2Xc3cvaGCuTfAiEA973szN+lXpGYSRF9qn6ZpbJqzg5sX3rcjiiXNWpREj0=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":197937},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"engines":{"node":">=16.14.0"},"exports":{"./utils":"./dist/utils/index.js","./deploy":"./dist/deploy/index.js"},"gitHead":"23d5123f753ce2e6a449e4ebc2664d886b5344db","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","dotenv":"^16.4.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"devDependencies":{"tsup":"^8.0.2","vite":"^5.1.4","oclif":"^4","eslint":"^8.55.0","vitest":"^1.3.1","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.11.20","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^2.11.7","@shopify/cli-kit":"^3.51.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.2.0_1708942141291_0.9742830944262735","host":"s3://npm-registry-packages"}},"4.2.2-unstable.202402261514.0":{"name":"@shopify/oxygen-cli","version":"4.2.2-unstable.202402261514.0","license":"MIT","_id":"@shopify/oxygen-cli@4.2.2-unstable.202402261514.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"a19240039a4cd8e3191a087c0848853682d6cfa2","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.2.2-unstable.202402261514.0.tgz","fileCount":88,"integrity":"sha512-3XvSekDeSux9/H5tyb0oLdGiHOwZFeRRwP1M4PXjaXiTmDzQ1Jadj/QzfJi8EBGjgJ7HKa+d+4VS5ZGWzlaU9Q==","signatures":[{"sig":"MEYCIQCxkDHyRC+Bfd/ZRRsR3Q8c1d7JoZSw62Pb6pt8P1KsmwIhAKyNRzZjzrncIuol3b2BEyFFVgLk1nySl1TZEAvAFUlQ","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":198108},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./utils":"./dist/utils/index.js","./deploy":"./dist/deploy/index.js"},"gitHead":"3b2cbdc48535d7b53a39d255ada2fb5cb3eaeabc","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","dotenv":"^16.4.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.1.4","oclif":"^4","eslint":"^8.57.0","vitest":"^1.3.1","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.11.20","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^2.11.7","@shopify/cli-kit":"^3.51.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.2.2-unstable.202402261514.0_1708960476824_0.27714072080450824","host":"s3://npm-registry-packages"}},"4.3.1-unstable.202402261832.0":{"name":"@shopify/oxygen-cli","version":"4.3.1-unstable.202402261832.0","license":"MIT","_id":"@shopify/oxygen-cli@4.3.1-unstable.202402261832.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"f2fbb5859808afe1cb284bcbdae026e2c2d4d84b","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.3.1-unstable.202402261832.0.tgz","fileCount":88,"integrity":"sha512-5Jpnp+8GttqU557fgXHB+d5/YJRQJ5pjM0SmcECDK6hcK/0aBCcb5T8hZ3iWszYZvI0muRusZanJlBc/6ZRqkg==","signatures":[{"sig":"MEUCIH0qqQqmFB1MgQtyEi+fSwpG1mMl5LLc8W1JriHQysFxAiEArCtjFytGi3W/naDxJ23uGo/kMZc+sv+rtVYyfDOiySE=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":197951},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./utils":"./dist/utils/index.js","./deploy":"./dist/deploy/index.js"},"gitHead":"c53239d1baa8ccb3b1e6f80517ad9078e013b958","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","dotenv":"^16.4.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.1.4","oclif":"^4","eslint":"^8.57.0","vitest":"^1.3.1","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.11.20","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^2.11.7","@shopify/cli-kit":"^3.51.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.3.1-unstable.202402261832.0_1708972338255_0.2979061857285501","host":"s3://npm-registry-packages"}},"4.3.1-unstable.202402271541.0":{"name":"@shopify/oxygen-cli","version":"4.3.1-unstable.202402271541.0","license":"MIT","_id":"@shopify/oxygen-cli@4.3.1-unstable.202402271541.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"2077a6b17c460f9a0ec3bfa6f8d8992e13332880","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.3.1-unstable.202402271541.0.tgz","fileCount":88,"integrity":"sha512-4Hn1DROXNFcuetdf3AG+vClqShBvQFHgTeCycxVWEmwt84XH6dsxtFePoigsUw4HN+q9QL+xtcsmyMf4TSRyAw==","signatures":[{"sig":"MEUCIQCAIqbbdgz726Wpea35XHuXGcEMZSe3Az1zNWUk20Q4HQIgdZbCzOHsahM/PSSXAHRMWz9Ga9BnembOo93B/WDtqWk=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":197997},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./utils":"./dist/utils/index.js","./deploy":"./dist/deploy/index.js"},"gitHead":"9958f21f1b3bce48a91b04ab8c6cfe2d1d52def1","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","dotenv":"^16.4.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.1.4","oclif":"^4","eslint":"^8.57.0","vitest":"^1.3.1","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.11.20","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^2.11.7","@shopify/cli-kit":"^3.51.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.3.1-unstable.202402271541.0_1709048503144_0.24150933765217575","host":"s3://npm-registry-packages"}},"4.3.1-unstable.202402281542.0":{"name":"@shopify/oxygen-cli","version":"4.3.1-unstable.202402281542.0","license":"MIT","_id":"@shopify/oxygen-cli@4.3.1-unstable.202402281542.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"62c79605665f99166095ae5fbd3c8356a460d2a5","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.3.1-unstable.202402281542.0.tgz","fileCount":88,"integrity":"sha512-kqF912bcuDdDk60KxHUQZn2r0/hgcb6XMPFvKYvPzjytVpPmxYrbXgspecGqdcalwPDg9XFI/tegK2vNzYdIRg==","signatures":[{"sig":"MEUCIQC53sE+6u/vpdwhFtWjrOinhmGsH0XLX6VGzG2a55RSVQIgI2VrL2ro+9qVUM0K3hlSKiaMStJ2S/j7PVsRaC5m++o=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":198053},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=16.14.0"},"exports":{"./utils":"./dist/utils/index.js","./deploy":"./dist/deploy/index.js"},"gitHead":"89c34eb694bbc7fd5020599eee68541a731fb2a3","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","dotenv":"^16.4.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.1.4","oclif":"^4","eslint":"^8.57.0","vitest":"^1.3.1","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.11.21","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^2.11.7","@shopify/cli-kit":"^3.51.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.3.1-unstable.202402281542.0_1709134958929_0.7317435335764262","host":"s3://npm-registry-packages"}},"4.3.1-unstable.202402291305.0":{"name":"@shopify/oxygen-cli","version":"4.3.1-unstable.202402291305.0","license":"MIT","_id":"@shopify/oxygen-cli@4.3.1-unstable.202402291305.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"1e3ff830d283689e41824e6fedfdd2b53f2011e9","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.3.1-unstable.202402291305.0.tgz","fileCount":88,"integrity":"sha512-i48gTv+9CMtU47vqR/EDQQ4dzpriBs0/bPfPFfEG7WbGQKd/oZaE8nheTvKu734vH2gpnPWILHh/Fzae31P/Ag==","signatures":[{"sig":"MEUCIDeQmPrBl9vGgugap/a+y1RRklKy12qhldUNggUIJP02AiEAofDusA3snFe0LMP9s1XMy9qe2AGs16M+Z8lps1G/sog=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":198241},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./utils":"./dist/utils/index.js","./deploy":"./dist/deploy/index.js"},"gitHead":"d6fafdda832d6b53bc8dcf4cd12e8db693e965dc","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","dotenv":"^16.4.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.1.4","oclif":"^4","eslint":"^8.57.0","vitest":"^1.3.1","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.11.21","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.56.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.3.1-unstable.202402291305.0_1709211961769_0.17710631293378665","host":"s3://npm-registry-packages"}},"4.3.0":{"name":"@shopify/oxygen-cli","version":"4.3.0","license":"MIT","_id":"@shopify/oxygen-cli@4.3.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"08c0d7858d08d540264be32e5e3477c559026f22","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.3.0.tgz","fileCount":88,"integrity":"sha512-45L3J916wN85EMHzTDpwaiuFWmAd00KY3LIPawpeRcHt0nbJgSAJd01Ijz9M12AOYRiZM5AtlBAE5hjyH5Ppaw==","signatures":[{"sig":"MEYCIQDhzWpzrj59Mx+FiJloMxFdd5KvpiLeNZL29Kr4mMIw7AIhANJYw1I2v7r+xcwmZArC6dN1g9fNrNdF/whN7xuIiNbp","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":198193},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"engines":{"node":">=18.12.0"},"exports":{"./utils":"./dist/utils/index.js","./deploy":"./dist/deploy/index.js"},"gitHead":"28a20839fff2d339a1a554ff3bb91740407a7dc4","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","dotenv":"^16.4.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"devDependencies":{"tsup":"^8.0.2","vite":"^5.1.4","oclif":"^4","eslint":"^8.57.0","vitest":"^1.3.1","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.11.21","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.56.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.3.0_1709212456167_0.7136540936253721","host":"s3://npm-registry-packages"}},"4.3.2-unstable.202402291559.0":{"name":"@shopify/oxygen-cli","version":"4.3.2-unstable.202402291559.0","license":"MIT","_id":"@shopify/oxygen-cli@4.3.2-unstable.202402291559.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"0f51cfa801ff00259107992860b66059d49b6c59","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.3.2-unstable.202402291559.0.tgz","fileCount":88,"integrity":"sha512-OQ99eejzfPTI6QQjT+T3BO0NEjgP9dROCK1I90bn0cKhlVeci4r8LaPX50GnMv8SRdO6FHFGJjWvauaEfMKWDA==","signatures":[{"sig":"MEQCIEo/a2pWD88fuXgGd8G+OiU872UuBkjPwHYtWQ4iWFG6AiBdnf/58X6ArlBdigaYNWpkJ0zZoiPfcds2UvHQfDIndw==","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":198327},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./utils":"./dist/utils/index.js","./deploy":"./dist/deploy/index.js"},"gitHead":"9195eb4764331140adb5f15655fe8c507fa086e1","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","dotenv":"^16.4.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.1.4","oclif":"^4","eslint":"^8.57.0","vitest":"^1.3.1","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.11.24","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.56.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.3.2-unstable.202402291559.0_1709222367941_0.9730746267929038","host":"s3://npm-registry-packages"}},"4.3.1":{"name":"@shopify/oxygen-cli","version":"4.3.1","license":"MIT","_id":"@shopify/oxygen-cli@4.3.1","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"053d05553adbb52ecbbb876ca1d948861daa79d2","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.3.1.tgz","fileCount":88,"integrity":"sha512-WTvNnvrUzMtVTnfU3ij1NKMzykC8ka79q3baWn5prevVqXlTdtuo2yDlFV8rxonbfgppM3IRgMjNAzwdUh5lIQ==","signatures":[{"sig":"MEYCIQCLRcYfQjnCPMVkoyPz44sLUoGOToGKKXCjN3Wib/0RVQIhAP/ByUg3vW9iDhQbl8a9CYF65EePWnfRAaV/m89M9xXF","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":198279},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"engines":{"node":">=18.12.0"},"exports":{"./utils":"./dist/utils/index.js","./deploy":"./dist/deploy/index.js"},"gitHead":"9ee5a3c4c253f702d24a48a94c3e307eaac9619d","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","dotenv":"^16.4.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"devDependencies":{"tsup":"^8.0.2","vite":"^5.1.4","oclif":"^4","eslint":"^8.57.0","vitest":"^1.3.1","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.11.24","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.1","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.56.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.3.1_1709291662455_0.32565507065239485","host":"s3://npm-registry-packages"}},"4.3.3-unstable.202403041541.0":{"name":"@shopify/oxygen-cli","version":"4.3.3-unstable.202403041541.0","license":"MIT","_id":"@shopify/oxygen-cli@4.3.3-unstable.202403041541.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"935b4734fa129f8f09457ea4264b045ba12f6faa","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.3.3-unstable.202403041541.0.tgz","fileCount":88,"integrity":"sha512-aHmiz922ktcji1yPEVHoUae/X4tt8YIf7HMf8Cvc3W+KqW6Y8nqReRyniPM38XI4gBf8wOfWSOJmvGKulWDqXg==","signatures":[{"sig":"MEQCIHq4HuOdSvtdSleENUk7Zwm3xhzApm8LlUTbKz0McBaoAiBkWzVSuRsumKa2V+3pSct19E70tlkPtDbXkt2CeIEwzQ==","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":198462},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./utils":"./dist/utils/index.js","./deploy":"./dist/deploy/index.js"},"gitHead":"45362f17099ed02d6902b35d09d07b948a1e55d0","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","dotenv":"^16.4.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.1.4","oclif":"^4","eslint":"^8.57.0","vitest":"^1.3.1","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.11.24","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.2","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.56.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.3.3-unstable.202403041541.0_1709566897347_0.3560007567570993","host":"s3://npm-registry-packages"}},"4.3.3-unstable.202403051558.0":{"name":"@shopify/oxygen-cli","version":"4.3.3-unstable.202403051558.0","license":"MIT","_id":"@shopify/oxygen-cli@4.3.3-unstable.202403051558.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"1c524dc7fb7322f935bff7e85db4cbe44bd20bad","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.3.3-unstable.202403051558.0.tgz","fileCount":88,"integrity":"sha512-/7naiJpuTJXzfHpw4cZ7C0Dgs4UzkB5wMDIW51tehdMtRUVq5S4ijllieGK/QzybM+TQgztf8Iu1Hu/8N2ZMyQ==","signatures":[{"sig":"MEQCIFrs85uAw4sASEJgB/vQLbN7WBvR1F2oVfhHw4wzy8r0AiBLshPlUJAP1DXYF66M1ZIlJAcgUYVy4S7WZYtaLXfMuA==","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":198505},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./utils":"./dist/utils/index.js","./deploy":"./dist/deploy/index.js"},"gitHead":"f3c5515e7e5d2461dfe14fd5241d312c1561c640","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","dotenv":"^16.4.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.1.5","oclif":"^4","eslint":"^8.57.0","vitest":"^1.3.1","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.11.24","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.2","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.56.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.3.3-unstable.202403051558.0_1709654339095_0.8466352987552235","host":"s3://npm-registry-packages"}},"4.3.2":{"name":"@shopify/oxygen-cli","version":"4.3.2","license":"MIT","_id":"@shopify/oxygen-cli@4.3.2","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"1ab04eac529a7d7741e299c4b42b259ea20370fb","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.3.2.tgz","fileCount":88,"integrity":"sha512-CKd/KaLUsDNxGtQa7g4sCqY2hGDO4OVHAk91tismd0SqJqhNdFGCsgKEojXaso8s4be4f5cZFzREYF4MhfNY3w==","signatures":[{"sig":"MEUCIQDJXiDJ+swbTo7m5TKeX/L7rLGXoYgBETVo/sj7MYGR0QIgAa8saGui+vGVEXvD4N/VMm3U8cC7KCUFX3ZSmTq3WT4=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":198457},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"engines":{"node":">=18.12.0"},"exports":{"./utils":"./dist/utils/index.js","./deploy":"./dist/deploy/index.js"},"gitHead":"715549f058f2690d455d3b686b36ecedb870f548","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","dotenv":"^16.4.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"devDependencies":{"tsup":"^8.0.2","vite":"^5.1.5","oclif":"^4","eslint":"^8.57.0","vitest":"^1.3.1","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.11.24","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.2","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.56.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.3.2_1709723311267_0.05675572891333114","host":"s3://npm-registry-packages"}},"4.3.4-unstable.202403061518.0":{"name":"@shopify/oxygen-cli","version":"4.3.4-unstable.202403061518.0","license":"MIT","_id":"@shopify/oxygen-cli@4.3.4-unstable.202403061518.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"0f49e2ae52fa2446109790284ea8a8c91d9e593d","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.3.4-unstable.202403061518.0.tgz","fileCount":88,"integrity":"sha512-M1W3GvznSUF1cN8zUWoYyfEske2tezrmTPfZRQmd3cBq7VL+P76/asIBVRI8FFerfbl89PmSaONDg0vFfYghLw==","signatures":[{"sig":"MEQCIGUYvtC3ZI6IiIyluvnAkIR+7dZQpDF3BBTSZBFsttOfAiAWqY8+CJ2LTmzbm9A1HWuiRAOJEzK6CF/eVbKVVnapAQ==","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":198580},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./utils":"./dist/utils/index.js","./deploy":"./dist/deploy/index.js"},"gitHead":"563011fa0b7565223510d447361085458a88b52d","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","dotenv":"^16.4.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.1.5","oclif":"^4","eslint":"^8.57.0","vitest":"^1.3.1","node-fetch":"^3.3.2","typescript":"^5.3.3","@types/node":"^20.11.24","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.2","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.56.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.3.4-unstable.202403061518.0_1709738306292_0.8804726143350752","host":"s3://npm-registry-packages"}},"4.3.4-unstable.202403071517.0":{"name":"@shopify/oxygen-cli","version":"4.3.4-unstable.202403071517.0","license":"MIT","_id":"@shopify/oxygen-cli@4.3.4-unstable.202403071517.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"14e3affa9a729015e4faec5e2c6369257d2aa2b8","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.3.4-unstable.202403071517.0.tgz","fileCount":88,"integrity":"sha512-Na2r51+/1eNoxHM8KwULSpggbDHJBirQhAWwj3r4du613igvV7ZYIYMF0K9bOONsSk9P9/Sal/wN93Q6PeA1Gg==","signatures":[{"sig":"MEUCICzy5ykF+uHGpk9j4MYqYpaeyYk3Kv3VuLYpOn+W9TDLAiEAuDwt0FCTYk4NwG5wNfwxgUOF//X+hAHqfL5YlWuKOcA=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":198685},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./utils":"./dist/utils/index.js","./deploy":"./dist/deploy/index.js"},"gitHead":"9ef3b877f5dc4806f742e83f46d3f505d57bf98e","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","dotenv":"^16.4.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.1.5","oclif":"^4","eslint":"^8.57.0","vitest":"^1.3.1","node-fetch":"^3.3.2","typescript":"^5.4.2","@types/node":"^20.11.25","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.2","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.56.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.3.4-unstable.202403071517.0_1709824665330_0.8215768787495366","host":"s3://npm-registry-packages"}},"4.3.4-unstable.202403071557.0":{"name":"@shopify/oxygen-cli","version":"4.3.4-unstable.202403071557.0","license":"MIT","_id":"@shopify/oxygen-cli@4.3.4-unstable.202403071557.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"faaf7ec6e64cf7dc838bc4fd8382fd3aff8b437f","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.3.4-unstable.202403071557.0.tgz","fileCount":88,"integrity":"sha512-GC2kmX34jAOxeamaEU1kjMHsQdo0pN0gUtQ1ey8b21PMVZ/0NXkgaqshQIqGrNNyoAupRJ+SuUutMyS9KTRC+g==","signatures":[{"sig":"MEUCIQCzB5mvZLeV0iucOTy370DmIYPcSLRf72Xg84A/H+f/7wIgDvqTPmpiXmw2MmIv74Jd6n434hjbHQvoLElAzT7y7gs=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":198685},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./utils":"./dist/utils/index.js","./deploy":"./dist/deploy/index.js"},"gitHead":"dfb049ccb910288c697110525d3a3a6acd1a444c","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","dotenv":"^16.4.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.1.5","oclif":"^4","eslint":"^8.57.0","vitest":"^1.3.1","node-fetch":"^3.3.2","typescript":"^5.4.2","@types/node":"^20.11.25","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.2","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.56.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.3.4-unstable.202403071557.0_1709827054355_0.740909733023446","host":"s3://npm-registry-packages"}},"4.3.4-unstable.202403081555.0":{"name":"@shopify/oxygen-cli","version":"4.3.4-unstable.202403081555.0","license":"MIT","_id":"@shopify/oxygen-cli@4.3.4-unstable.202403081555.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"c9dc491f3eb9333fd68f13c0238d8f08bd33fb8e","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.3.4-unstable.202403081555.0.tgz","fileCount":88,"integrity":"sha512-Y17015IRu8te18nYqSxMB+JptVh9Cx+XC8VWj2NpncYKb1QBdcb7fwYs7ttHapPnIguOBqQpy7H07lLCh9JOIQ==","signatures":[{"sig":"MEUCIBRh6UW/Ob71l60ARYFTFWDijGKOz44rX/yZ3v4kj9fqAiEA1qdgttIor9gGREAQ/1AsWTNxWyiXZR3fj8646pshF90=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":198729},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./utils":"./dist/utils/index.js","./deploy":"./dist/deploy/index.js"},"gitHead":"2cf1376b69b7267b650ced4b4cb69ed1a8166186","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","dotenv":"^16.4.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.1.5","oclif":"^4","eslint":"^8.57.0","vitest":"^1.3.1","node-fetch":"^3.3.2","typescript":"^5.4.2","@types/node":"^20.11.25","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.2","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.56.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.3.4-unstable.202403081555.0_1709913320744_0.015041504693883434","host":"s3://npm-registry-packages"}},"4.3.4-unstable.202403111410.0":{"name":"@shopify/oxygen-cli","version":"4.3.4-unstable.202403111410.0","license":"MIT","_id":"@shopify/oxygen-cli@4.3.4-unstable.202403111410.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"3b714385103f04d0c90066dc62385fbcc9bd4acc","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.3.4-unstable.202403111410.0.tgz","fileCount":88,"integrity":"sha512-piytS/ua69EgPgmHiv+daAIG2E6ciPPbGw40ueF6BeKmMmvhJ/JSC8bYb3wG4IxLhcy4koLGTe0ZJc6QYPmAyg==","signatures":[{"sig":"MEUCIEmU2KV2lvjUHPkb7OOVY0Mg+aYqrNgjao42Fzm+FjXnAiEAnl+cg5id4UuOoyD3r0RIG/CZAiVe4A/BjHrzoC0x0jE=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":199075},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./utils":"./dist/utils/index.js","./deploy":"./dist/deploy/index.js"},"gitHead":"23d3d5ae596754fe9bc0e103aef9c552f062e614","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","dotenv":"^16.4.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.1.5","oclif":"^4","eslint":"^8.57.0","vitest":"^1.3.1","node-fetch":"^3.3.2","typescript":"^5.4.2","@types/node":"^20.11.25","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.2","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.56.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.3.4-unstable.202403111410.0_1710166233151_0.44865292890467545","host":"s3://npm-registry-packages"}},"4.3.4-unstable.202403111450.0":{"name":"@shopify/oxygen-cli","version":"4.3.4-unstable.202403111450.0","license":"MIT","_id":"@shopify/oxygen-cli@4.3.4-unstable.202403111450.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"c5f1c06a1d5724a1b65efcbce02af7f094749bed","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.3.4-unstable.202403111450.0.tgz","fileCount":88,"integrity":"sha512-o5ZtLmByTlpS3WfEtbwKvNa9/WopBinwfmoYojO8YVzxgCOxiEgJSGA2ebqIhkA1ZJY+lWde2k6RycgG3WoPkQ==","signatures":[{"sig":"MEUCIQCEvgvUkRtbFkvMAiqmKcniNy/ZAcGx0/H0fa/lE5U6ZAIgWDNCkxM8r/UbC6eeeGGVOQHGynQlxs57vGeGtXnUi/8=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":199118},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./utils":"./dist/utils/index.js","./deploy":"./dist/deploy/index.js"},"gitHead":"841ca4a7a27882ba7b29759e9c05186fa1ff4f40","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","dotenv":"^16.4.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.1.6","oclif":"^4","eslint":"^8.57.0","vitest":"^1.3.1","node-fetch":"^3.3.2","typescript":"^5.4.2","@types/node":"^20.11.25","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.2","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.56.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.3.4-unstable.202403111450.0_1710168669932_0.7272013902511831","host":"s3://npm-registry-packages"}},"4.3.4-unstable.202403121418.0":{"name":"@shopify/oxygen-cli","version":"4.3.4-unstable.202403121418.0","license":"MIT","_id":"@shopify/oxygen-cli@4.3.4-unstable.202403121418.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"c178f4dcb80386d03786c4d07c4b8fcdcf7912b3","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.3.4-unstable.202403121418.0.tgz","fileCount":88,"integrity":"sha512-VS3zQLSouNLo5kR6VjPvM6uYt5qYe39CRjAcm20BR4RpwKcuh45xhHOjSZCGqFbJRyl2T25508tN6U/vj66e5g==","signatures":[{"sig":"MEUCIQDtHWWkOK6hprYXDLz3nRecAZ46DuCcQYurkdvZb/2x1AIgJ6CZG+OquyWHDtQgN/ruBpZKw6PyQvpxfI6j8ECGP4w=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":199218},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./utils":"./dist/utils/index.js","./deploy":"./dist/deploy/index.js"},"gitHead":"e7dfaa2db611a7f87c6bc47c4bb2079d95606084","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","dotenv":"^16.4.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.1.6","oclif":"^4","eslint":"^8.57.0","vitest":"^1.3.1","node-fetch":"^3.3.2","typescript":"^5.4.2","@types/node":"^20.11.26","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.2","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.56.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.3.4-unstable.202403121418.0_1710253138222_0.1712522673668746","host":"s3://npm-registry-packages"}},"4.3.3":{"name":"@shopify/oxygen-cli","version":"4.3.3","license":"MIT","_id":"@shopify/oxygen-cli@4.3.3","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"fd9dd5b2ec4feb2771231342421294f79f92edcf","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.3.3.tgz","fileCount":88,"integrity":"sha512-BXxjcdZzssbeyNRqP12Rse+lonHBzQqTS2aV8sT8akNhP/IuTg+rcIgmT929H0Tf0zd/nWA1CRpkiHkE0ZByMQ==","signatures":[{"sig":"MEYCIQDqTODlbFL7UKH1umTDoONUudoKU0hR7fS3GmNs0uC/tgIhAMLubLozUqznMyZGAgWfmstYo1sqxtXSgZCirDZali6j","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":199170},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"engines":{"node":">=18.12.0"},"exports":{"./utils":"./dist/utils/index.js","./deploy":"./dist/deploy/index.js"},"gitHead":"1bb97f767aeeb0bcd174990adbb0a41fdf733236","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","dotenv":"^16.4.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"devDependencies":{"tsup":"^8.0.2","vite":"^5.1.6","oclif":"^4","eslint":"^8.57.0","vitest":"^1.3.1","node-fetch":"^3.3.2","typescript":"^5.4.2","@types/node":"^20.11.26","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.2","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.56.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.3.3_1710261994342_0.17537772489579662","host":"s3://npm-registry-packages"}},"4.3.5-unstable.202403131423.0":{"name":"@shopify/oxygen-cli","version":"4.3.5-unstable.202403131423.0","license":"MIT","_id":"@shopify/oxygen-cli@4.3.5-unstable.202403131423.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"3d22c251399aca2781f95dcfb319e8892b9d09c6","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.3.5-unstable.202403131423.0.tgz","fileCount":88,"integrity":"sha512-qRkNWVNBCi1m75kYjPZP8qRl/FBKlvM7P87VspWhLGfzpD0ITaVjgxbYhoOQ9iZl5vpw7bnNvewmHs0l91sXbQ==","signatures":[{"sig":"MEUCIQCnOZB4plpP0W7G/MEwd0Vmsx2J+5WLg4j1l//DTiW1PwIgGhqiaQWC1nobH7U+IpKzszM1FGY8dw+hxdGbnJ/jU4E=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":199304},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./utils":"./dist/utils/index.js","./deploy":"./dist/deploy/index.js"},"gitHead":"f1387c3aec921d4fd99a0770d2aaa2707b45c712","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","dotenv":"^16.4.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.1.6","oclif":"^4","eslint":"^8.57.0","vitest":"^1.3.1","node-fetch":"^3.3.2","typescript":"^5.4.2","@types/node":"^20.11.27","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.2","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.56.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.3.5-unstable.202403131423.0_1710339835346_0.017686740396242406","host":"s3://npm-registry-packages"}},"4.3.5-unstable.202403151444.0":{"name":"@shopify/oxygen-cli","version":"4.3.5-unstable.202403151444.0","license":"MIT","_id":"@shopify/oxygen-cli@4.3.5-unstable.202403151444.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"8aec37f2084bb90946499a1e5c6916306ed04eff","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.3.5-unstable.202403151444.0.tgz","fileCount":88,"integrity":"sha512-KPRBGpMILsWBjzfJO3I9+lX/ZZ3k5VWtHE0Xpaiba23ARs1ycheZJ7K6ezEUCdc/a6MSPAyH87bnh5hkW7Ebag==","signatures":[{"sig":"MEUCIDeljbioo5sCjyJsvJ8fV/VkiLq7yMBNHgnmgPXrjs+0AiEAjjrHHXC4qzJTKtpI1IpqAT8uwjZnKvJVQfDk9Mtx8jQ=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":199405},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./utils":"./dist/utils/index.js","./deploy":"./dist/deploy/index.js"},"gitHead":"70259f622547da2d3b31899b0a933c3e07a637be","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","dotenv":"^16.4.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.1.6","oclif":"^4","eslint":"^8.57.0","vitest":"^1.4.0","node-fetch":"^3.3.2","typescript":"^5.4.2","@types/node":"^20.11.28","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.2","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.56.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.3.5-unstable.202403151444.0_1710513904205_0.46253298909540663","host":"s3://npm-registry-packages"}},"4.3.5-unstable.202403181417.0":{"name":"@shopify/oxygen-cli","version":"4.3.5-unstable.202403181417.0","license":"MIT","_id":"@shopify/oxygen-cli@4.3.5-unstable.202403181417.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"837fccd2a9795b2f266ff4699440acffeb3e59a1","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.3.5-unstable.202403181417.0.tgz","fileCount":88,"integrity":"sha512-Z7a+h1Qtz6bQvnCgHT8Y8iCu2Jkw4zmx7qipnCrr0fifpnkTH1BAGlRf6z9slxt8V7FOc3b4QGtmTxpsOIi8ag==","signatures":[{"sig":"MEQCIBtAuBnpqKlpjskiSqCL+BpjHluvJaMVnnff6OtELlLbAiAKNSHM/yWqyj7HrqTVJu86ZebP7/reW9mcGPaIWS+mbg==","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":199449},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./utils":"./dist/utils/index.js","./deploy":"./dist/deploy/index.js"},"gitHead":"21aedc938797045127651b65e0e043d65d496958","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","dotenv":"^16.4.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.1.6","oclif":"^4","eslint":"^8.57.0","vitest":"^1.4.0","node-fetch":"^3.3.2","typescript":"^5.4.2","@types/node":"^20.11.28","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.2","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.56.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.3.5-unstable.202403181417.0_1710771502880_0.08342127902456187","host":"s3://npm-registry-packages"}},"4.3.4":{"name":"@shopify/oxygen-cli","version":"4.3.4","license":"MIT","_id":"@shopify/oxygen-cli@4.3.4","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"300115ed764f895ab860025b5c9f994bc21cd6d1","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.3.4.tgz","fileCount":88,"integrity":"sha512-+yqTuj+y/XB9WgCaWhD/y1VcWUafDZOeQyb8Q4vowXudsw101S8ORYH/z3sunRBND8bpsMkuCGgzHO+/sK/xpw==","signatures":[{"sig":"MEUCIQD1L2+TtUslRNUniOQYAtuyw8dD6xnMSz+oh8BrRLeqFAIgdieA/iqRIJgftSRlTLZKjgIUM4mphYS50N6l/H5Dvek=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":199401},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"engines":{"node":">=18.12.0"},"exports":{"./utils":"./dist/utils/index.js","./deploy":"./dist/deploy/index.js"},"gitHead":"d9b30c338618501ca8c8c94517f2cd0fbc01f5e9","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","dotenv":"^16.4.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"devDependencies":{"tsup":"^8.0.2","vite":"^5.1.6","oclif":"^4","eslint":"^8.57.0","vitest":"^1.4.0","node-fetch":"^3.3.2","typescript":"^5.4.2","@types/node":"^20.11.28","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.2","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.56.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.3.4_1710854690521_0.43191773365358377","host":"s3://npm-registry-packages"}},"4.3.6-unstable.202403191432.0":{"name":"@shopify/oxygen-cli","version":"4.3.6-unstable.202403191432.0","license":"MIT","_id":"@shopify/oxygen-cli@4.3.6-unstable.202403191432.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"31417251aa94e9daaa42ae7173b671647f5325ed","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.3.6-unstable.202403191432.0.tgz","fileCount":88,"integrity":"sha512-NbnJMVSwMNSi/4chQHka1q20TJJ15ovN8UtfSE2tp5h+pE1al6gvQjd0a4v7/1+TCAxOWBa5/tSREVWhugpOkg==","signatures":[{"sig":"MEQCIFMy1PoePINJRSFvcl7UAXtUsDiGofeYJFGzEu8IK8xiAiBwqphP/zMJAJGD457IFSs235jfQLDLtB4ShQQ2ZcxpGg==","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":199535},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./utils":"./dist/utils/index.js","./deploy":"./dist/deploy/index.js"},"gitHead":"92cc563f58730f586375757a175584bfb1bbfe37","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","dotenv":"^16.4.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.1.6","oclif":"^4","eslint":"^8.57.0","vitest":"^1.4.0","node-fetch":"^3.3.2","typescript":"^5.4.2","@types/node":"^20.11.30","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.2","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.56.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.3.6-unstable.202403191432.0_1710858792660_0.7125883413455816","host":"s3://npm-registry-packages"}},"4.3.6-unstable.202403201445.0":{"name":"@shopify/oxygen-cli","version":"4.3.6-unstable.202403201445.0","license":"MIT","_id":"@shopify/oxygen-cli@4.3.6-unstable.202403201445.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"04ec3b5f4cffc92f1f71496d8c0e710b137fe214","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.3.6-unstable.202403201445.0.tgz","fileCount":88,"integrity":"sha512-NvH2cKlcJqa9AVz4viFBrrpERg3svSd8iZbI3aPc28UqawUMuVY5axdoUXfZ/PP7lOViaCHiRhP2hDX2GSb/jA==","signatures":[{"sig":"MEUCIQCTHNP2X1awNbRoiTakLnUi6YaauTcVGAZb5zsUNgg2JAIgOUXGkms+iXfrY6PR9BX1Y12bUJ3JNkU01cOc6wirIro=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":199578},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./utils":"./dist/utils/index.js","./deploy":"./dist/deploy/index.js"},"gitHead":"19564635c7e77478b37221ecff885f2a96d9d8ac","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","dotenv":"^16.4.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.2.2","oclif":"^4","eslint":"^8.57.0","vitest":"^1.4.0","node-fetch":"^3.3.2","typescript":"^5.4.2","@types/node":"^20.11.30","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.2","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.56.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.3.6-unstable.202403201445.0_1710945974648_0.07905332226563222","host":"s3://npm-registry-packages"}},"4.3.6-unstable.202403201448.0":{"name":"@shopify/oxygen-cli","version":"4.3.6-unstable.202403201448.0","license":"MIT","_id":"@shopify/oxygen-cli@4.3.6-unstable.202403201448.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"fff4c4c0eab1e48c636989cc4096f05b3330f973","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.3.6-unstable.202403201448.0.tgz","fileCount":88,"integrity":"sha512-9EndfQXzVJVOyrhJ5FtNz/eNbrbe0wg8fSjHI+odVhju1D+pHI1k+VlkCy8JOQUH5rCu1VI/abID+CET57VcEg==","signatures":[{"sig":"MEQCIBfDG0vSq0T29ZIvQSfX3icASLFzgxX54NHIewNChVFqAiApl8rknTVAe3KMZoQS8Ak65YuoxYKrqUKgLu/E9HHySA==","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":199622},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./utils":"./dist/utils/index.js","./deploy":"./dist/deploy/index.js"},"gitHead":"9df90d3ceb781806ffa41c41b99dc2429e08bb1e","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","dotenv":"^16.4.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.2.2","oclif":"^4","eslint":"^8.57.0","vitest":"^1.4.0","node-fetch":"^3.3.2","typescript":"^5.4.2","@types/node":"^20.11.30","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.2","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.56.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.3.6-unstable.202403201448.0_1710946157828_0.5233823583673538","host":"s3://npm-registry-packages"}},"4.3.6-unstable.202403211505.0":{"name":"@shopify/oxygen-cli","version":"4.3.6-unstable.202403211505.0","license":"MIT","_id":"@shopify/oxygen-cli@4.3.6-unstable.202403211505.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"0d2b6f5b7b325352712a920e6baaaa477159e00c","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.3.6-unstable.202403211505.0.tgz","fileCount":88,"integrity":"sha512-aQrPZXlhCEvB6eUWtH0udGBEnUMg+fU2ibJmWa3JnHpy3uraMwInIiv+827ISm+pn2R6Uc0ybik2zAzYnbyBrQ==","signatures":[{"sig":"MEUCIQDjse7nq5g9Tt2KyRbUTuLy6ILisHZSf3F6pm4ZIMmH4wIgEBtTS+HxcDpjBJMXEslYa67/SzXpeBswvuq622GRoYo=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":199671},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./utils":"./dist/utils/index.js","./deploy":"./dist/deploy/index.js"},"gitHead":"a9932409f44c0b1c7582ad1adeafb993191ee607","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","dotenv":"^16.4.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.2.2","oclif":"^4","eslint":"^8.57.0","vitest":"^1.4.0","node-fetch":"^3.3.2","typescript":"^5.4.3","@types/node":"^20.11.30","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.2","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.56.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.3.6-unstable.202403211505.0_1711033583714_0.13615049812750302","host":"s3://npm-registry-packages"}},"4.3.6-unstable.202403221436.0":{"name":"@shopify/oxygen-cli","version":"4.3.6-unstable.202403221436.0","license":"MIT","_id":"@shopify/oxygen-cli@4.3.6-unstable.202403221436.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"293280d53a417d4407796f40a481697956165bb8","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.3.6-unstable.202403221436.0.tgz","fileCount":88,"integrity":"sha512-0dFvmEEDQYEs4lraj8trmvBJjpZsF5DiQ9wUjUyV6LdX+33GJYK5+b4dLlPoVqP/mYB1Lb8K10R32/c01YyNsA==","signatures":[{"sig":"MEYCIQD0GnQo9prSnwmo2G4QFsIu0JqoDcy/Yrblj6IWq4X9gQIhAM8ep6UWi9l872zHe08I925jTdFqxF7KmjZr2myXVwn5","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":199758},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./utils":"./dist/utils/index.js","./deploy":"./dist/deploy/index.js"},"gitHead":"53dcf4c704f72b3f31de4fed4cd49036b66f1508","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","dotenv":"^16.4.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.2.3","oclif":"^4","eslint":"^8.57.0","vitest":"^1.4.0","node-fetch":"^3.3.2","typescript":"^5.4.3","@types/node":"^20.11.30","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.2","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.56.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.3.6-unstable.202403221436.0_1711118231847_0.6692777844128475","host":"s3://npm-registry-packages"}},"4.3.6-unstable.202403251446.0":{"name":"@shopify/oxygen-cli","version":"4.3.6-unstable.202403251446.0","license":"MIT","_id":"@shopify/oxygen-cli@4.3.6-unstable.202403251446.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"dd1394307e2a6047bc39e5e6072b9bd7aa72bdd8","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.3.6-unstable.202403251446.0.tgz","fileCount":88,"integrity":"sha512-i6O+HPyj6ax+/Z4QtAxcJeceVParlqWASrzKYp49412azvQ5P5B3Cryw3elpmOihU49OzAdrcYzwPterLQEfiA==","signatures":[{"sig":"MEYCIQD7CWHy6noZGOq7myx+vxZFADLShznLtqndKYKPwpmPyAIhAKPuZrlc5OZCmwzTT9r3jACIuyapT22+bBPJFsqGRiYD","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":199845},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./utils":"./dist/utils/index.js","./deploy":"./dist/deploy/index.js"},"gitHead":"c3571c6dca1f671ad27911844169f364bce192b9","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","dotenv":"^16.4.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.2.6","oclif":"^4","eslint":"^8.57.0","vitest":"^1.4.0","node-fetch":"^3.3.2","typescript":"^5.4.3","@types/node":"^20.11.30","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.2","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.56.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.3.6-unstable.202403251446.0_1711378057104_0.3345946207589463","host":"s3://npm-registry-packages"}},"4.3.5":{"name":"@shopify/oxygen-cli","version":"4.3.5","license":"MIT","_id":"@shopify/oxygen-cli@4.3.5","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"0636c20aedcfa40fa7e94c5bf0c088c6348f8f2b","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.3.5.tgz","fileCount":88,"integrity":"sha512-QPXvbT9OrQECfhMwtGfmOf2BBKUpo9bmLmc9HavaX5T1kp0FinBsHfRvj6+U93mw+Ymwn07Ao6fKWfQDBtDHRA==","signatures":[{"sig":"MEYCIQDmjgTD1PQAq/u08XWzNmhVkitr+7C3l3b82le3ZMNnUgIhAIa2pirkH60mtkDyb7BCz/LxmvFdA4N801x4TWZQn9Y7","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":199797},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"engines":{"node":">=18.12.0"},"exports":{"./utils":"./dist/utils/index.js","./deploy":"./dist/deploy/index.js"},"gitHead":"50fd07832262f0b29c9bde85591a5f7737750189","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","dotenv":"^16.4.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"devDependencies":{"tsup":"^8.0.2","vite":"^5.2.6","oclif":"^4","eslint":"^8.57.0","vitest":"^1.4.0","node-fetch":"^3.3.2","typescript":"^5.4.3","@types/node":"^20.11.30","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.2","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.56.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.3.5_1711459594743_0.523289669276614","host":"s3://npm-registry-packages"}},"4.3.7-unstable.202403271425.0":{"name":"@shopify/oxygen-cli","version":"4.3.7-unstable.202403271425.0","license":"MIT","_id":"@shopify/oxygen-cli@4.3.7-unstable.202403271425.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"32e77242d32c8efd3a30641e8fc1e6954c648409","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.3.7-unstable.202403271425.0.tgz","fileCount":88,"integrity":"sha512-wI5HxeqTh138fGDsnb2vfp7TahGWfiSlQTteuqDsQOWadqiuRHYbdDAr8tmQHvqKA8RQ5Tjo6FY3nEhrECyMWw==","signatures":[{"sig":"MEUCIQDjj2+k7hjWZ/e3WIguVmnVOEwxEWoCaooPHo9HfhLDJAIgBqZxuzbo0KGOXDl6QLIrCgW5e4BaXZgybEcRAwXccPI=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":199919},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./utils":"./dist/utils/index.js","./deploy":"./dist/deploy/index.js"},"gitHead":"f46adaefb2d2168c45aded27a2e6048ee75007fa","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","dotenv":"^16.4.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.2.6","oclif":"^4","eslint":"^8.57.0","vitest":"^1.4.0","node-fetch":"^3.3.2","typescript":"^5.4.3","@types/node":"^20.11.30","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.2","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.56.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.3.7-unstable.202403271425.0_1711549570182_0.08297583371440509","host":"s3://npm-registry-packages"}},"4.3.7-unstable.202403281630.0":{"name":"@shopify/oxygen-cli","version":"4.3.7-unstable.202403281630.0","license":"MIT","_id":"@shopify/oxygen-cli@4.3.7-unstable.202403281630.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"390747374465db0d54c5746e5d1482cf13ae5776","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.3.7-unstable.202403281630.0.tgz","fileCount":88,"integrity":"sha512-lyNwvDABjbj2sQDo0G0inHXlZAZXqoug56onL4GgZEHzwOaVpllHFZS3LvHOFb4RHEntzZVuRKH97nfok3JFBw==","signatures":[{"sig":"MEUCIGW2qWJhvfb5Szj1pf+6biYtaCXXGOqB24W55F7lIq5rAiEA5nJ/EHI2iyl4VO2fhh3lm1uuASYjSL4aC+CdjWBsX/U=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":201348},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./utils":"./dist/utils/index.js","./deploy":"./dist/deploy/index.js"},"gitHead":"e020746e51a3671ac938346f444c6919e99ac900","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","dotenv":"^16.4.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.2.6","oclif":"^4","eslint":"^8.57.0","vitest":"^1.4.0","node-fetch":"^3.3.2","typescript":"^5.4.3","@types/node":"^20.11.30","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.2","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.56.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.3.7-unstable.202403281630.0_1711643488731_0.8675979599407944","host":"s3://npm-registry-packages"}},"4.3.6":{"name":"@shopify/oxygen-cli","version":"4.3.6","license":"MIT","_id":"@shopify/oxygen-cli@4.3.6","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"cf7e801f69bca5a9944937313dee91a3603a9d40","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.3.6.tgz","fileCount":88,"integrity":"sha512-0m/OVRg0B9y9Ft9YjAepYnNF2cHUCHPqHww7YJDDUtEFDbxMmoQFTVy8D2cicS2HFXplLnMMAhxSSIR7Ar1+Mw==","signatures":[{"sig":"MEYCIQCVSORL4O+XqEoybCUOUqsLZ24KoFq4WgeeDAc4VZhIVQIhAO1sfvv+GvjZkWZxR7avvo6I7EMb9SpvGDwkWiKsPG6W","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":201300},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"engines":{"node":">=18.12.0"},"exports":{"./utils":"./dist/utils/index.js","./deploy":"./dist/deploy/index.js"},"gitHead":"aeb53b0af53c542775d4c1fdb14031993a779163","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","dotenv":"^16.4.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"devDependencies":{"tsup":"^8.0.2","vite":"^5.2.6","oclif":"^4","eslint":"^8.57.0","vitest":"^1.4.0","node-fetch":"^3.3.2","typescript":"^5.4.3","@types/node":"^20.11.30","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.2","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.56.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.3.6_1711644482054_0.6716474165396931","host":"s3://npm-registry-packages"}},"4.3.8-unstable.202403291433.0":{"name":"@shopify/oxygen-cli","version":"4.3.8-unstable.202403291433.0","license":"MIT","_id":"@shopify/oxygen-cli@4.3.8-unstable.202403291433.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"e8e01d41ec9fede184d74b4e9470f7d7824a746b","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.3.8-unstable.202403291433.0.tgz","fileCount":88,"integrity":"sha512-zPQEW8AcwPTvDLDf5NWyWerhYpxhbXOI5+NDCw9ON90jXaQd13lW9rxDROlO51T99zWwDdzjiW3CpDnmHRrhVA==","signatures":[{"sig":"MEQCIA/zz0iQjknsUuf7UOM3+cpaiOVgWs5UpQEsOkF9rtQVAiA9oA7U3mzLeYLOgJwSkYh9+v0t9OfeavFZ/q+E1OUqiw==","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":201465},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./utils":"./dist/utils/index.js","./deploy":"./dist/deploy/index.js"},"gitHead":"8cba662679f48dbbdbdb5f5640ef9c3ae6131ede","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","dotenv":"^16.4.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.2.7","oclif":"^4","eslint":"^8.57.0","vitest":"^1.4.0","node-fetch":"^3.3.2","typescript":"^5.4.3","@types/node":"^20.11.30","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.2","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.56.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.3.8-unstable.202403291433.0_1711722843779_0.3152810864500668","host":"s3://npm-registry-packages"}},"4.3.8-unstable.202404011425.0":{"name":"@shopify/oxygen-cli","version":"4.3.8-unstable.202404011425.0","license":"MIT","_id":"@shopify/oxygen-cli@4.3.8-unstable.202404011425.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"76885e19f4db1ccceecfe60c9ede290b6a556fb2","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.3.8-unstable.202404011425.0.tgz","fileCount":88,"integrity":"sha512-L+Q9Fyy4oTGJ5phyZX9OjtKOiKAP0wbtXEHkxqUzLuIGIJ2evdJDO9v5zJFW14aZkmk5JXxCXuOY4YdtTeuiNA==","signatures":[{"sig":"MEQCIEwp4fqp93toeZd/WBNMhyelje6IWM3o6WdNPOyaD+7sAiACYwDtO/vhBhS4ZGE4puq/ZcESt++7FVZizFAsGWabFA==","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":201563},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./utils":"./dist/utils/index.js","./deploy":"./dist/deploy/index.js"},"gitHead":"6186640aada941f6bf06204119a0abad55a4925b","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","dotenv":"^16.4.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.2.7","oclif":"^4","eslint":"^8.57.0","vitest":"^1.4.0","node-fetch":"^3.3.2","typescript":"^5.4.3","@types/node":"^20.12.2","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.2","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.56.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.3.8-unstable.202404011425.0_1711981591128_0.4891501761850603","host":"s3://npm-registry-packages"}},"4.3.7":{"name":"@shopify/oxygen-cli","version":"4.3.7","license":"MIT","_id":"@shopify/oxygen-cli@4.3.7","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"ec31d7b89acffb28be6aafa98dd735232ee22fb0","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.3.7.tgz","fileCount":88,"integrity":"sha512-oiPTnLrK1GBOoeC4lAmrnAO0epzhpLtHMcv1ifVLxumSFgVbsKlFqqYH2qCOWnVl2nKrb4BMiZGdS5Sc9XFUtw==","signatures":[{"sig":"MEYCIQDaOMc0mznJu+eWYnwLC84vtCmtDGo0D76FFGayqpac1QIhANEqfQ4bi52m3O7lcKa63HOhRiBMYuTcHsG13QQzXgM+","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":201515},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"engines":{"node":">=18.12.0"},"exports":{"./utils":"./dist/utils/index.js","./deploy":"./dist/deploy/index.js"},"gitHead":"f284f584e910efa28a9314fe82116b5cad064649","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","dotenv":"^16.4.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"devDependencies":{"tsup":"^8.0.2","vite":"^5.2.7","oclif":"^4","eslint":"^8.57.0","vitest":"^1.4.0","node-fetch":"^3.3.2","typescript":"^5.4.3","@types/node":"^20.12.2","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.2","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.56.2"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.3.7_1712064332620_0.5404471332390677","host":"s3://npm-registry-packages"}},"4.4.1-unstable.202404031431.0":{"name":"@shopify/oxygen-cli","version":"4.4.1-unstable.202404031431.0","license":"MIT","_id":"@shopify/oxygen-cli@4.4.1-unstable.202404031431.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"4b138a9827e988fecf4a2bbcf0c5a9a026a10458","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.4.1-unstable.202404031431.0.tgz","fileCount":82,"integrity":"sha512-X8Z1J9NRfxZj4yJYCyTKGqerPnyPkT7DCIpV1Gjhc6+bR7FYLKm5b4fZp3FzbDt1Ie06yC3lYMKFFUVfCwZOZw==","signatures":[{"sig":"MEYCIQCxyth2t6a4lqVROIzKFc04a98xukQ6hMLjAiYMv0AoqwIhAP9pz3j0c9xzyzMWSD3bX4bArllZrdLrzJWw9ackrxEP","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":199697},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"075085a24ff376ded93022d0275ebaf4bd21e794","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.2.7","oclif":"^4","eslint":"^8.57.0","vitest":"^1.4.0","node-fetch":"^3.3.2","typescript":"^5.4.3","@types/node":"^20.12.2","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.2","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.58.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.4.1-unstable.202404031431.0_1712154758269_0.15381402202783256","host":"s3://npm-registry-packages"}},"4.4.1-unstable.202404031437.0":{"name":"@shopify/oxygen-cli","version":"4.4.1-unstable.202404031437.0","license":"MIT","_id":"@shopify/oxygen-cli@4.4.1-unstable.202404031437.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"d553167c7fb66bb48410bf5a66eef4143f990c34","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.4.1-unstable.202404031437.0.tgz","fileCount":82,"integrity":"sha512-o/8s6KIiqFwgedFUEXuJJatr+mxaC3xaHcqIvR5eREeDgUlNEPa++B+abqY1JKcYCwvc9SqmUkACtAWegsQrgw==","signatures":[{"sig":"MEQCIDR3pRrtUyTq/zqqAwMOnrQDScer40dSsFtLKJSa+FOqAiAYMoR412nu45eI87NgVghb7pQ4Hu5sbAwXXUGACZ82zA==","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":199766},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"61284d083a6bb34e6214d7949050fafb37bc94c1","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.2.7","oclif":"^4","eslint":"^8.57.0","vitest":"^1.4.0","node-fetch":"^3.3.2","typescript":"^5.4.3","@types/node":"^20.12.2","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.2","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.58.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.4.1-unstable.202404031437.0_1712155075985_0.567562169465492","host":"s3://npm-registry-packages"}},"4.4.1-unstable.202404031521.0":{"name":"@shopify/oxygen-cli","version":"4.4.1-unstable.202404031521.0","license":"MIT","_id":"@shopify/oxygen-cli@4.4.1-unstable.202404031521.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"6ca6e467fb7e18d6aad57e3005f0d835cfbf27f7","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.4.1-unstable.202404031521.0.tgz","fileCount":82,"integrity":"sha512-kas2S35SuyAPy5kIEXPUpSshy5yzMxk0evTXJhpFTGMvfwIxRdYaiz1d7uiSmqddLsSNQmhiac1fc4HmkFpCkg==","signatures":[{"sig":"MEUCIQCvIozRzDvfDDwQJJj5yGcKLc7yT89pGkMiOtH3t08NIAIgXEVPbCPZFfP9wCAyTe9mrckx1ht0P373vLszkEdFkZY=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":199820},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"da3eeacd74ea2dd23d464ea8b02607a6fe4000f5","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.2.7","oclif":"^4","eslint":"^8.57.0","vitest":"^1.4.0","node-fetch":"^3.3.2","typescript":"^5.4.3","@types/node":"^20.12.3","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.2","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.58.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.4.1-unstable.202404031521.0_1712157758162_0.874448334610104","host":"s3://npm-registry-packages"}},"4.4.1-unstable.202404031601.0":{"name":"@shopify/oxygen-cli","version":"4.4.1-unstable.202404031601.0","license":"MIT","_id":"@shopify/oxygen-cli@4.4.1-unstable.202404031601.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"56f18753055d318e5de2239eb0aeb9669fd55a3e","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.4.1-unstable.202404031601.0.tgz","fileCount":82,"integrity":"sha512-pBhH8S/rSK7Ej8U9WJlD/44huxmkxkWk9oNaCZymEf7+7EQdpDhVEAnvSXv0oZqE6sB7PW9ZmAguSuwYPnviaQ==","signatures":[{"sig":"MEUCIH64nb/9oVwjmA2bfSlwZJnwa5YDKClmFXID1WZ9HKS3AiEArclPGAuQkHdGN1zJ7MG9NCTt883IhqClCCF7+dK+y7w=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":199863},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"152a8b7958ba419b8819fb5288f616ba4a030818","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.2.8","oclif":"^4","eslint":"^8.57.0","vitest":"^1.4.0","node-fetch":"^3.3.2","typescript":"^5.4.3","@types/node":"^20.12.3","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.2","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.58.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.4.1-unstable.202404031601.0_1712160111051_0.772780907555179","host":"s3://npm-registry-packages"}},"4.4.0":{"name":"@shopify/oxygen-cli","version":"4.4.0","license":"MIT","_id":"@shopify/oxygen-cli@4.4.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"5ed7cebc044dc0ae130cb41cac51ddc39adfc2b9","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.4.0.tgz","fileCount":82,"integrity":"sha512-PmmBorMVmK+CBnXv6/14iRELNTSk1HzeWUqCWEAYqAKHZshu6InsRsOMM7EUKsqcMaSBkR9WL9PT7EcBaZWSww==","signatures":[{"sig":"MEUCIQCV+hAY1IbWyLFrA73gRfSfLRvQgLgpbgNRwSO/cpwtIwIgZzdVMGSRV3Y+bJsJJD6/CH4Iiyf7VVcxwoq8P4bzb+E=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":199815},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"engines":{"node":">=18.12.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"288db8fbfc6b6daacc1abed1a3fbeae490dac315","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"devDependencies":{"tsup":"^8.0.2","vite":"^5.2.8","oclif":"^4","eslint":"^8.57.0","vitest":"^1.4.0","node-fetch":"^3.3.2","typescript":"^5.4.3","@types/node":"^20.12.3","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.2","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.58.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.4.0_1712238920288_0.6961306465423442","host":"s3://npm-registry-packages"}},"4.4.2-unstable.202404041427.0":{"name":"@shopify/oxygen-cli","version":"4.4.2-unstable.202404041427.0","license":"MIT","_id":"@shopify/oxygen-cli@4.4.2-unstable.202404041427.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"bc71fe24e373cf770be42ea3a9774235f0168496","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.4.2-unstable.202404041427.0.tgz","fileCount":82,"integrity":"sha512-W2p3g93VedrRACbGWpUxEVBzcPKnl0HE4jT1FHBS9gDpwRBZMnbdT+22C+i8Nkml/Lw6f4yj8IT0khL3NQ+qNg==","signatures":[{"sig":"MEYCIQDH7TkyXG38SXXW7LqZHrYDSrdcpbpPBRJLMAz4qhpWcwIhAMurozehtZUtkcCwVuWkkvorCkapvD31AFXgiQVjf3YW","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":199991},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"e438d58cd2858c0c9f1f088ed3c5711537d4368e","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.2.8","oclif":"^4","eslint":"^8.57.0","vitest":"^1.4.0","node-fetch":"^3.3.2","typescript":"^5.4.3","@types/node":"^20.12.4","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.2","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.58.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.4.2-unstable.202404041427.0_1712240891920_0.5117559266908474","host":"s3://npm-registry-packages"}},"4.4.2-unstable.202404051427.0":{"name":"@shopify/oxygen-cli","version":"4.4.2-unstable.202404051427.0","license":"MIT","_id":"@shopify/oxygen-cli@4.4.2-unstable.202404051427.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"9843e34d7ef7bb302d710ff815188c6c36ff4559","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.4.2-unstable.202404051427.0.tgz","fileCount":82,"integrity":"sha512-qOBHD+tuH8ldGXaPnW81HJUtZZU2dVMEHGfprVI+w4RObx6RUMQYkOPBwx9AjrxTOWn2XiZ58ZulSLxnYPzfBg==","signatures":[{"sig":"MEUCIExGRTD+l+O9IxjwasCQG88V3WaNgjFJb24XTZo9NQvHAiEA3MSoASIbf1SIVOXbZ/xV3USOLEi2cRzvOYjH7C7Y4xc=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":200040},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"53cfd865d507496538254da2d15f4b55812235dd","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.2.8","oclif":"^4","eslint":"^8.57.0","vitest":"^1.4.0","node-fetch":"^3.3.2","typescript":"^5.4.4","@types/node":"^20.12.4","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.2","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.58.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.4.2-unstable.202404051427.0_1712327274755_0.5123156138434419","host":"s3://npm-registry-packages"}},"4.4.2-unstable.202404081507.0":{"name":"@shopify/oxygen-cli","version":"4.4.2-unstable.202404081507.0","license":"MIT","_id":"@shopify/oxygen-cli@4.4.2-unstable.202404081507.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"fc7b05b4478dd170233196471a69e39b67b8e6e5","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.4.2-unstable.202404081507.0.tgz","fileCount":82,"integrity":"sha512-WGwcXQhAQYlOX6pOC9ljvkFbau8AZWyUUyQAGAwMkmr5PTwoH98Hn+XmFZKFiFXD5hTC/bV3OZgDq0hn/nFylg==","signatures":[{"sig":"MEYCIQDgZVkROIZWKWJZW9UxzUor+OK6hwfMrbgBt3XIrCBtAgIhANfK5+376Gbqgm01PZIwZKWZ8ebmJUvfJQvwWBbzzL3z","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":200138},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"524d43cec8e7108e9bce3f5d45cbd02c759153b4","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.2.8","oclif":"^4","eslint":"^8.57.0","vitest":"^1.4.0","node-fetch":"^3.3.2","typescript":"^5.4.4","@types/node":"^20.12.5","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.2","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.58.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.4.2-unstable.202404081507.0_1712588881423_0.2113486529086852","host":"s3://npm-registry-packages"}},"4.4.1":{"name":"@shopify/oxygen-cli","version":"4.4.1","license":"MIT","_id":"@shopify/oxygen-cli@4.4.1","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"fa5e7248cbd77f247aa31e7f7546d9a2ece2b4f0","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.4.1.tgz","fileCount":82,"integrity":"sha512-NtXil8AAj/l+ktOAPhiEAoEYy8I6DK7vgmEljqYylTLKEqHPcicseuNhVnX0pKH7v7xLQUXGX0KpqIKLA6N5vA==","signatures":[{"sig":"MEQCIAkzsnZPaz8lANRu5N/lXt5Xq+UxQ27lSzBNKSBjTWJBAiAcXGo3bbykEYu76DlmJwlQ4+5dFVutLVTE3xklLTrjiA==","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":200090},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"engines":{"node":">=18.12.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"9500276e5282bf08b5e93f2ac041a1815836010f","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"devDependencies":{"tsup":"^8.0.2","vite":"^5.2.8","oclif":"^4","eslint":"^8.57.0","vitest":"^1.4.0","node-fetch":"^3.3.2","typescript":"^5.4.4","@types/node":"^20.12.5","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.2","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.58.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.4.1_1712669139524_0.30263965187577546","host":"s3://npm-registry-packages"}},"4.4.3-unstable.202404091450.0":{"name":"@shopify/oxygen-cli","version":"4.4.3-unstable.202404091450.0","license":"MIT","_id":"@shopify/oxygen-cli@4.4.3-unstable.202404091450.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"2f1c1331e992a00d8f32d70f8c1b962be1206f3f","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.4.3-unstable.202404091450.0.tgz","fileCount":82,"integrity":"sha512-Igf94wNq9elsa6fW7U5XISoBBCRHbGaYQZQ8DXmCvPQSkuUtZmMcGAePB5EqwG3u5/IF1d83b88Gbr9cCY+MIw==","signatures":[{"sig":"MEYCIQDUboEDZluViof5Mt/8ehzcNynbVuxoHa6iuiSNOpK68wIhAP+NP+2pOjL5oVaQarctQL/T59E/bobYb0fIxjQ178xL","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":200222},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"b04b85e9f6c05df65f2fff5685cf8199159a5288","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.2.8","oclif":"^4","eslint":"^8.57.0","vitest":"^1.4.0","node-fetch":"^3.3.2","typescript":"^5.4.4","@types/node":"^20.12.6","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.2","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.58.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.4.3-unstable.202404091450.0_1712674264183_0.9296284433436195","host":"s3://npm-registry-packages"}},"4.4.3-unstable.202404101448.0":{"name":"@shopify/oxygen-cli","version":"4.4.3-unstable.202404101448.0","license":"MIT","_id":"@shopify/oxygen-cli@4.4.3-unstable.202404101448.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"1dec714b2441073e8269519ce5d2d8e984990208","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.4.3-unstable.202404101448.0.tgz","fileCount":82,"integrity":"sha512-g8qar7c29DlbLSNJWeYFCYOzN3C+bW9sociFAMXF0N4UPFCeeF7Fn5UsLvSofWXb34BPzIsKCNKLYZva1cI8SQ==","signatures":[{"sig":"MEYCIQCYPYDBGYMJR1V4qt4/ACXfRnfDMYWmh0z+3HBCLJ9uRwIhAKefSAyXLyRCZk7F7Ly4NJ8Ewgz39RTzN810swkG9l4f","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":200369},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"638cbe2241f8457c016909fa90e4de0ccd96099c","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.2.8","oclif":"^4","eslint":"^8.57.0","vitest":"^1.4.0","node-fetch":"^3.3.2","typescript":"^5.4.5","@types/node":"^20.12.7","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.2","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.58.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.4.3-unstable.202404101448.0_1712760543619_0.25183501306424727","host":"s3://npm-registry-packages"}},"4.4.2-test.202404110954.0":{"name":"@shopify/oxygen-cli","version":"4.4.2-test.202404110954.0","license":"MIT","_id":"@shopify/oxygen-cli@4.4.2-test.202404110954.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"4cd00d5c05833fa98ef10f82bf42bb9c132a0610","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.4.2-test.202404110954.0.tgz","fileCount":82,"integrity":"sha512-g8D+L6wEdN+T/hY3sXN3pSok3IGQ0Xi/rE0pvcoahQ0p6OVDkxdyCL9smK1XBRSqlV4MwxwNQL8vetrtZ9aYMw==","signatures":[{"sig":"MEYCIQDegr2kuRuPACl+6U6mP/1v2m6huYXgrd3/1Zwf6oyGYwIhALwWrZpXLEKnHvN8vt4A4Q/oXe4msGzm4RsgYfSWSlsA","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":200130},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"975ccc39e3fd8ccc168bef1cb9aaa1d9a7f7ea90","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"10.2.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"18.19.1","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.2.8","oclif":"^4","eslint":"^8.57.0","vitest":"^1.4.0","node-fetch":"^3.3.2","typescript":"^5.4.5","@types/node":"^20.12.7","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.2","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.58.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.4.2-test.202404110954.0_1712829385158_0.49207406504268625","host":"s3://npm-registry-packages"}},"4.4.3-unstable.202404111430.0":{"name":"@shopify/oxygen-cli","version":"4.4.3-unstable.202404111430.0","license":"MIT","_id":"@shopify/oxygen-cli@4.4.3-unstable.202404111430.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"ba87ce9073fd982d5eac4434652f6e7b4807d77d","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.4.3-unstable.202404111430.0.tgz","fileCount":82,"integrity":"sha512-cZs/+XldsLyj/CLqT1qlZ4HxzDD9mMp3Zl4pvFBEUSRXD9nbFQFNEoOR4sDhJ1wF3iphiRgbZPJZSBiHGil/ug==","signatures":[{"sig":"MEUCIAGMM7Q/bQE8nZBQ5g77Ytc5ibvr3l3/ewY6769ztTQAAiEA4OOlWvZjypSFiror1e6FIMdtA1AFSuH7G3nmM+sE0os=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":200413},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"4a7c43b00dd7f605505ffdb74e8c5f850178cef7","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"8.19.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"16.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.2.8","oclif":"^4","eslint":"^8.57.0","vitest":"^1.4.0","node-fetch":"^3.3.2","typescript":"^5.4.5","@types/node":"^20.12.7","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.2","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.58.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.4.3-unstable.202404111430.0_1712845889011_0.45770125462916567","host":"s3://npm-registry-packages"}},"4.4.3-unstable.202404111721.0":{"name":"@shopify/oxygen-cli","version":"4.4.3-unstable.202404111721.0","license":"MIT","_id":"@shopify/oxygen-cli@4.4.3-unstable.202404111721.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"46278167ddec4d74126600d0c70d0ad91a3086b1","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.4.3-unstable.202404111721.0.tgz","fileCount":82,"integrity":"sha512-7XD62KcMfmSbZ5LpTcTobVTQJnBWquxMICuo2X77/nvdkrSWveAkZEy0CQAzVrNse5YJHL74TnzLaaoCsRgTNQ==","signatures":[{"sig":"MEUCIQDsnHcxQRbpmfd6RMYs8FMbFmcrOAFWlyeteMCfMi8s/gIgTx7b2lXw/gpd5MSL4ZT1XQHpYpvpIwNSms/1ceT2b7o=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":200413},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"857175b4d96a46a32250c8ecebee91fefebb2ce8","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"10.2.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"18.19.1","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.2.8","oclif":"^4","eslint":"^8.57.0","vitest":"^1.4.0","node-fetch":"^3.3.2","typescript":"^5.4.5","@types/node":"^20.12.7","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.2","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.58.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.4.3-unstable.202404111721.0_1712856110378_0.4560928536700968","host":"s3://npm-registry-packages"}},"4.4.2-test.202404111724.0":{"name":"@shopify/oxygen-cli","version":"4.4.2-test.202404111724.0","license":"MIT","_id":"@shopify/oxygen-cli@4.4.2-test.202404111724.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"715bf435624c272d67acba0cd6e520e275c16ab1","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.4.2-test.202404111724.0.tgz","fileCount":82,"integrity":"sha512-RDr/gsRYQ2WH6hywRUZk5AFz0l72uUPHYHfgTpyaaAVDPwTENftsHIn7jT8HzI3zrI2U1pt/YeA+c6da5EU/KA==","signatures":[{"sig":"MEYCIQCRAkaFYr/B5Zy6W6ESEBGk3Ntfh/IJR/s0CHujrwRedgIhAP+Kn036vnaibyr+s5W2Q+au5e9BB/x1m1eJ+SwtlqlH","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":200322},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"40f3d23663aeb7000b0aee8e9075acc2f35c56a6","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"10.5.0","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"18.20.1","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.2.8","oclif":"^4","eslint":"^8.57.0","vitest":"^1.4.0","node-fetch":"^3.3.2","typescript":"^5.4.5","@types/node":"^20.12.7","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.2","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.58.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.4.2-test.202404111724.0_1712856338372_0.9565563800515782","host":"s3://npm-registry-packages"}},"4.4.2-test.202404111742.0":{"name":"@shopify/oxygen-cli","version":"4.4.2-test.202404111742.0","license":"MIT","_id":"@shopify/oxygen-cli@4.4.2-test.202404111742.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"97a705f7402c001d791e11e6e6611c44543d6684","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.4.2-test.202404111742.0.tgz","fileCount":82,"integrity":"sha512-n6io6s6kysqvbpJwD8EtSXh4wrCeUEyAWVnbGJjDQRbG3STJnz3gWjoK1oVfnAc0X+l8kVvSm9hzZrHvtCdiLw==","signatures":[{"sig":"MEUCIQCp1Up1p3mGEC9L6ldTTlEQq/b+MbCM2tRPhRAKl5LdOQIgLJ8Y13TOjjwE0UVQ62RSQLXXPBkZvR70cRrzshtGG0o=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":200779},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"e98a327f5691c379b1e1c4663efc916814decaf4","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"10.5.0","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"18.20.1","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.2.8","oclif":"^4","eslint":"^8.57.0","vitest":"^1.4.0","node-fetch":"^3.3.2","typescript":"^5.4.5","@types/node":"^20.12.7","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.2","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.58.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.4.2-test.202404111742.0_1712857428852_0.5404620552482204","host":"s3://npm-registry-packages"}},"4.4.2-test.202404111752.0":{"name":"@shopify/oxygen-cli","version":"4.4.2-test.202404111752.0","license":"MIT","_id":"@shopify/oxygen-cli@4.4.2-test.202404111752.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"347e1a4093b7dbb0d20be44de1e9e1f56b51066d","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.4.2-test.202404111752.0.tgz","fileCount":82,"integrity":"sha512-veWGFJOarv0Tf0OaposUfj0BbjsVKiCVkuJ4kwwPKUqbkhVlCs1ysYOaWY0Yib55C7n9tDok2tPMjFcIXI8rFA==","signatures":[{"sig":"MEUCIC/1uEGIFX6UtDCNHG9Jtd4n/yeM1H+VjJN6s0w4yz5FAiEA9YmcjT9csNgz/RUPbQQ4OYM4ftVzpbTAP/Ttu3z/SPc=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":201106},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"7d431b2cb026e22cb4ac42aeaaa480a5eb5bc779","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"10.2.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"18.19.1","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.2.8","oclif":"^4","eslint":"^8.57.0","vitest":"^1.4.0","node-fetch":"^3.3.2","typescript":"^5.4.5","@types/node":"^20.12.7","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.2","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.58.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.4.2-test.202404111752.0_1712858016930_0.6005192198730143","host":"s3://npm-registry-packages"}},"4.4.2-test.202404111756.0":{"name":"@shopify/oxygen-cli","version":"4.4.2-test.202404111756.0","license":"MIT","_id":"@shopify/oxygen-cli@4.4.2-test.202404111756.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"539a0978ce5e47ac42318f8c80b1631784c2e8c0","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.4.2-test.202404111756.0.tgz","fileCount":82,"integrity":"sha512-3hrrn6isMhV3k1cHruTTUhCSy/BNeRHdLRW9aneUN0RqhE7AuBCwDX9jw9RmADkHAVtyLOxLmPkp5y/tIrI4Kw==","signatures":[{"sig":"MEYCIQCI1srJwi6Ne5Xq8WRimpcDcmMtPkiBJb68Jv8jMD/8JgIhAOUV4haOZIXXkaIEHTceNxEw0ez2fNfCNNUfsNPe4+IU","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":201192},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"bc80f79f33e9d1a1eb40cbfa49fce1cdb4f746cf","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"10.2.4","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"18.19.1","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.2.8","oclif":"^4","eslint":"^8.57.0","vitest":"^1.4.0","node-fetch":"^3.3.2","typescript":"^5.4.5","@types/node":"^20.12.7","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.2","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.58.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.4.2-test.202404111756.0_1712858308597_0.3925762747856478","host":"s3://npm-registry-packages"}},"4.4.2-test.202404111817.0":{"name":"@shopify/oxygen-cli","version":"4.4.2-test.202404111817.0","license":"MIT","_id":"@shopify/oxygen-cli@4.4.2-test.202404111817.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"1009450b78f2300ce8646ebeef776811493a335d","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.4.2-test.202404111817.0.tgz","fileCount":82,"integrity":"sha512-afUerCHKBhtQHtwNKqQtsW/NuyxR9HA16+WaY+2KmMPUaeKysG+6BZ+j+0IhvGck/4NI41hRrtkJewn7MxEfcA==","signatures":[{"sig":"MEUCIQCNUQb/ikKqjk2YuMG8cZ8l9Cs10MKr4hEEI0M8oABu/gIgUF8wI/ERMt1vIWZjKSAyVMMlIwuXatDHmPVxERB+OY8=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":201827},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"895ac9470d1ab5f738d6cb4a044c769abef037ee","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"10.5.0","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"18.20.1","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.2.8","oclif":"^4","eslint":"^8.57.0","vitest":"^1.4.0","node-fetch":"^3.3.2","typescript":"^5.4.5","@types/node":"^20.12.7","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.2","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.58.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.4.2-test.202404111817.0_1712859573136_0.7807676431462183","host":"s3://npm-registry-packages"}},"4.4.2-test.202404112020.0":{"name":"@shopify/oxygen-cli","version":"4.4.2-test.202404112020.0","license":"MIT","_id":"@shopify/oxygen-cli@4.4.2-test.202404112020.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"5f096d899059f527d7f2e9536c5bcb3e783bb8f4","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.4.2-test.202404112020.0.tgz","fileCount":82,"integrity":"sha512-5knrSaN+WmTOJ2ZDi+Hxlmj4vJpXy+TX7wk8r3PGX3P6A3ShqvC1H5cNZH8snpJzVlEBG1VwAk0HIpBTIQmIrQ==","signatures":[{"sig":"MEUCIQDB5QUrDHMA7claRYCBMVN0kaIPf9Py+EHXi0GgPG+dDAIge+X91uHzrRL4XIqT5wgaTOjOvhQTg1AKNhWW4hh8Uzo=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":199824},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"27cbd1a4dafb4be13de2c5e933770a2ba68fdf93","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"10.5.0","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"18.20.1","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.2.8","oclif":"^4","eslint":"^8.57.0","vitest":"^1.4.0","node-fetch":"^3.3.2","typescript":"^5.4.5","@types/node":"^20.12.7","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.2","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.58.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.4.2-test.202404112020.0_1712866896501_0.17293689102246157","host":"s3://npm-registry-packages"}},"4.4.2-test.202404112049.0":{"name":"@shopify/oxygen-cli","version":"4.4.2-test.202404112049.0","license":"MIT","_id":"@shopify/oxygen-cli@4.4.2-test.202404112049.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"9ea1174c09c80731098a00520fbe65fcf49c1efc","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.4.2-test.202404112049.0.tgz","fileCount":82,"integrity":"sha512-pCRpim88G6iTvwApr2cPA9B/H+iie8KNR2BfhdiBF6UCCeJrBI/wvHkxdis2KfVcS89nF8hQJ5HbjePusKm8KA==","signatures":[{"sig":"MEUCIQCybveWEKFqW93H7JjMpf2mw1jGmMqWle3aLvhC9b96sQIgLPG5064wUhd/01LzCgUZZnwRSa4jOvosAcphuWRTe7g=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":200260},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"a38110bc36d736e71e5c95730181cc2e2483e72c","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"10.5.0","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"18.20.1","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.2.8","oclif":"^4","eslint":"^8.57.0","vitest":"^1.4.0","node-fetch":"^3.3.2","typescript":"^5.4.5","@types/node":"^20.12.7","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.2","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.58.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.4.2-test.202404112049.0_1712868650457_0.4669498393499232","host":"s3://npm-registry-packages"}},"4.4.2-test.202404112106.0":{"name":"@shopify/oxygen-cli","version":"4.4.2-test.202404112106.0","license":"MIT","_id":"@shopify/oxygen-cli@4.4.2-test.202404112106.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"cac39244fe7a643f71bcceb9cc96bc764d2faa95","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.4.2-test.202404112106.0.tgz","fileCount":82,"integrity":"sha512-il2WRuTh2+8tlG+1d2FDjlq60FsBLDQTeVckKkatwG95/pXbwzd/iaiF9ZMA6TXXo2CZZ+cgqsaiUkBhTRc+Tw==","signatures":[{"sig":"MEYCIQDJVGbyvKtENDaVpU4Bcdm7bKnrLhkX3VezWzlYvWzeeAIhAM7BMP5Z8vn6QXERkNlxe/Bvi717jbfrjxSzXgveX4mA","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":200603},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"79f7678a01bc39d03be72b097807d328b2969b3d","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"10.5.0","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"18.20.1","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.2.8","oclif":"^4","eslint":"^8.57.0","vitest":"^1.4.0","node-fetch":"^3.3.2","typescript":"^5.4.5","@types/node":"^20.12.7","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.2","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.58.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.4.2-test.202404112106.0_1712869663073_0.37617295455735356","host":"s3://npm-registry-packages"}},"4.4.2-test.202404112146.0":{"name":"@shopify/oxygen-cli","version":"4.4.2-test.202404112146.0","license":"MIT","_id":"@shopify/oxygen-cli@4.4.2-test.202404112146.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"29c88eab27514930f29bbbc4f0730b848a3c4c3a","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.4.2-test.202404112146.0.tgz","fileCount":82,"integrity":"sha512-4KO3qF6b/g9qyGi/aKcPJXPydLz5dWkVmRm/CfNQACVy1IN2WqwvrEfw0OjH0brgpJ3C2ArjdyHjJyhABg1uVQ==","signatures":[{"sig":"MEYCIQCVwHMdBZijILJa9yWUvfRyzYKGyZJHc2KyOizHIKcscgIhAK9ITHDqigr8uh5fSfpJyCMaVBqpuMerum/VGAcJGURE","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":200831},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"a370efca3eeaabb95bcd481e4dbfa90d165887e9","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"10.5.0","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"18.20.1","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.2.8","oclif":"^4","eslint":"^8.57.0","vitest":"^1.4.0","node-fetch":"^3.3.2","typescript":"^5.4.5","@types/node":"^20.12.7","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.2","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.58.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.4.2-test.202404112146.0_1712872051349_0.8240013301579463","host":"s3://npm-registry-packages"}},"4.4.3-unstable.202404120918.0":{"name":"@shopify/oxygen-cli","version":"4.4.3-unstable.202404120918.0","license":"MIT","_id":"@shopify/oxygen-cli@4.4.3-unstable.202404120918.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"421853bb2b7a4b048ce1b64403c74d44537abe64","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.4.3-unstable.202404120918.0.tgz","fileCount":82,"integrity":"sha512-UHKovXjQeJQS7Ok3smCgj+HDDw+vDEv5Ivdt7lJ6S2F+zAKzRB6SgoxtI8ae8fkmNSTN0JOh97BA6kFVPWjN5w==","signatures":[{"sig":"MEUCIQD43x8KjpjWY+rMIbOEDzpfp1wLEXItV4rgx+RboOyqGwIgWRrXF9n9YScAN34AtaQQkh5ZfznEBBLBOyELxxFmD70=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":200413},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"b99bf3e0b375f883df994f04c5378477fff9869e","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"10.5.0","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"18.20.1","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.2.8","oclif":"^4","eslint":"^8.57.0","vitest":"^1.4.0","node-fetch":"^3.3.2","typescript":"^5.4.5","@types/node":"^20.12.7","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.2","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.58.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.4.3-unstable.202404120918.0_1712913542779_0.4815888630627596","host":"s3://npm-registry-packages"}},"4.4.3-unstable.202404121500.0":{"name":"@shopify/oxygen-cli","version":"4.4.3-unstable.202404121500.0","license":"MIT","_id":"@shopify/oxygen-cli@4.4.3-unstable.202404121500.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"d885252f73c8ec1d27135c0c349465170819c75c","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.4.3-unstable.202404121500.0.tgz","fileCount":82,"integrity":"sha512-lrArwoVoTJTNwGtyESKEiqNB/+Tg3S+5WlWIrv8mMWg0yGtyoSXSX+2ezSMg55MGVoAgEdW3dJsoHa49yaMVDQ==","signatures":[{"sig":"MEUCIQChAJEVVWghFj7xb25TU/6mHE59dQQ8iL30ECq7iqxlxgIgde23v6n48sg4D2tCN32zln5Ti1ynonbgT09fFLWea8E=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":200457},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"7fda8b4d836e96901ac8b4b9c83588bd77acae17","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"10.5.0","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"18.20.1","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.2.8","oclif":"^4","eslint":"^8.57.0","vitest":"^1.4.0","node-fetch":"^3.3.2","typescript":"^5.4.5","@types/node":"^20.12.7","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.2","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.58.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.4.3-unstable.202404121500.0_1712934044026_0.3840035501560075","host":"s3://npm-registry-packages"}},"4.4.3-unstable.202404121701.0":{"name":"@shopify/oxygen-cli","version":"4.4.3-unstable.202404121701.0","license":"MIT","_id":"@shopify/oxygen-cli@4.4.3-unstable.202404121701.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"5a0f3bada622585f3c78a6c4860156c133c76f33","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.4.3-unstable.202404121701.0.tgz","fileCount":82,"integrity":"sha512-7RaVCLERig1pWgpWddtZ+Zm7HNgnYiPbebEeMKpdSZZMnAGUPyVNMmMdSehpD/daxvNKkw1W9qSjKQ42nhZdhw==","signatures":[{"sig":"MEYCIQCPIoh+YBFb5zeifAMKtY6WnzbYlYNybMBjmMnZj23nBgIhAO9xw9DrwvJJKw4BVtUKjrRv1etsd9IGq/gbP1r+xpef","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":201228},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"fe57ca6293cb285a73abd065f55520aa5574764d","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"10.5.0","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"18.20.1","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.2.8","oclif":"^4","eslint":"^8.57.0","vitest":"^1.4.0","node-fetch":"^3.3.2","typescript":"^5.4.5","@types/node":"^20.12.7","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.2","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.58.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.4.3-unstable.202404121701.0_1712941318071_0.3674707367859127","host":"s3://npm-registry-packages"}},"4.4.3-unstable.202404151459.0":{"name":"@shopify/oxygen-cli","version":"4.4.3-unstable.202404151459.0","license":"MIT","_id":"@shopify/oxygen-cli@4.4.3-unstable.202404151459.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"913a9d0dc133333d9e6cc111d10da5e0b7076cdb","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.4.3-unstable.202404151459.0.tgz","fileCount":82,"integrity":"sha512-JRB5cH9Vbuqvn1zGXVyp01sZd1TnzKdc1Dlz49K06IUanBWekuxPAE4VbdkKEYSXbas5S+v99rXDKDgD4MRxnQ==","signatures":[{"sig":"MEQCICVOWwFX+yyAH8Tbq1yOgHmD+CibEhV3X6S+NU1IM+w3AiB7s6KHPzWpvcW0RARRNpqQmOMjW9+XVjAVqIXQEucycQ==","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":201272},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"adcb155aab900af0da54f11ce5f15dc52d9954fd","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"10.5.0","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"18.20.1","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.2.8","oclif":"^4","eslint":"^8.57.0","vitest":"^1.4.0","node-fetch":"^3.3.2","typescript":"^5.4.5","@types/node":"^20.12.7","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.2","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.58.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.4.3-unstable.202404151459.0_1713193179429_0.1805437207816376","host":"s3://npm-registry-packages"}},"4.4.2":{"name":"@shopify/oxygen-cli","version":"4.4.2","license":"MIT","_id":"@shopify/oxygen-cli@4.4.2","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"006cfc97a6f25c6e21db21e4e04a290a31cda843","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.4.2.tgz","fileCount":82,"integrity":"sha512-mR47JULwtEc67g62djKWkez53VBdJYmJQr70/NRDAoERpoN49D2cJHcLKVsWBdE04dNBPpa5zEKU7C9cy2zPnQ==","signatures":[{"sig":"MEUCIEpx16GL9CZfImhJucCQYuAdxtSgGqJUrkdpA2B0tV9CAiEA7aPl64Jl+hEOJRRWI6weE2Z0eqEPNlotmabisLKD90E=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":201224},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"engines":{"node":">=18.12.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"adc800fdcc52f0409ddb308b6f0dae80930bbcaa","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"10.5.0","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"18.20.1","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"devDependencies":{"tsup":"^8.0.2","vite":"^5.2.8","oclif":"^4","eslint":"^8.57.0","vitest":"^1.4.0","node-fetch":"^3.3.2","typescript":"^5.4.5","@types/node":"^20.12.7","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.2","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.58.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.4.2_1713273952433_0.528655584635163","host":"s3://npm-registry-packages"}},"4.4.4-unstable.202404161441.0":{"name":"@shopify/oxygen-cli","version":"4.4.4-unstable.202404161441.0","license":"MIT","_id":"@shopify/oxygen-cli@4.4.4-unstable.202404161441.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"21c9c9af627707cd98ca576a048e25ecd4b1304f","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.4.4-unstable.202404161441.0.tgz","fileCount":82,"integrity":"sha512-d8N/Ps2jXevl8Q9QJMqKdHZBOMG7FzNDLs4M+ljkZDdwULN3RbOS/UGzvseiW2Ewv2rVG+d9QXsFPcd5wChCkA==","signatures":[{"sig":"MEQCIFpVKQk3iJ+bOVKsQqY/XAe4HStFBY+lRX8swsMI/FKXAiBJlurvG89X2+CFtROb3aXNzyGmJ1AJQQdPQExatpjmzA==","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":201345},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"3755b76ded2cd34ae63a0cdac0ddda4a19bf3aae","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"10.5.0","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"18.20.1","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.19.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.2.9","oclif":"^4","eslint":"^8.57.0","vitest":"^1.4.0","node-fetch":"^3.3.2","typescript":"^5.4.5","@types/node":"^20.12.7","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.2","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.58.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.4.4-unstable.202404161441.0_1713278515034_0.36938387733861977","host":"s3://npm-registry-packages"}},"4.4.4-unstable.202404181500.0":{"name":"@shopify/oxygen-cli","version":"4.4.4-unstable.202404181500.0","license":"MIT","_id":"@shopify/oxygen-cli@4.4.4-unstable.202404181500.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"1c4bfb39b1b340fe6a3b2a541c9af8ce5436d770","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.4.4-unstable.202404181500.0.tgz","fileCount":82,"integrity":"sha512-K71LeEbw8g6oGzvHDL2ijd8yI5G31XHNPgvzBNuP1iSFaAyzV/9tclxzEFmSvQifSb1IHz1728Im0j+NocVVgg==","signatures":[{"sig":"MEUCIFjVyuJvo6Ziz6rLcIa03gZCoz1NKvs/kMWwAi/+nh0qAiEAlKQ45dEVt/oldlRzFnHceSRgpKLKTlgStsOeEW7mEUM=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":201399},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"0f03f49584c74c112a7bb713a11e2588230e0d07","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"10.5.0","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"18.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.22.7"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.2.9","oclif":"^4","eslint":"^8.57.0","vitest":"^1.4.0","node-fetch":"^3.3.2","typescript":"^5.4.5","@types/node":"^20.12.7","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.2","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.58.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.4.4-unstable.202404181500.0_1713452479859_0.35940327804804184","host":"s3://npm-registry-packages"}},"4.4.4-unstable.202404221451.0":{"name":"@shopify/oxygen-cli","version":"4.4.4-unstable.202404221451.0","license":"MIT","_id":"@shopify/oxygen-cli@4.4.4-unstable.202404221451.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"c028edcd8c1a59bea57cfdfa573b4f3682295d88","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.4.4-unstable.202404221451.0.tgz","fileCount":82,"integrity":"sha512-iG5N93Nx+CsZUmmqjbvSefySV0iRHCN2Ofcvlw0TJPp7QGqWyfMfqTJyFyvir0VsNVTIfo1JG8FBwzw+pi9a2g==","signatures":[{"sig":"MEUCIQD8CR/zsanIoloHZ1y8sl+SAJ6zm0P4D8tCP/hwyhSqvQIgRvixMnXlNcXRtnEPdjf1GkLvtiPpp+LNWEmZ8XAXwbw=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":201488},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"5fc0722f41a736028b55aac4ae5b4c7648f00465","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"10.5.0","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"18.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.22.7"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.2.10","oclif":"^4","eslint":"^8.57.0","vitest":"^1.4.0","node-fetch":"^3.3.2","typescript":"^5.4.5","@types/node":"^20.12.7","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.2","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.58.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.4.4-unstable.202404221451.0_1713797519948_0.26659230322555993","host":"s3://npm-registry-packages"}},"4.4.3":{"name":"@shopify/oxygen-cli","version":"4.4.3","license":"MIT","_id":"@shopify/oxygen-cli@4.4.3","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"e038a3883031b9bea0f72b66a1cb45f29cbd52d8","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.4.3.tgz","fileCount":82,"integrity":"sha512-GS89HcVKaiQxMrduytVeSbkyYXj0mRkwFlzxzZ3a/Ijog2vR6JKFyUoT8pj7olwpGhkYscJGhzQpEM6yRQrGfA==","signatures":[{"sig":"MEYCIQDB+xQBOZ5Aq5eG4QY0RG0nA4htp2M/bWlMAmCi38askAIhANStJPU7pYsRDIRmFpj4wuZ1/0Eg4uApxMv57kM1wdiY","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":201440},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"engines":{"node":">=18.12.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"5f73ef318b0c2f8da38bced674c6c044b38568fc","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"10.5.0","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"18.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.22.7"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"devDependencies":{"tsup":"^8.0.2","vite":"^5.2.10","oclif":"^4","eslint":"^8.57.0","vitest":"^1.4.0","node-fetch":"^3.3.2","typescript":"^5.4.5","@types/node":"^20.12.7","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.2","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.58.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.4.3_1713878749823_0.8094976380913299","host":"s3://npm-registry-packages"}},"4.4.5-unstable.202404261454.0":{"name":"@shopify/oxygen-cli","version":"4.4.5-unstable.202404261454.0","license":"MIT","_id":"@shopify/oxygen-cli@4.4.5-unstable.202404261454.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"63040419b8456b9e05260f4c686f98ae34a26ee0","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.4.5-unstable.202404261454.0.tgz","fileCount":82,"integrity":"sha512-UZ/PuqJhwRugtfSBNqtx7NN0v6Xp5mQgOi/DionLtfyzyWyf/+irbIShf4O3jnJi77hQ7xQBivAshf+3yjtDmA==","signatures":[{"sig":"MEUCIQDoqaq/sfiAMCQ1wDa5mCoPEejdfs6KziHQ5pKp2OPJggIgR9yImUqPzhneQL32AG9kHpcp190WkC4wmxSJDW6tK8U=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":201562},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"f6f4a4fe1c4fac6a4af1e7dd6981b96894215db5","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"10.5.0","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"18.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.22.7"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.2.10","oclif":"^4","eslint":"^8.57.0","vitest":"^1.4.0","node-fetch":"^3.3.2","typescript":"^5.4.5","@types/node":"^20.12.7","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.2","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.58.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.4.5-unstable.202404261454.0_1714143294571_0.17463055364980673","host":"s3://npm-registry-packages"}},"4.4.4":{"name":"@shopify/oxygen-cli","version":"4.4.4","license":"MIT","_id":"@shopify/oxygen-cli@4.4.4","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"487b42e61ce7038b9f89ed987ac03623a4ff2f51","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.4.4.tgz","fileCount":82,"integrity":"sha512-vCbI9pQyTzBTIiSMWgXkbgurhYt1Dr/MQfpCUYFwCGfRuLhRoVW25sxJHiXxyp8xY10Kx95rYWJrRq4KBQe18w==","signatures":[{"sig":"MEQCIBNXYZUYSA9SpzwfcN0GpXMdTKmAnxNbmN4c16yuivJcAiB20Sm5Rjg5f4JaWBQwlWbhmqNl3y30cFOa/eThOFy1eA==","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":201514},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"engines":{"node":">=18.12.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"dcd06fe9cdaf9695f98a035ed03afb1870b24389","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"10.5.0","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"18.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.22.7"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"devDependencies":{"tsup":"^8.0.2","vite":"^5.2.10","oclif":"^4","eslint":"^8.57.0","vitest":"^1.4.0","node-fetch":"^3.3.2","typescript":"^5.4.5","@types/node":"^20.12.7","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.2","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.58.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.4.4_1714483496340_0.5382416717603338","host":"s3://npm-registry-packages"}},"4.4.6-unstable.202404301441.0":{"name":"@shopify/oxygen-cli","version":"4.4.6-unstable.202404301441.0","license":"MIT","_id":"@shopify/oxygen-cli@4.4.6-unstable.202404301441.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"d3162cadff0e7c3c78e3bda4dad279ca7d2a4496","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.4.6-unstable.202404301441.0.tgz","fileCount":82,"integrity":"sha512-f169b5KmzpwZW3GWWmnoOGHusKqUhwxtj5QsOPLIP/FyXBiAGD87cBFqh4puJWT56+aPrGDcBD+gSI67YEGKZQ==","signatures":[{"sig":"MEYCIQCdXLIuRZ8u6N9Q07YxcsJ+/p+io6Dq6XCmlK6Y4e3rfAIhAIHE8vBqaUyun1VVsIr+FYZeh8QB11BV2pgNMA80bzgw","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":201636},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"3c097a35804d852a36a774343e0e6d4e038ba532","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"10.5.0","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"18.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.22.7"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.2.10","oclif":"^4","eslint":"^8.57.0","vitest":"^1.4.0","node-fetch":"^3.3.2","typescript":"^5.4.5","@types/node":"^20.12.7","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.2","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.58.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.4.6-unstable.202404301441.0_1714488140279_0.4967717069050228","host":"s3://npm-registry-packages"}},"4.4.6-unstable.202405021456.0":{"name":"@shopify/oxygen-cli","version":"4.4.6-unstable.202405021456.0","license":"MIT","_id":"@shopify/oxygen-cli@4.4.6-unstable.202405021456.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"2af91437a7d937f7d296a94aadd394cd2a34f390","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.4.6-unstable.202405021456.0.tgz","fileCount":82,"integrity":"sha512-0VmsxHUOLXW1vXi/lwMLN5UmU6b76hY4yfKYs8XZ6z0yjtcOLFTPJ10lYZ7BtBnp60DuJGlWRnPf4wtNes2xmg==","signatures":[{"sig":"MEYCIQDiy7NAgEOkzXeGIb4zSA3nsntVpkqgnqeE5w2CXLHzSgIhALteN+IvhKQRWkG5kjT0mP7B8cQc6iI6N2pWQOxFeT1y","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":201794},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"68f08b72c7c3ddd952c94d887fc8c6b61eca4745","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"10.5.0","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"18.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.22.7"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.2.10","oclif":"^4","eslint":"^8.57.0","vitest":"^1.4.0","node-fetch":"^3.3.2","typescript":"^5.4.5","@types/node":"^20.12.8","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.3","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.58.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.4.6-unstable.202405021456.0_1714661836406_0.9320908565202279","host":"s3://npm-registry-packages"}},"4.4.6-unstable.202405021458.0":{"name":"@shopify/oxygen-cli","version":"4.4.6-unstable.202405021458.0","license":"MIT","_id":"@shopify/oxygen-cli@4.4.6-unstable.202405021458.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"946a2d2d6519797dc1e30afc6281af54251bc97c","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.4.6-unstable.202405021458.0.tgz","fileCount":82,"integrity":"sha512-XT0/rmjwjuSlxq1pNhB56C5vgoTU4bPOZL1uDYultDwqR8zFeKzAaC9vfw32lByPWv/gk7qYwmZOJmN+8h7D0A==","signatures":[{"sig":"MEUCIHmFAsbIQVn1/whdrjswsezzW/m2XTxgli7jeyUY1L34AiEAreC2m74vADvSKoiiGD4SN/2vHTkPr/kjsQN6Kyw3Drk=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":201839},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"c4ff19157f1278b3e19bfc500a12e0a102d8cc4f","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"10.5.0","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"18.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.22.7"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.2.11","oclif":"^4","eslint":"^8.57.0","vitest":"^1.4.0","node-fetch":"^3.3.2","typescript":"^5.4.5","@types/node":"^20.12.8","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.3","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.58.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.4.6-unstable.202405021458.0_1714661928225_0.9214752251191403","host":"s3://npm-registry-packages"}},"4.4.6-unstable.202405061502.0":{"name":"@shopify/oxygen-cli","version":"4.4.6-unstable.202405061502.0","license":"MIT","_id":"@shopify/oxygen-cli@4.4.6-unstable.202405061502.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"18e7558159a321ff21ee19346747e4781515e033","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.4.6-unstable.202405061502.0.tgz","fileCount":82,"integrity":"sha512-p/FfTYExbnHege5joqRkn0ehXAIUnYwzoVbgW6iXIh4zxOy/Gofa3QSTCShiOuke2ZTqZT/Rg/NX/D4czFi1wg==","signatures":[{"sig":"MEUCIHQeXvBxL96yEV+6xRxVqPudN+hXGZWkpK7MjhWlHJ83AiEA73nGD21P+YS59pZczfhALA6pfQljS3cd0rcqBTUufnY=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":201893},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"eaffbcd1171a0f689dcba3723a87e04e3c3f7d2b","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"10.5.0","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"18.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.22.7"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.2.11","oclif":"^4","eslint":"^8.57.0","vitest":"^1.4.0","node-fetch":"^3.3.2","typescript":"^5.4.5","@types/node":"^20.12.9","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.3","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.58.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.4.6-unstable.202405061502.0_1715007779976_0.04402336787110128","host":"s3://npm-registry-packages"}},"4.4.6-unstable.202405061521.0":{"name":"@shopify/oxygen-cli","version":"4.4.6-unstable.202405061521.0","license":"MIT","_id":"@shopify/oxygen-cli@4.4.6-unstable.202405061521.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"11c425da5e38715d3ea625155e6274c545871943","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.4.6-unstable.202405061521.0.tgz","fileCount":82,"integrity":"sha512-R1dbL14eQcOcE1ySoFPueiklf61WmGK58AQrzlvhvWG3liAIo0kGhN+rAjuQn1qi/BP8BACaqbwg9Oabi3g2kA==","signatures":[{"sig":"MEUCIFtNggj2r4NqhvIPG9Eb5k56DzxFOyvWiWtAb2bIB/n5AiEAtFRpLbka/DwmYvtzCqTet2Q9Nx3Q3UEYJADb1Uu/zkA=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":201939},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"403c7d8e6ad44ea0670ff302306d0cef9dc744d1","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"10.5.0","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"18.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.22.7"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.2.11","oclif":"^4","eslint":"^8.57.0","vitest":"^1.4.0","node-fetch":"^3.3.2","typescript":"^5.4.5","@types/node":"^20.12.9","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.3","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.58.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.4.6-unstable.202405061521.0_1715008911871_0.64470098147943","host":"s3://npm-registry-packages"}},"4.4.6-unstable.202405070915.0":{"name":"@shopify/oxygen-cli","version":"4.4.6-unstable.202405070915.0","license":"MIT","_id":"@shopify/oxygen-cli@4.4.6-unstable.202405070915.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"6210e5783ab863c3f3f428a0233e0352b0549cec","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.4.6-unstable.202405070915.0.tgz","fileCount":82,"integrity":"sha512-bdDe+pR4Qojfw681yjYTICRa8h1ID98erb+B0JWfkLTCNNkBwlAubCrazL9CyFS2BMAk7hncuqQY+6CWbDs/1g==","signatures":[{"sig":"MEYCIQCJ0QUsMMWRLYHWSduBUd+f6HNe1hoHMIp7ns3AiHfYBQIhALOugHP5CCoDQVAbCHeUUABM9NOMBOA4Xf1IuVAQ0zts","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":203790},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"d7198584e9fdcb1fb886f79582e6e73d0231c694","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"10.5.0","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"18.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.22.7"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.2.11","oclif":"^4","eslint":"^8.57.0","vitest":"^1.4.0","node-fetch":"^3.3.2","typescript":"^5.4.5","@types/node":"^20.12.9","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.3","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.58.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.4.6-unstable.202405070915.0_1715073322089_0.6291057209173756","host":"s3://npm-registry-packages"}},"4.4.5":{"name":"@shopify/oxygen-cli","version":"4.4.5","license":"MIT","_id":"@shopify/oxygen-cli@4.4.5","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"1f49408d27e32bd1ae21f3cfc4e68df6a3bf7d90","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.4.5.tgz","fileCount":82,"integrity":"sha512-8woMkufsMnHNNV3lVcW5ilJ94Qp3vyukPr87A0v66JFJv/cPDoAc2Pyt9WkYZ29iofiQ4JvEa/XHzzxYyjfYvw==","signatures":[{"sig":"MEUCIQCXEa2z8wBQG5uAwm4qIGtDKbJ366KDF3MxwsqJec5+CAIgTcOccfLvGNGuXrSN1FyPaiPVwmAHNXQ46E1XTkGzrEQ=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":203742},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"engines":{"node":">=18.12.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"3730a11831fc74ee519a3ddc76ae9f41d8bd53ef","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"10.5.0","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"18.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.22.7"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"devDependencies":{"tsup":"^8.0.2","vite":"^5.2.11","oclif":"^4","eslint":"^8.57.0","vitest":"^1.4.0","node-fetch":"^3.3.2","typescript":"^5.4.5","@types/node":"^20.12.9","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.3","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.58.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.4.5_1715088276360_0.21114863620000013","host":"s3://npm-registry-packages"}},"4.4.7-unstable.202405071426.0":{"name":"@shopify/oxygen-cli","version":"4.4.7-unstable.202405071426.0","license":"MIT","_id":"@shopify/oxygen-cli@4.4.7-unstable.202405071426.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"e0c96f0654e0caaf8ba42066440913746a5d4bcd","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.4.7-unstable.202405071426.0.tgz","fileCount":82,"integrity":"sha512-sldPNO2LlZR9+HGmGpp6vmmEY7kcyTc464OSWklZKxx9Q/ANCy7c5w6T0HWf4Zoj0ywl6vYUs9A58nR7A51TeQ==","signatures":[{"sig":"MEUCIH728UfKhfgvxwyiu/Hpkc87ItoNO3A3H82TYEoUCaWSAiEArxDy3t8TWhlwmwKa1snPm7vA0Z4QhaEGqgU04TloTkU=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":203876},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"a756c5754b5cbe544476edca373b48c85cf2d5de","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"10.5.0","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"18.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.22.7"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.2.11","oclif":"^4","eslint":"^8.57.0","vitest":"^1.4.0","node-fetch":"^3.3.2","typescript":"^5.4.5","@types/node":"^20.12.10","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.3","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.58.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.4.7-unstable.202405071426.0_1715091980442_0.545660799120947","host":"s3://npm-registry-packages"}},"4.4.7-unstable.202405081430.0":{"name":"@shopify/oxygen-cli","version":"4.4.7-unstable.202405081430.0","license":"MIT","_id":"@shopify/oxygen-cli@4.4.7-unstable.202405081430.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"e40eb30708497466a6e7a560c9d1e7d1527eb129","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.4.7-unstable.202405081430.0.tgz","fileCount":82,"integrity":"sha512-tz2S8G+rCVM1GUS3aI3uWQ5V9dwSsfmgGEAoQtfRg/yWYNCHMrHw1CI//5iEK+VjV7KH3krHiFMiatRPFhmKkw==","signatures":[{"sig":"MEUCIFWLE6aDeHI5pdCYvdMYRDo4OHvhK/OiBbSwvjV71E1XAiEAo2zzukkvtHH+qS+P2BA3TOuadMegxR93bLchjCXyrMY=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":203932},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"1540f78dfaa03de51ab88aecd113e12476a45553","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"10.5.0","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"18.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.22.7"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.2.11","oclif":"^4","eslint":"^8.57.0","vitest":"^1.4.0","node-fetch":"^3.3.2","typescript":"^5.4.5","@types/node":"^20.12.11","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.3","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.58.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.4.7-unstable.202405081430.0_1715178671544_0.3134513489723505","host":"s3://npm-registry-packages"}},"4.4.7-unstable.202405091422.0":{"name":"@shopify/oxygen-cli","version":"4.4.7-unstable.202405091422.0","license":"MIT","_id":"@shopify/oxygen-cli@4.4.7-unstable.202405091422.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"ff85c4257121486fea31fbd155c9aa3c201ff826","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.4.7-unstable.202405091422.0.tgz","fileCount":82,"integrity":"sha512-+SgATTeCH64/GdqPIi9ndbMP0mzWzrvxqamctMW/fitOWYn31QsboLfkkt6/qjasl9gLcrm404tpOLC2MjZm7Q==","signatures":[{"sig":"MEQCIE4JY0jR5SLRXVJaNYcpppZD9sLttKOrNqGnZ7MKHeNIAiBUK4+rWTHOnFr4poDY2FFCD5N+gRjM1OMTogewK8JZfg==","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":204032},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"2278e5b75b27ff1db5ac0e694ead0a7e09c055e9","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"10.5.0","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"18.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.23.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.2.11","oclif":"^4","eslint":"^8.57.0","vitest":"^1.4.0","node-fetch":"^3.3.2","typescript":"^5.4.5","@types/node":"^20.12.11","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.3","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.58.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.4.7-unstable.202405091422.0_1715264580956_0.9923084162377964","host":"s3://npm-registry-packages"}},"4.4.7-unstable.202405101413.0":{"name":"@shopify/oxygen-cli","version":"4.4.7-unstable.202405101413.0","license":"MIT","_id":"@shopify/oxygen-cli@4.4.7-unstable.202405101413.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"92c624e887f2f2c26191131b5d1911c6a2652808","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.4.7-unstable.202405101413.0.tgz","fileCount":82,"integrity":"sha512-ZIaW+ZMIG69mtzuOsBzbF9rZdRVAWwoKsyuZ9Ibns/aCQkZ1aETKY9251sheDr8FLOmN4ulw5S1/Cr8ozpFbJQ==","signatures":[{"sig":"MEUCIH3HYOCIGXqGLXb82TgXx2ZBL5zjenN4i9MjcGsu2R0bAiEAjBuXbtEOnf0ExdaEbhhLcmP8L2WzDm8hMqn0Ctzy2ng=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":204078},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"f93c9ee4bd4632d37cc857387f07fd3bc3377283","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"10.5.0","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"18.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.23.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.2.11","oclif":"^4","eslint":"^8.57.0","vitest":"^1.4.0","node-fetch":"^3.3.2","typescript":"^5.4.5","@types/node":"^20.12.11","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.3","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.58.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.4.7-unstable.202405101413.0_1715350416067_0.8823521354604573","host":"s3://npm-registry-packages"}},"4.4.7-unstable.202405131436.0":{"name":"@shopify/oxygen-cli","version":"4.4.7-unstable.202405131436.0","license":"MIT","_id":"@shopify/oxygen-cli@4.4.7-unstable.202405131436.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"c63e02e5c7766a494919c86c4c9f44f6187363d8","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.4.7-unstable.202405131436.0.tgz","fileCount":82,"integrity":"sha512-8UtrrrIEuv96WeadN7NuAzm2d0R2IJCv7rWjdRPOnSq2RvFiAVcZ01E+GJ+TyT2eQVIQU2zswWDSh9c9h3/ruQ==","signatures":[{"sig":"MEQCIDY57gGUb1Dq/+ETk3MtKxhZCbpH/inBu8leCxLIHnQzAiBZaJ8jrGcqo1Tka88wRItwKWECIB79/4iOGymm2f/LPA==","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":204125},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"96915fc6c885e859150281e8974dd25ec4350924","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"10.5.0","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"18.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.23.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.2.11","oclif":"^4","eslint":"^8.57.0","vitest":"^1.4.0","node-fetch":"^3.3.2","typescript":"^5.4.5","@types/node":"^20.12.11","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.3","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.58.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.4.7-unstable.202405131436.0_1715611020370_0.9262256213590072","host":"s3://npm-registry-packages"}},"4.4.6":{"name":"@shopify/oxygen-cli","version":"4.4.6","license":"MIT","_id":"@shopify/oxygen-cli@4.4.6","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"3dc81b56875f2468953c48902ab100f603af7b5f","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.4.6.tgz","fileCount":82,"integrity":"sha512-GCsp0l/VQxsezNoH7ItUuYBL4DB4yolYSe8z2FY6EyJ9vD7NPxBoBsVF4ZqPqVThjLXC/9hpokLUY0lH1MpPZg==","signatures":[{"sig":"MEUCIAgTUXpu4VV4YV/AnqaxGQ02+1WussOGorn80b2tdiZCAiEA+jgX7XGjZKxMVYvJ5/nqLStO/9aTMtKvrS+S3b9+EEM=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":204077},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"engines":{"node":">=18.12.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"5210b95a015bdc92fd1321d3d592d6b553993afb","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"10.5.0","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"18.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.23.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"devDependencies":{"tsup":"^8.0.2","vite":"^5.2.11","oclif":"^4","eslint":"^8.57.0","vitest":"^1.4.0","node-fetch":"^3.3.2","typescript":"^5.4.5","@types/node":"^20.12.11","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.3","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.58.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.4.6_1715693173097_0.9443090749201548","host":"s3://npm-registry-packages"}},"4.4.8-unstable.202405151503.0":{"name":"@shopify/oxygen-cli","version":"4.4.8-unstable.202405151503.0","license":"MIT","_id":"@shopify/oxygen-cli@4.4.8-unstable.202405151503.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"c20e7025d4a66fbe6924ae6a022bf5cb91dc0205","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.4.8-unstable.202405151503.0.tgz","fileCount":82,"integrity":"sha512-uF/RR/nvclvSFcGYYK0T+y2L1bQPyzOsYlk+12irT3l8EWETcjzuBB6HNfD9Y8J7+sSCXczXxCMHDSct4Edcyw==","signatures":[{"sig":"MEQCICkYQkRFLOnk/INh2H8m/kZ/K7DK4DR+yPbaCa1U/9NEAiBUu0qpv5tsFMTlsbmqLz1zGLbdKd8X6gFlhz08CNvk5Q==","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":204211},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"f3a289277388bcb8047c3d01fb1cff2a8e415448","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"10.5.0","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"18.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.23.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.2.11","oclif":"^4","eslint":"^8.57.0","vitest":"^1.4.0","node-fetch":"^3.3.2","typescript":"^5.4.5","@types/node":"^20.12.12","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.3","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.58.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.4.8-unstable.202405151503.0_1715785457594_0.7917538266736464","host":"s3://npm-registry-packages"}},"4.4.8-unstable.202405151507.0":{"name":"@shopify/oxygen-cli","version":"4.4.8-unstable.202405151507.0","license":"MIT","_id":"@shopify/oxygen-cli@4.4.8-unstable.202405151507.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"3c5b593c77670200a1d8b9d3b269430fdb4de843","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.4.8-unstable.202405151507.0.tgz","fileCount":82,"integrity":"sha512-WqtuJ3+aq97+cGhApXkMT4VKe3+whPznC57BcrEPlGBE01a3e6pJ7k03R8qC1mTQEC/MrXDJRpKO17Mn7jnJ1w==","signatures":[{"sig":"MEUCIAVmZvK2/2Yi3Etck6SuIq3AGRqFJUmDcd+Na8C2DiuDAiEA9YEfpcl6vTj9uOSEzkp24lzFDDJoqV95kFCvQ8gyDiM=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":204259},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"431b755f41c6fa1258d44e8caf24f1eed9d08118","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"10.5.0","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"18.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.23.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.2.11","oclif":"^4","eslint":"^8.57.0","vitest":"^1.4.0","node-fetch":"^3.3.2","typescript":"^5.4.5","@types/node":"^20.12.12","@types/async":"^3.2.24","@changesets/cli":"^2.27.1","@bugsnag/source-maps":"^2.3.3","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.58.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.4.8-unstable.202405151507.0_1715785643311_0.9551600982818624","host":"s3://npm-registry-packages"}},"4.4.8-unstable.202405171501.0":{"name":"@shopify/oxygen-cli","version":"4.4.8-unstable.202405171501.0","license":"MIT","_id":"@shopify/oxygen-cli@4.4.8-unstable.202405171501.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"f525f7a7290811bbe5f7a3584aeb4b2c42a51ca8","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.4.8-unstable.202405171501.0.tgz","fileCount":82,"integrity":"sha512-16AFyEfyyYo+hmj/sRaayzLa2h3ceKmlGKqSM6e1clRXsvW1MuXeSbSwgL/pXilnp/u97R3YO3AzxUYoT58hbw==","signatures":[{"sig":"MEUCIQD5WUx0xlftd+NxKzG3v72ANEA4YZuvyLjcoEoP+Y8O9QIgDLQhh2DLNgthZ/6+YR3VqpihL0wjV5hDZKUA8uvfbm4=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":204315},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"40d79feb346d7169e178ee76d8aef108a7162d66","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"10.5.0","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"18.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.23.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.2.11","oclif":"^4","eslint":"^8.57.0","vitest":"^1.4.0","node-fetch":"^3.3.2","typescript":"^5.4.5","@types/node":"^20.12.12","@types/async":"^3.2.24","@changesets/cli":"^2.27.2","@bugsnag/source-maps":"^2.3.3","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.58.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.4.8-unstable.202405171501.0_1715958102011_0.5443610934359489","host":"s3://npm-registry-packages"}},"4.4.8-unstable.202405200951.0":{"name":"@shopify/oxygen-cli","version":"4.4.8-unstable.202405200951.0","license":"MIT","_id":"@shopify/oxygen-cli@4.4.8-unstable.202405200951.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"f3514c8e5ca95c1bf393ac2c7b8c908c0cea7706","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.4.8-unstable.202405200951.0.tgz","fileCount":82,"integrity":"sha512-4EL/kV4i4a5qElCGTFm6422O4yocmQ/20eQSiCtdRFP+55Ejo2djOclMcaJiWP1evMHFUTQNyRAp+YEBQzaruQ==","signatures":[{"sig":"MEUCIQDSpVgRyqjAQd4MeQQ4PnwVM1h7pVN5gw9/AwhjpuOl6QIgFuuDiTm3sOEaS0RsYFbXpse9P7T5FHpg+C9YglDDxAA=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":204405},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"93754aeb4480b983b85a006867387443e38ee769","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"10.5.0","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"18.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.23.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.2.11","oclif":"^4","eslint":"^8.57.0","vitest":"^1.6.0","node-fetch":"^3.3.2","typescript":"^5.4.5","@types/node":"^20.12.12","@types/async":"^3.2.24","@changesets/cli":"^2.27.2","@bugsnag/source-maps":"^2.3.3","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.58.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.4.8-unstable.202405200951.0_1716198724073_0.4204107228707832","host":"s3://npm-registry-packages"}},"4.4.7":{"name":"@shopify/oxygen-cli","version":"4.4.7","license":"MIT","_id":"@shopify/oxygen-cli@4.4.7","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"89e03f63e9a8688a6fe633ba745c29a168252c60","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.4.7.tgz","fileCount":82,"integrity":"sha512-bh9deBzXYs3wa45o+87kD3MZPQcDbEHgfb76jOiOtf0oz1p1YOZzWXehg2UlaYP4h/uJjkmriXivPlwNRVoAVg==","signatures":[{"sig":"MEYCIQCTew7tUacr9IqXd9yHs5NVv5E0buYTQELVg3+d3k85FAIhAIrgpSDlLT19jY0EpFySHl4ChhFQKEsiHPQ3BDq9xrrk","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":204357},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"engines":{"node":">=18.12.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"f1a91850541d7add3ead8e589ddf0abc267c6d25","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"10.5.0","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"18.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.23.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"devDependencies":{"tsup":"^8.0.2","vite":"^5.2.11","oclif":"^4","eslint":"^8.57.0","vitest":"^1.6.0","node-fetch":"^3.3.2","typescript":"^5.4.5","@types/node":"^20.12.12","@types/async":"^3.2.24","@changesets/cli":"^2.27.2","@bugsnag/source-maps":"^2.3.3","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.58.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.4.7_1716286432753_0.6620023144513754","host":"s3://npm-registry-packages"}},"4.4.9-unstable.202405231459.0":{"name":"@shopify/oxygen-cli","version":"4.4.9-unstable.202405231459.0","license":"MIT","_id":"@shopify/oxygen-cli@4.4.9-unstable.202405231459.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"90841f784593f1c3ec903600db8024eeed291eac","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.4.9-unstable.202405231459.0.tgz","fileCount":82,"integrity":"sha512-rg7s8JN1m48uP7wyuUM3iuoU51/4AF5+uTy7STsSa5zoueF7jbze4gkuSFgcqjyMIhJeME6GkFvcy7HcSt3bpA==","signatures":[{"sig":"MEYCIQCD2Zx7Rf7yLCXP66Puyy6DhY3H17HeZ1nWDxC5JlITGQIhAKGx2RyNTiMi6A/VpE8oc82LTfbaYu+OiKVlleILHP8t","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":204482},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"4bcdda1c5f616009ea318791ffc58d492f519549","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"10.5.0","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"18.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.23.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.2.11","oclif":"^4","eslint":"^8.57.0","vitest":"^1.6.0","node-fetch":"^3.3.2","typescript":"^5.4.5","@types/node":"^20.12.12","@types/async":"^3.2.24","@changesets/cli":"^2.27.2","@bugsnag/source-maps":"^2.3.3","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.58.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.4.9-unstable.202405231459.0_1716476413682_0.8942698352896006","host":"s3://npm-registry-packages"}},"4.4.9-unstable.202405271508.0":{"name":"@shopify/oxygen-cli","version":"4.4.9-unstable.202405271508.0","license":"MIT","_id":"@shopify/oxygen-cli@4.4.9-unstable.202405271508.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"73e7b4c889abfd2de2438f6ed5dd5efbb3dc8de3","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.4.9-unstable.202405271508.0.tgz","fileCount":82,"integrity":"sha512-MbyJ3IfSm5GuhzlGw/p9H0+JSeWF2244pojEbJNR56dvo7MPBaeO4De6vKcc/dcyKLkd4CwtONvP2bA/9fCzaQ==","signatures":[{"sig":"MEUCIGViAdlIen36gupqo1BBRFc6AMDPLwgp6O7ZgrnWlRTdAiEAj/V93LKzLf4eYejtnzMd1dZ8cO5pUaRjmL9r6tcU7JQ=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":204528},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"f7868183145b132ef02767e3b73e7874bbfce486","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"10.5.0","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"18.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.23.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.2.11","oclif":"^4","eslint":"^8.57.0","vitest":"^1.6.0","node-fetch":"^3.3.2","typescript":"^5.4.5","@types/node":"^20.12.12","@types/async":"^3.2.24","@changesets/cli":"^2.27.2","@bugsnag/source-maps":"^2.3.3","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.58.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.4.9-unstable.202405271508.0_1716822510517_0.04554412846918754","host":"s3://npm-registry-packages"}},"4.4.8":{"name":"@shopify/oxygen-cli","version":"4.4.8","license":"MIT","_id":"@shopify/oxygen-cli@4.4.8","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"906276f2288113d321821fcb56f558464f987a49","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.4.8.tgz","fileCount":82,"integrity":"sha512-e79uk9q9+b6WJv7hMEl+RsD7x52E6yFbwxx3v860t2auTJW/6xgAF7AMqPeveccB3jAve3tZ7TzYt2d8pMt+Ew==","signatures":[{"sig":"MEUCIGTsC12JaqIVu0YA0xmaawp812SkQLewPH593/uG8+FoAiEAg+sn9nz3Qweu/nz+XAISSsRlQpdQRdhim/NjgMhor3w=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":204480},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"engines":{"node":">=18.12.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"7e7602ba390a72dbe03e0949ac4422f81720e641","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"10.5.0","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"18.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.23.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"devDependencies":{"tsup":"^8.0.2","vite":"^5.2.11","oclif":"^4","eslint":"^8.57.0","vitest":"^1.6.0","node-fetch":"^3.3.2","typescript":"^5.4.5","@types/node":"^20.12.12","@types/async":"^3.2.24","@changesets/cli":"^2.27.2","@bugsnag/source-maps":"^2.3.3","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.58.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.4.8_1716902754266_0.4246406164970993","host":"s3://npm-registry-packages"}},"4.4.10-unstable.202405281444.0":{"name":"@shopify/oxygen-cli","version":"4.4.10-unstable.202405281444.0","license":"MIT","_id":"@shopify/oxygen-cli@4.4.10-unstable.202405281444.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"c800b41e02e7496553a5d6ccd0a0f72f4be4d1a0","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.4.10-unstable.202405281444.0.tgz","fileCount":82,"integrity":"sha512-8bmRagnldKw8tT9nUZt42dlr9+cXlB4ws1fVN7ft347vteu3Fm+4IpHC/5PUjZi+OHwVaB+CCGujb4hcOPqxLw==","signatures":[{"sig":"MEUCIAPgzMA0npcmqvBF4rj7vGsZxrJVbi+fALLuYw4ENgKvAiEA3sZZVCOWhCJS9d+3JK5eIWFr0uC/7QyXB4AQkMhtQeQ=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":204661},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"0ff803aa6c067df3a903ccfa64fb84a0283e98fc","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"10.5.0","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"18.20.2","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.23.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.2.12","oclif":"^4","eslint":"^8.57.0","vitest":"^1.6.0","node-fetch":"^3.3.2","typescript":"^5.4.5","@types/node":"^20.12.12","@types/async":"^3.2.24","@changesets/cli":"^2.27.4","@bugsnag/source-maps":"^2.3.3","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.58.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.4.10-unstable.202405281444.0_1716907473051_0.4207237418816485","host":"s3://npm-registry-packages"}},"4.4.10-unstable.202405291446.0":{"name":"@shopify/oxygen-cli","version":"4.4.10-unstable.202405291446.0","license":"MIT","_id":"@shopify/oxygen-cli@4.4.10-unstable.202405291446.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"73cf3e43aa5a8b42cb26bbfa5d5db160537c87d3","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.4.10-unstable.202405291446.0.tgz","fileCount":82,"integrity":"sha512-I1Rs+0Uvf0I+MWz/Gma2HG166IZSM+KSz1jIAe961Zos8JFkcYOREdTqNSkSMbxA5CNwDpmZwRRCftqzPlSVMA==","signatures":[{"sig":"MEQCIBIlcopcKIfrQq7PhPrtrPoar89pDNXq5GzJ+pDXDBPmAiBZeNUDuV2o9mSwCZwEzoZpT4ltQhpl0bO437YqCqdcCA==","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":204717},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"a1d881d9fc85297648445d84406040a969b96192","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"10.7.0","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"18.20.3","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.23.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.2.12","oclif":"^4","eslint":"^8.57.0","vitest":"^1.6.0","node-fetch":"^3.3.2","typescript":"^5.4.5","@types/node":"^20.12.12","@types/async":"^3.2.24","@changesets/cli":"^2.27.5","@bugsnag/source-maps":"^2.3.3","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.58.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.4.10-unstable.202405291446.0_1716994000087_0.03221088897730762","host":"s3://npm-registry-packages"}},"4.4.10-unstable.202405292053.0":{"name":"@shopify/oxygen-cli","version":"4.4.10-unstable.202405292053.0","license":"MIT","_id":"@shopify/oxygen-cli@4.4.10-unstable.202405292053.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"ecb45653f60be476b2ed36de9ba04f942c2d5a05","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.4.10-unstable.202405292053.0.tgz","fileCount":82,"integrity":"sha512-MthTEDTtZ8TfR78KgIIhgpk08eZS9TgVDHvJhexk0dUulULvlIwHblwZBW9YpBVIwVelbLPLum4RWedA6fFD8A==","signatures":[{"sig":"MEUCICoxOd/YV9LxBUHAAkQ5gcwArZgAGiKGAkdLeML1TrMHAiEAv7hN/GJIp/6nrz9shDiBrHjxZBjDJ3MCIHQthLV9QRg=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":209067},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--authBypassTokenDuration`: Specify the duration (in hours) up to 12 hours for the authentication bypass token. Defaults to `2`.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"6bdc832d586d6d0bbb586671576326f7183f331c","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"10.7.0","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"18.20.3","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.23.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.2.12","oclif":"^4","eslint":"^8.57.0","vitest":"^1.6.0","node-fetch":"^3.3.2","typescript":"^5.4.5","@types/node":"^20.12.12","@types/async":"^3.2.24","@changesets/cli":"^2.27.5","@bugsnag/source-maps":"^2.3.3","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.58.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.4.10-unstable.202405292053.0_1717016020436_0.6494041401364894","host":"s3://npm-registry-packages"}},"4.4.10-unstable.202405301410.0":{"name":"@shopify/oxygen-cli","version":"4.4.10-unstable.202405301410.0","license":"MIT","_id":"@shopify/oxygen-cli@4.4.10-unstable.202405301410.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"b9d3d309fd211d658486b7c35370e639f65d0250","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.4.10-unstable.202405301410.0.tgz","fileCount":82,"integrity":"sha512-Y/QAQa9kWv5L6F4LNYGAQpfl/+4AsP9aiMXAZhrE9YNAC1g4LHPC139becr5BpR+VS3+a0m839UwQ+O/Dxc26Q==","signatures":[{"sig":"MEQCIBDsPfC61JiuXNR2e+AOGw+q0kJrZNV2/D70S3/35Y8mAiAyEUmL9fKnBtsfMPrhGHcsouc8f8KonUvXjJQYgf/v4Q==","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":209123},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--authBypassTokenDuration`: Specify the duration (in hours) up to 12 hours for the authentication bypass token. Defaults to `2`.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"b0c1ca6b801a20023e4fbf2ceda6b34e772d8fac","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"10.7.0","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"18.20.3","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.23.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.0.2","vite":"^5.2.12","oclif":"^4","eslint":"^8.57.0","vitest":"^1.6.0","node-fetch":"^3.3.2","typescript":"^5.4.5","@types/node":"^20.12.13","@types/async":"^3.2.24","@changesets/cli":"^2.27.5","@bugsnag/source-maps":"^2.3.3","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.58.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.4.10-unstable.202405301410.0_1717078272751_0.7420563166503422","host":"s3://npm-registry-packages"}},"4.4.9":{"name":"@shopify/oxygen-cli","version":"4.4.9","license":"MIT","_id":"@shopify/oxygen-cli@4.4.9","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"24620d08002ed35dcfa8fc85b5930ffd0e43ad83","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.4.9.tgz","fileCount":82,"integrity":"sha512-NCpMyRyXaBtLMSSIDuJsX4hYCiudyMCMeoqvtN7HYgjCZNsC5F2dvZLpu0mVOSqXrNB89PG/QnaXlcZZW+3IjQ==","signatures":[{"sig":"MEUCICQq8AjBQ5kVfEUNI9DXSCe+i7RWDEoQVftLxy9v4SUFAiEAj0kKTHu4wpoLcrdj/4I1yD5ePm3NedxQEd0fu9sOHlE=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":209073},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"engines":{"node":">=18.12.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"2fdb621aa62659a49110fef13b46458d469d3cd4","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"10.7.0","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"18.20.3","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.23.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"devDependencies":{"tsup":"^8.0.2","vite":"^5.2.12","oclif":"^4","eslint":"^8.57.0","vitest":"^1.6.0","node-fetch":"^3.3.2","typescript":"^5.4.5","@types/node":"^20.12.13","@types/async":"^3.2.24","@changesets/cli":"^2.27.5","@bugsnag/source-maps":"^2.3.3","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.58.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.4.9_1717175280287_0.41207729186399056","host":"s3://npm-registry-packages"}},"4.4.11-unstable.202406031427.0":{"name":"@shopify/oxygen-cli","version":"4.4.11-unstable.202406031427.0","license":"MIT","_id":"@shopify/oxygen-cli@4.4.11-unstable.202406031427.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"ce7ddb40cbb8ff48560a79c0837ec493eef47a82","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.4.11-unstable.202406031427.0.tgz","fileCount":82,"integrity":"sha512-6Qz1tQgS/0bukcjdW+7w8raz1rWwBp/7rHTsnQZf1dkOPhIH6rn5wTfluLpWB6Vx9DBwqVtcQ4Lb7gnoRVUDWg==","signatures":[{"sig":"MEUCIAFokgtj/Q8GREN3z6qmuu3I9vdpKL2qjDM8kTJkal5VAiEAzubejD8MtQhlmZu7XrivRXJpTkeA+BTJAWwkB/MbKIE=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":209245},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--authBypassTokenDuration`: Specify the duration (in hours) up to 12 hours for the authentication bypass token. Defaults to `2`.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"213ed04f29bac637ada64d227a3f503493965cb1","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"10.7.0","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"18.20.3","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.23.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.1.0","vite":"^5.2.12","oclif":"^4","eslint":"^8.57.0","vitest":"^1.6.0","node-fetch":"^3.3.2","typescript":"^5.4.5","@types/node":"^20.14.0","@types/async":"^3.2.24","@changesets/cli":"^2.27.5","@bugsnag/source-maps":"^2.3.3","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.58.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.4.11-unstable.202406031427.0_1717424872236_0.01434882230994794","host":"s3://npm-registry-packages"}},"4.4.11-unstable.202406031428.0":{"name":"@shopify/oxygen-cli","version":"4.4.11-unstable.202406031428.0","license":"MIT","_id":"@shopify/oxygen-cli@4.4.11-unstable.202406031428.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"239ba317db3ca5c1bc6ec1e51b3cd8c6b5193cfa","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.4.11-unstable.202406031428.0.tgz","fileCount":82,"integrity":"sha512-EwiRb+TsQ4OC9IrljQqPiKKg0eKrtanvp3rTZ7bC1CJuHYW80cNF6E3D5tNr1oCXZTecdEoKIxoa1eBIcc5f9Q==","signatures":[{"sig":"MEUCID2KUeI/VBTrTU+oc/sD5Pnl2010Tq0lajPFjFXLKcXuAiEAg+w1Y9kDEPTWc2lKuOAQKUtmQ1qTTCwuYC2QlmJoTvA=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":209291},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--authBypassTokenDuration`: Specify the duration (in hours) up to 12 hours for the authentication bypass token. Defaults to `2`.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"bd2a0df242cfd30805a7cf0ebc2b80149efd1509","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"10.7.0","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"18.20.3","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.23.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.1.0","vite":"^5.2.12","oclif":"^4","eslint":"^8.57.0","vitest":"^1.6.0","node-fetch":"^3.3.2","typescript":"^5.4.5","@types/node":"^20.14.0","@types/async":"^3.2.24","@changesets/cli":"^2.27.5","@bugsnag/source-maps":"^2.3.3","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.58.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.4.11-unstable.202406031428.0_1717424956202_0.53674892472903","host":"s3://npm-registry-packages"}},"4.4.10":{"name":"@shopify/oxygen-cli","version":"4.4.10","license":"MIT","_id":"@shopify/oxygen-cli@4.4.10","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"130cee911ae642789d9b019e82a691a4d4ebb2dd","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.4.10.tgz","fileCount":82,"integrity":"sha512-NohuxiPf1PzHc87TQF7fvS1pyeDcdlAGZj4NgPUcS/jTCJAogD4Mi7QbQjJMfblO+ZkDXJPfsUPDQGe+LixHiQ==","signatures":[{"sig":"MEUCIB+JovlrXFTRe2zTGhu5jDVj4I3ZPDXueo1VxhNtifdCAiEA+SPMKsAqXG+U4beUVMPhPxPYKXrrQIGWs92lwS32txg=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":209243},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"engines":{"node":">=18.12.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"7c6b1041228c532bf6e36427644e8d1dd415814b","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"10.7.0","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"18.20.3","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.23.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"devDependencies":{"tsup":"^8.1.0","vite":"^5.2.12","oclif":"^4","eslint":"^8.57.0","vitest":"^1.6.0","node-fetch":"^3.3.2","typescript":"^5.4.5","@types/node":"^20.14.0","@types/async":"^3.2.24","@changesets/cli":"^2.27.5","@bugsnag/source-maps":"^2.3.3","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.58.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.4.10_1717507564111_0.8597007607540232","host":"s3://npm-registry-packages"}},"4.4.12-unstable.202406041431.0":{"name":"@shopify/oxygen-cli","version":"4.4.12-unstable.202406041431.0","license":"MIT","_id":"@shopify/oxygen-cli@4.4.12-unstable.202406041431.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"be1b117fb61f343f316298062ac4b6cbfcabc1e1","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.4.12-unstable.202406041431.0.tgz","fileCount":82,"integrity":"sha512-U25lEHH7E0Psp3eTppOWKJj2lJpF6Gw7GWPeN3x+CpEwS5ySAo9aUEcPiZbDMhQqUmOLX9T5Mkj99I1MFWkbYw==","signatures":[{"sig":"MEUCIQC7oQmodj2doDsncre4xDiGbiw/XO49iICrfQpg9IOlKQIgMrBUlkCkXzV6ez7OCzfcEvY3KwLaR9KkV3IE3Z/HGLQ=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":209376},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--authBypassTokenDuration`: Specify the duration (in hours) up to 12 hours for the authentication bypass token. Defaults to `2`.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"29de3cb96645c9f2f0f5fa58d992d92fddf7374d","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"10.7.0","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"18.20.3","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.23.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.1.0","vite":"^5.2.12","oclif":"^4","eslint":"^8.57.0","vitest":"^1.6.0","node-fetch":"^3.3.2","typescript":"^5.4.5","@types/node":"^20.14.1","@types/async":"^3.2.24","@changesets/cli":"^2.27.5","@bugsnag/source-maps":"^2.3.3","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.58.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.4.12-unstable.202406041431.0_1717511534824_0.0879534020519368","host":"s3://npm-registry-packages"}},"4.4.12-unstable.202406051444.0":{"name":"@shopify/oxygen-cli","version":"4.4.12-unstable.202406051444.0","license":"MIT","_id":"@shopify/oxygen-cli@4.4.12-unstable.202406051444.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"10acb4221124e6fc3022c1aac9f51a473b9a5f47","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.4.12-unstable.202406051444.0.tgz","fileCount":82,"integrity":"sha512-pSvfiMTc3rH1OagRwK/FpRAdcF0F8kKFBT9Rbj2TgHA9VkK4NZWgG798JlOcNDM7pfzEAWlSAhqCavb+L5qBfg==","signatures":[{"sig":"MEQCIDNT/nilQJwvU4jNLQ2s3auTSsv20Kg6z9WkhioOJs+oAiBSkTpHrUGkozUDhgovA3yq1tnyu7rafwoh0bD3Ocuu0Q==","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":209476},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--authBypassTokenDuration`: Specify the duration (in hours) up to 12 hours for the authentication bypass token. Defaults to `2`.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"f8f6147def489ef33a77c9501d93647b9ac59ba6","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"10.7.0","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"18.20.3","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.23.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.1.0","vite":"^5.2.12","oclif":"^4","eslint":"^8.57.0","vitest":"^1.6.0","node-fetch":"^3.3.2","typescript":"^5.4.5","@types/node":"^20.14.2","@types/async":"^3.2.24","@changesets/cli":"^2.27.5","@bugsnag/source-maps":"^2.3.3","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.58.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.4.12-unstable.202406051444.0_1717598683523_0.5220946345022557","host":"s3://npm-registry-packages"}},"4.4.12-unstable.202406071429.0":{"name":"@shopify/oxygen-cli","version":"4.4.12-unstable.202406071429.0","license":"MIT","_id":"@shopify/oxygen-cli@4.4.12-unstable.202406071429.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"02389f433b2b721ed67e5df634c11515de336b93","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.4.12-unstable.202406071429.0.tgz","fileCount":82,"integrity":"sha512-f+6qw2zGGiSZLNOzrWtPNrFRKG1TEDq+0Cut5alfoK5Hkny0sTe0v42NNetK3RTUxFjQ6udEBjfPT6bCV15Gkw==","signatures":[{"sig":"MEUCIBNlvX1mdtgc//WIHzl1Fkve0+JPtN2VUaUXiu+GrAczAiEAmJbBMckmYBs3tJ3ETTFPw+WQZgVXSeikiJiWR72gv2Q=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":209521},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--authBypassTokenDuration`: Specify the duration (in hours) up to 12 hours for the authentication bypass token. Defaults to `2`.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"29ad3615a7162ee8bcc0344e082d6ddb6b3ce534","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"10.7.0","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"18.20.3","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.23.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.1.0","vite":"^5.2.13","oclif":"^4","eslint":"^8.57.0","vitest":"^1.6.0","node-fetch":"^3.3.2","typescript":"^5.4.5","@types/node":"^20.14.2","@types/async":"^3.2.24","@changesets/cli":"^2.27.5","@bugsnag/source-maps":"^2.3.3","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.58.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.4.12-unstable.202406071429.0_1717770602992_0.5624078991279831","host":"s3://npm-registry-packages"}},"4.4.12-unstable.202406101413.0":{"name":"@shopify/oxygen-cli","version":"4.4.12-unstable.202406101413.0","license":"MIT","_id":"@shopify/oxygen-cli@4.4.12-unstable.202406101413.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"2659854efdc6cb7c2fa20ceed700b7bf8f823492","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.4.12-unstable.202406101413.0.tgz","fileCount":82,"integrity":"sha512-gd9hoAtpKeo0a3mQ3QyBhklvPXAxkzUhvO5uCLxVCIrnp4pXpwYKg3EtbddQHjLDLlYmKMjvdZ+/NTsxEHX6Xg==","signatures":[{"sig":"MEYCIQCiKVk1UpEBXN9HvM/6cQgqgGyAcp6WSZbd+DPcnVjY6AIhAP0NsvgEgogwnuSfFeEempP+8q9RFi+jDqG62J9mRQcl","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":209567},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--authBypassTokenDuration`: Specify the duration (in hours) up to 12 hours for the authentication bypass token. Defaults to `2`.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"f97bab7d9e1a9d7d930b3bd08ae460ad5118159f","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"10.7.0","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"18.20.3","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.23.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.1.0","vite":"^5.2.13","oclif":"^4","eslint":"^8.57.0","vitest":"^1.6.0","node-fetch":"^3.3.2","typescript":"^5.4.5","@types/node":"^20.14.2","@types/async":"^3.2.24","@changesets/cli":"^2.27.5","@bugsnag/source-maps":"^2.3.3","@shopify/eslint-plugin":"^44.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.58.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.4.12-unstable.202406101413.0_1718028843507_0.8320552326816306","host":"s3://npm-registry-packages"}},"4.4.12-unstable.202406102019.0":{"name":"@shopify/oxygen-cli","version":"4.4.12-unstable.202406102019.0","license":"MIT","_id":"@shopify/oxygen-cli@4.4.12-unstable.202406102019.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"c006a41e085f6fe3581a654ca7c0d1c7e58063d7","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.4.12-unstable.202406102019.0.tgz","fileCount":82,"integrity":"sha512-RFHmOGPjrQzzA+vSYoHNtLdid9p6+r5UuodvSu/15FHnTqMFu/wswzIcU0+/ZPRWjRO22NfOfzwSi//nDhFMHw==","signatures":[{"sig":"MEQCIHmHF6ZqaixXEIKvrrvXGnqe7GSK7Qixh01Km+eZMoxMAiAenhxkUIzsTbMwZhfGif51yh5MwFfe3k91B/Y3+s70fw==","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":209630},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--authBypassTokenDuration`: Specify the duration (in hours) up to 12 hours for the authentication bypass token. Defaults to `2`.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"91e3063a24ee91cd3d60a0a9dbc23d5e35ee31f8","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"10.7.0","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"18.20.3","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.23.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.1.0","vite":"^5.2.13","oclif":"^4","eslint":"^8.57.0","vitest":"^1.6.0","node-fetch":"^3.3.2","typescript":"^5.4.5","@types/node":"^20.14.2","@types/async":"^3.2.24","@changesets/cli":"^2.27.5","@bugsnag/source-maps":"^2.3.3","@shopify/eslint-plugin":"^45.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.58.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.4.12-unstable.202406102019.0_1718050763885_0.5074758263306518","host":"s3://npm-registry-packages"}},"4.4.11":{"name":"@shopify/oxygen-cli","version":"4.4.11","license":"MIT","_id":"@shopify/oxygen-cli@4.4.11","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"a0f455df7015f1bb259735e6dadb2ef42dace76f","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.4.11.tgz","fileCount":82,"integrity":"sha512-ywU6SuKBzLPye26i04VbaYrDMPpCkTqn502unn7cNZT6eYp4g+t8HdKTS3A6cTq1umBPUqIho8bzjI9usoUi5g==","signatures":[{"sig":"MEUCIGdbnvnV6gwjXkX9CQyEDpQS7naQ5x3tMi/uwwfkm5xwAiEA63aZV9FoUEtWzBvHlC+vm9RHjxgJtOsyJszVerzj7Jc=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":209582},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"engines":{"node":">=18.12.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"bb183df49b4e992a25e21db3eee3f5e780d75113","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"10.7.0","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"18.20.3","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.23.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"devDependencies":{"tsup":"^8.1.0","vite":"^5.2.13","oclif":"^4","eslint":"^8.57.0","vitest":"^1.6.0","node-fetch":"^3.3.2","typescript":"^5.4.5","@types/node":"^20.14.2","@types/async":"^3.2.24","@changesets/cli":"^2.27.5","@bugsnag/source-maps":"^2.3.3","@shopify/eslint-plugin":"^45.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.58.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.4.11_1718112348770_0.5504205618959752","host":"s3://npm-registry-packages"}},"4.4.13-unstable.202406131514.0":{"name":"@shopify/oxygen-cli","version":"4.4.13-unstable.202406131514.0","license":"MIT","_id":"@shopify/oxygen-cli@4.4.13-unstable.202406131514.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"4097f6991737f8dee26ed691326e419a28009037","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.4.13-unstable.202406131514.0.tgz","fileCount":82,"integrity":"sha512-+SyeBJRYqRXE+58nqRnYTeiunTnOP2LlCoYtroJHXweqShEclEde4dyhHTh8OfjZrGlfESMZVD18BBTTE/7rew==","signatures":[{"sig":"MEYCIQC3LvBXs12ArLVv+QOzRJWVGkjB5tR8b099I2b7u0nxVAIhAKEEJ7cTkhTf+L49u3Ez+/cjuWE4YmYJiusgls1Fplzm","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":209704},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--authBypassTokenDuration`: Specify the duration (in hours) up to 12 hours for the authentication bypass token. Defaults to `2`.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"b33a071540437cd6b3832a4a3df9c2d13d18f423","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"10.7.0","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"18.20.3","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.23.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.1.0","vite":"^5.3.0","oclif":"^4","eslint":"^8.57.0","vitest":"^1.6.0","node-fetch":"^3.3.2","typescript":"^5.4.5","@types/node":"^20.14.2","@types/async":"^3.2.24","@changesets/cli":"^2.27.5","@bugsnag/source-maps":"^2.3.3","@shopify/eslint-plugin":"^45.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.58.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.4.13-unstable.202406131514.0_1718291749188_0.9377109729336237","host":"s3://npm-registry-packages"}},"4.4.13-unstable.202406141438.0":{"name":"@shopify/oxygen-cli","version":"4.4.13-unstable.202406141438.0","license":"MIT","_id":"@shopify/oxygen-cli@4.4.13-unstable.202406141438.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"a42046ab5e4ec94511853d23e0338f26bab35dfb","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.4.13-unstable.202406141438.0.tgz","fileCount":82,"integrity":"sha512-sEFC+MU5BujRXdCk/qOxRyUO1incs1HmUewbJGfb+xOJBBnHyZTCgnakDao8Vr8UzY41Npk7KOp/GTyM8Jrd2w==","signatures":[{"sig":"MEUCIBR8vtmTHssMS/sN2lDDLIhngowDAVot4/TsGDeHKZTKAiEApwfmaDuRYYaYWb4IC+OyZcY4rkaL79XQVwVLTDRGOiA=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":209793},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--authBypassTokenDuration`: Specify the duration (in hours) up to 12 hours for the authentication bypass token. Defaults to `2`.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"5cf03c9dba7fd11d543a5e55d1cacf12c7c3919f","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"10.7.0","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"18.20.3","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.23.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.1.0","vite":"^5.3.1","oclif":"^4","eslint":"^8.57.0","vitest":"^1.6.0","node-fetch":"^3.3.2","typescript":"^5.4.5","@types/node":"^20.14.2","@types/async":"^3.2.24","@changesets/cli":"^2.27.5","@bugsnag/source-maps":"^2.3.3","@shopify/eslint-plugin":"^45.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.58.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.4.13-unstable.202406141438.0_1718375924583_0.04165444835572818","host":"s3://npm-registry-packages"}},"4.4.13-unstable.202406171443.0":{"name":"@shopify/oxygen-cli","version":"4.4.13-unstable.202406171443.0","license":"MIT","_id":"@shopify/oxygen-cli@4.4.13-unstable.202406171443.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"d018f05b092d045499ea594f6829a8de877c858a","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.4.13-unstable.202406171443.0.tgz","fileCount":82,"integrity":"sha512-/O0Bun4yjMYkRcPlK9oMAfOVpZmxfZ2KqG/iMRtq2VVOEpXmD/FB5lZlmTx/gymCapplPJlxTGbS3Mq0gCg6ig==","signatures":[{"sig":"MEQCIHIz35F4dAn4HVM8cQdkNS1R7bn0JZUgyEZ1vVBz0FiDAiAUl3IrpiypH5J56rONd2oLue8xoaWzf14P9ZTP2YewNw==","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":209839},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--authBypassTokenDuration`: Specify the duration (in hours) up to 12 hours for the authentication bypass token. Defaults to `2`.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"e2fca73cf48f08bff52c0fa944db0fef3df9efd4","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"10.7.0","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"18.20.3","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.23.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.1.0","vite":"^5.3.1","oclif":"^4","eslint":"^8.57.0","vitest":"^1.6.0","node-fetch":"^3.3.2","typescript":"^5.4.5","@types/node":"^20.14.2","@types/async":"^3.2.24","@changesets/cli":"^2.27.5","@bugsnag/source-maps":"^2.3.3","@shopify/eslint-plugin":"^45.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.58.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.4.13-unstable.202406171443.0_1718635448724_0.85708637015079","host":"s3://npm-registry-packages"}},"4.4.13-unstable.202406180852.0":{"name":"@shopify/oxygen-cli","version":"4.4.13-unstable.202406180852.0","license":"MIT","_id":"@shopify/oxygen-cli@4.4.13-unstable.202406180852.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"c2191e2702d4a2265f3071be65cf8e92d4647edd","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.4.13-unstable.202406180852.0.tgz","fileCount":82,"integrity":"sha512-+7oI5zUIoqjTD846uTQsQomJZa9799cs9/9g3RL3YK7KV7kOXL/+SrQz0M+sYy81+2f9zS1enKDRo0GMsqUQaQ==","signatures":[{"sig":"MEUCIQD1zDhNIeAB2JLblnicyEB+crgu/ANG/h0lzB8oBbtnSAIgEHyHL1bPWA0cNIoJW2YQv+817ijqZJSDEG0ciA4Kc/c=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":209839},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--authBypassTokenDuration`: Specify the duration (in hours) up to 12 hours for the authentication bypass token. Defaults to `2`.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"14be2063133ca864e23a51bcaf4bf5d5cdabb6d5","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"10.7.0","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"18.20.3","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.23.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.1.0","vite":"^5.3.1","oclif":"^4","eslint":"^8.57.0","vitest":"^1.6.0","node-fetch":"^3.3.2","typescript":"^5.4.5","@types/node":"^20.14.2","@types/async":"^3.2.24","@changesets/cli":"^2.27.5","@bugsnag/source-maps":"^2.3.3","@shopify/eslint-plugin":"^45.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.58.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.4.13-unstable.202406180852.0_1718700746525_0.016984103029067388","host":"s3://npm-registry-packages"}},"4.4.12":{"name":"@shopify/oxygen-cli","version":"4.4.12","license":"MIT","_id":"@shopify/oxygen-cli@4.4.12","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"5b83db9d6b4ec7a64304d61b4c5549efac641962","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.4.12.tgz","fileCount":82,"integrity":"sha512-6Bqn2z6Ik+VaCdbpw/0FBYTTD+c941/2tWl/MY8Ivm98F7SP58utE7h43bSkIBSFuUfwupjZfYbu0ow50ahfNA==","signatures":[{"sig":"MEUCIQCYmaxsFmhlFi3CfrWZth+UQdWyDCXQOMjwFPdZ+3aYJAIgXahlLUrBy0NiDUkvaFOxTtynM1n0HnmBnYYZq4xtMLE=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":209791},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"engines":{"node":">=18.12.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"feba314d8795d0dfef534718937ded7308724361","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"10.7.0","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"18.20.3","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.23.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"devDependencies":{"tsup":"^8.1.0","vite":"^5.3.1","oclif":"^4","eslint":"^8.57.0","vitest":"^1.6.0","node-fetch":"^3.3.2","typescript":"^5.4.5","@types/node":"^20.14.2","@types/async":"^3.2.24","@changesets/cli":"^2.27.5","@bugsnag/source-maps":"^2.3.3","@shopify/eslint-plugin":"^45.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.58.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.4.12_1718717131268_0.5313991679084176","host":"s3://npm-registry-packages"}},"4.4.14-unstable.202406181501.0":{"name":"@shopify/oxygen-cli","version":"4.4.14-unstable.202406181501.0","license":"MIT","_id":"@shopify/oxygen-cli@4.4.14-unstable.202406181501.0","maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"e83fba4aaaef576c1356a2855f9800b01a5e400f","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.4.14-unstable.202406181501.0.tgz","fileCount":82,"integrity":"sha512-aGNNtBTrX2Wm3JxjfX2kA75vjd13GI6fQOnoFbHoVKeK3ElZz+FcxCal6FkTQNF4fKATmW+9CX+a1pKbv2zuZg==","signatures":[{"sig":"MEUCIBYMGGFU7gXMJJ+wVxUkKxm/3bHM7UzJO4dv7bZ6RkIxAiEAoyUe0++h4mcCdPHlmXpcf5LRC+7pkq4Bu450AEePrhQ=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":209970},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--authBypassTokenDuration`: Specify the duration (in hours) up to 12 hours for the authentication bypass token. Defaults to `2`.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"b791890a71025082f730e153983a56968511ab41","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"10.7.0","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"18.20.3","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.23.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.1.0","vite":"^5.3.1","oclif":"^4","eslint":"^8.57.0","vitest":"^1.6.0","node-fetch":"^3.3.2","typescript":"^5.4.5","@types/node":"^20.14.5","@types/async":"^3.2.24","@changesets/cli":"^2.27.5","@bugsnag/source-maps":"^2.3.3","@shopify/eslint-plugin":"^45.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.58.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.4.14-unstable.202406181501.0_1718722923222_0.31643114373507686","host":"s3://npm-registry-packages"}},"4.4.14-unstable.202406201428.0":{"name":"@shopify/oxygen-cli","version":"4.4.14-unstable.202406201428.0","license":"MIT","_id":"@shopify/oxygen-cli@4.4.14-unstable.202406201428.0","os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"2ccb76669f7382fc23d5a63ac1d4784098fbccc4","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.4.14-unstable.202406201428.0.tgz","fileCount":82,"integrity":"sha512-LrCMWkbZeaFDLkY7mevu+4lbXl3PEnKopDIGYh2kbcfImFCCqJIQZd1lFyPcl598VgPuplPc0YDKsfrU8oKTMw==","signatures":[{"sig":"MEUCIDDPlVapXXL6NfaxUUAs3TvFqoD0rMoYBXdY/ak0n2GZAiEAji72Efdo7SjBF2iZf3+e/SIRljIovE8TKWpvVz10u1o=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":210024},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--authBypassTokenDuration`: Specify the duration (in hours) up to 12 hours for the authentication bypass token. Defaults to `2`.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"02d830e9ce0f0c77d82088124fb4e7077ea33098","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"10.7.0","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"18.20.3","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.23.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.1.0","vite":"^5.3.1","oclif":"^4","eslint":"^8.57.0","vitest":"^1.6.0","node-fetch":"^3.3.2","typescript":"^5.4.5","@types/node":"^20.14.6","@types/async":"^3.2.24","@changesets/cli":"^2.27.5","@bugsnag/source-maps":"^2.3.3","@shopify/eslint-plugin":"^45.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.58.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.4.14-unstable.202406201428.0_1718893708154_0.3515938892099424","host":"s3://npm-registry-packages"}},"4.4.14-unstable.202406210947.0":{"name":"@shopify/oxygen-cli","version":"4.4.14-unstable.202406210947.0","license":"MIT","_id":"@shopify/oxygen-cli@4.4.14-unstable.202406210947.0","os":["darwin","linux","win32"],"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"dist":{"shasum":"c27f9b619dc3638641d4c7e0dcbe01607c9d0eda","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.4.14-unstable.202406210947.0.tgz","fileCount":82,"integrity":"sha512-r3qCmTTxrtwHOlMsyw/iK1s3rpRUDpTDv6G6Kuyc+2OR8YzqlubaXOzfneyrx9MsJXvhrkGzdIAAujHznyCAkA==","signatures":[{"sig":"MEUCIBjKnNKWp9qft3WLOS6Q8ImvwWCDm8Uu14AyDQhjbk9nAiEAuYEg340R2MTxNbQ5Gt8z4iUPIPTpwoTLX3f3jEo9xzY=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":210024},"type":"module","oclif":{"bin":"oxygen-cli","topics":{"oxygen":{"description":"Oxygen commands"}},"dirname":"oxygen-cli","commands":"./dist/commands"},"readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--authBypassTokenDuration`: Specify the duration (in hours) up to 12 hours for the authentication bypass token. Defaults to `2`.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","engines":{"node":">=18.12.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"gitHead":"af2fdfad95a3d2265028032783eac22482124e24","scripts":{"dev":"tsup --watch --config ./tsup.config.ts","lint":"eslint --ext .js,.ts --max-warnings 0 src","test":"vitest run","build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","typecheck":"tsc --noEmit","test:watch":"vitest","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","changesets:check":"changeset status","generate:manifest":"oclif manifest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"prettier":"@shopify/prettier-config","_npmVersion":"10.7.0","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","directories":{},"_nodeVersion":"18.20.3","dependencies":{"async":"^3.2.5","@bugsnag/js":"^7.22.4","@bugsnag/core":"^7.19.0","@bugsnag/node":"^7.23.0"},"publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"tsup":"^8.1.0","vite":"^5.3.1","oclif":"^4","eslint":"^8.57.0","vitest":"^1.6.0","node-fetch":"^3.3.2","typescript":"^5.4.5","@types/node":"^20.14.6","@types/async":"^3.2.24","@changesets/cli":"^2.27.5","@bugsnag/source-maps":"^2.3.3","@shopify/eslint-plugin":"^45.0.0","eslint-plugin-prettier":"^5.1.3","@shopify/prettier-config":"^1.1.2"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.58.0"},"_npmOperationalInternal":{"tmp":"tmp/oxygen-cli_4.4.14-unstable.202406210947.0_1718963248938_0.8578940512304283","host":"s3://npm-registry-packages"}},"4.4.14-unstable.202406211438.0":{"name":"@shopify/oxygen-cli","publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"license":"MIT","version":"4.4.14-unstable.202406211438.0","type":"module","scripts":{"build":"tsup --sourcemap --clean --config ./tsup.config.ts && oclif manifest","changesets:check":"changeset status","dev":"tsup --watch --config ./tsup.config.ts","typecheck":"tsc --noEmit","lint":"eslint --ext .js,.ts --max-warnings 0 src","lint:format":"prettier --write \"**/*.*\" && npm run lint --fix","generate:manifest":"oclif manifest","prepublishOnly":"npm install && npm run build && rm -rf dist/**/*.test.* && npm run upload-sourcemaps","release":"npm run prepublishOnly && npx changeset publish && git push --follow-tags","test":"vitest run","test:watch":"vitest","upload-sourcemaps":"node ./upload-sourcemaps.mjs"},"bin":{"oxygen-cli":"dist/oxygen-cli.js"},"engines":{"node":">=18.12.0"},"exports":{"./deploy":"./dist/deploy/index.js"},"dependencies":{"@bugsnag/core":"^7.19.0","@bugsnag/js":"^7.22.4","@bugsnag/node":"^7.23.0","async":"^3.2.5"},"peerDependencies":{"@oclif/core":"^3.15.1","@shopify/cli-kit":"^3.58.0"},"devDependencies":{"@bugsnag/source-maps":"^2.3.3","@changesets/cli":"^2.27.5","@shopify/eslint-plugin":"^45.0.0","@shopify/prettier-config":"^1.1.2","@types/async":"^3.2.24","@types/node":"^20.14.7","eslint":"^8.57.0","eslint-plugin-prettier":"^5.1.3","node-fetch":"^3.3.2","oclif":"^4","tsup":"^8.1.0","typescript":"^5.4.5","vite":"^5.3.1","vitest":"^1.6.0"},"prettier":"@shopify/prettier-config","oclif":{"bin":"oxygen-cli","dirname":"oxygen-cli","commands":"./dist/commands","topics":{"oxygen":{"description":"Oxygen commands"}}},"os":["darwin","linux","win32"],"_id":"@shopify/oxygen-cli@4.4.14-unstable.202406211438.0","readme":"# Oxygen-cli\n\n`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.\n\n## Getting Started\n\nThe oxygen-cli can be run locally, or it can be used from within CI/CD environments such as Github Actions.\n\n### Standalone\n\n```sh\nnpm install -g @shopify/oxygen-cli\n```\n\nThe CLI can then be activated using the command `oxygen-cli`.\n\n### As a Shopify Plugin\n\nYou can also install oxygen-cli as plugin for [@shopify/cli](https://www.npmjs.com/package/@shopify/cli). When this is installed globally, running the following will install oxygen-cli:\n\n```sh\nshopify plugins install @shopify/oxygen-cli\n```\n\nThe CLI will now expose its commands under `shopify oxygen`.\n\n### Hydrogen\n\nIf you're building a Hydrogen storefront you'll want to use the [hydrogen-cli](https://www.npmjs.com/package/@shopify/hydrogen-cli) wrapper. This package should automatically be included as a dependency in your application. This is a convenience wrapper around `oxygen-cli` to use nomenclature and design patterns that Hydrogen developers will be more familiar with.\n\n## Command overview\n\n- `oxygen deploy` command initiates a deployment to Oxygen.\n\n```sh\noxygen:deploy [options]\n```\n\n### Options\n\n- `-t`, `--token`: (required) Oxygen deployment token. Can also be set using the `OXYGEN_DEPLOYMENT_TOKEN` environment variable (see below).\n- `-p`, `--path`: Root path (defaults to the current working directory).\n- `-e`, `--environmentTag`: Tag of the environment to deploy to. Defaults to branch name in supported CI environments (see below).\n- `--defaultEnvironment`: Deploys to the default environment of the app.\n- `-w`, `--workerFolder`: Worker folder (default: `dist/worker/`).\n- `-a`, `--assetsFolder`: Assets folder (default: `dist/client/`).\n- `-o`, `--workerOnly`: Worker only deployment.\n- `-s`, `--skipBuild`: Skip running build command.\n- `-b`, `--buildCommand`: Build command (default: `npm build`).\n- `-v`, `--skipVerification`: skip the worker deployment verification step\n- `-d`, `--verificationMaxDuration`: The maximum duration (in seconds) that the deployment verification is allowed to run before it is considered failed. Accepts values between 10 and 300.\n- `--metadataDescription`: A brief description of the deployment, typically the commit message associated with the changes being deployed.\n- `--metadataUrl`: URL linking to the workflow/pipeline run in the CI platform from which the deployment is performed.\n- `--metadataUser`: User that initiated the deployment.\n- `--metadataVersion`: A version identifier for the deployment.\n- `--disableBugsnag`: Disable Bugsnag error reporting.\n- `--generateAuthBypassToken`: Generate an auth bypass token used to perform end-to-end testing against the deployment.\n- `--authBypassTokenDuration`: Specify the duration (in hours) up to 12 hours for the authentication bypass token. Defaults to `2`.\n- `--environmentFile`: Path to an environment file to override existing environment variables for the deployment.\n\n**Note**: All metadata options (`--metadataDescription`, `--metadataUrl`, `--metadataUser`, and `--metadataVersion`) have a maximum character limit of 375.\n\n### Example\n\n```sh\noxygen:deploy -t my-deployment-token -e staging --path=\"/my-project\" --workerOnly\n```\n\nThis command will deploy your Oxygen project to the environment tagged `staging` with the provided deployment token and root path. No static assets will be uploaded.\n\nThe `environmentTag` option and the `metadata` options serve as overrides for values that can be retrieved from supported CI environments, see the section on environment variables below.\n\n### Deployment Verification\n\nBy default, `oxygen-cli` performs a verification step to ensure the worker deployment process has completed successfully. This step attempts to confirm the successful deployment of your worker. However, please note that this verification step does not dispatch requests to the worker, so it does not validate that the worker is correctly handling requests.\n\nIf you wish to skip this verification step, you can use the `--skipVerification` command flag.\n\nThe verification step runs for a default duration of 180 seconds. If the verification process does not complete successfully within this time, the deployment is considered unsuccessful. However, you can customize this duration using the --verificationMaxDuration command flag. This flag allows you to specify a maximum duration between 10 and 300 seconds for the verification process. If the verification process does not complete within your specified duration, the deployment will be considered unsuccessful.\n\nIn the case of the deployment verification failing, we recommend checking your Shopify Admin to confirm the status of the deployment.\n\n## Environment variables\n\nThe Oxygen deployment token can be specified with the `token` option. Alternatively, you can use the environment variable `OXYGEN_DEPLOYMENT_TOKEN` for this. In CI environments this is recommended. For example, when using CircleCI you can define a custom environment variable in your project settings which holds the token. The `OXYGEN_DEPLOYMENT_TOKEN` can then be populated with this variable's value in your `config.yml` file:\n\n```yml\nenvironment:\n  OXYGEN_DEPLOYMENT_TOKEN: ${YOUR_ENV_VARIABLE}\n```\n\nWhen run from a supported CI/CD environment, the tool will automatically retrieve metadata from relevant environment variables. Metadata describes the author making the deployment (user), the version (commit Sha) and the deployment URL (workflow URL). This metadata will be saved and used to show details about the Oxygen deployment in the Hydrogen channel within the Shopify Admin.\n\nThe following environment variables are relevant, depending on your environment:\n\n|- | Bitbucket | CircleCI | Github | Gitlab |\n|- | --------- | --------| ------ | ------ |\n| User | N/A | CIRCLE_USERNAME | GITHUB_ACTOR | GITLAB_USER_LOGIN |\n| Version | BITBUCKET_COMMIT | CIRCLE_SHA1 | GITHUB_SHA | CI_COMMIT_SHA |\n| URL | `https://bitbucket.org/${envs.BITBUCKET_WORKSPACE}/${envs.BITBUCKET_REPO_SLUG}/pipelines/results/${envs.BITBUCKET_BUILD_NUMBER}` | CIRCLE_BUILD_URL | `${GITHUB_SERVER_URL}/${GITHUB_REPOSITORY}/actions/runs/${GITHUB_RUN_ID}` | CI_PIPELINE_URL |\n\nThese values can be overridden by the command line flags `metadataUser`, `metadataUrl` and `metadataVersion` respectively.\n\n`oxygen-cli` Will also attempt to execute `git log` in your project folder to retrieve commit data. This allows the commit message and date to be saved and displayed in the Shopify Admin. If desired, the commit message can be overridden using the `--metadataDescription` command line flag.\n\nThe environment tag to deploy to will be derived from the following variables:\n\n| Service | Branch |\n| ------- | ------ |\n| Bitbucket | BITBUCKET_BRANCH |\n| CircleCI | CIRCLE_BRANCH |\n| Github | GITHUB_REF_NAME |\n| Gitlab | CI_COMMIT_REF_NAME |\n\nThe `environmentTag` command line option can be used to override this. If not provided, or there is no environment with the specified tag, the deployment will be deployed to the default environment for the app (if one exists).\n\n## Error reporting with Bugsnag\n\n`oxygen-cli` Uses Bugsnag to collect errors that occur during the deployment process. This helps Shopify diagnose and fix issues more efficiently, improving the reliability of the tool. In addition, `oxygen-cli` collects anonymous usage data. This data is used to understand the performance of the tool and to improve its efficiency.\n\nBugsnag collects error reports which include stack traces, the type of error, and other relevant data that can help in diagnosing the issue. Please be aware that as part of the error reporting process, some user data related to your Continuous Integration (CI) environment may be logged. This data is used solely for the purpose of diagnosing and resolving issues.\n\nUsers who prefer not to send error reports can use the `--disableBugsnag` flag. When this flag is set, no error data will be sent to Bugsnag.\n","readmeFilename":"README.md","gitHead":"5182425656a75ff57042b230fb789359ccd4f01d","description":"`@shopify/oxygen-cli` is a command-line tool for deploying your Oxygen projects. It provides a simple a way to deploy your Oxygen applications, including workers and assets, to the Oxygen platform.","_nodeVersion":"18.20.3","_npmVersion":"10.7.0","dist":{"integrity":"sha512-9jh2ytjqbiGKFkB+R6rziwtGDZU9yPQKBOQhksq/5uwLfZ4Ubqn0uJ0iEEpZiXETWswojDPgIbTIqMculYahyQ==","shasum":"a03059bb2293a5ccd69f683d7bbbda2b11776d02","tarball":"https://registry.npmjs.org/@shopify/oxygen-cli/-/oxygen-cli-4.4.14-unstable.202406211438.0.tgz","fileCount":82,"unpackedSize":210078,"signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEUCIEN0/rdjc1DY6L1EcGuVTIQAhPHfvp7QAmzOChLa68P0AiEAnJbPkZbLEL/7pOunoFpAPVt203dvMEWoAqLmbPv6z6s="}]},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/oxygen-cli_4.4.14-unstable.202406211438.0_1718980700493_0.9724965506839027"},"_hasShrinkwrap":false}},"time":{"created":"2023-05-25T16:49:16.768Z","modified":"2024-06-21T14:38:21.246Z","1.0.2":"2023-05-25T16:49:17.023Z","1.1.0":"2023-05-26T14:03:59.171Z","1.2.0":"2023-05-30T11:07:20.007Z","1.3.0":"2023-06-01T09:08:49.894Z","1.3.1":"2023-06-14T20:13:38.754Z","1.4.0":"2023-06-20T16:32:06.166Z","1.5.0":"2023-07-06T09:40:46.257Z","1.6.0":"2023-07-20T09:24:36.731Z","1.7.0":"2023-07-25T08:15:57.765Z","1.8.0":"2023-07-28T11:08:47.533Z","1.8.2":"2023-08-01T15:09:37.353Z","1.9.0":"2023-08-15T15:03:16.491Z","1.10.0":"2023-08-21T16:51:33.628Z","1.10.1":"2023-08-23T21:51:04.246Z","1.10.4-unstable.20230829.0":"2023-08-29T14:34:49.515Z","1.10.4-unstable.20230830.0":"2023-08-30T08:42:34.248Z","1.11.1-unstable.20230830.0":"2023-08-30T08:45:25.201Z","1.11.2-unstable.20230830.0":"2023-08-30T14:46:04.595Z","1.11.2-unstable.20230831.0":"2023-08-31T11:02:58.722Z","1.11.1":"2023-08-31T11:04:50.805Z","1.11.3-unstable.20230831.0":"2023-08-31T14:48:32.893Z","1.11.2":"2023-09-01T10:25:08.258Z","1.11.4-unstable.20230901.0":"2023-09-01T14:42:14.468Z","1.11.4-unstable.20230905.0":"2023-09-05T09:25:43.383Z","1.11.3":"2023-09-06T09:12:31.154Z","1.11.5-unstable.20230906.0":"2023-09-06T14:47:36.793Z","1.11.5-unstable.202309070819.0":"2023-09-07T08:19:30.182Z","1.11.5-unstable.202309070837.0":"2023-09-07T08:37:27.556Z","1.11.4":"2023-09-07T08:42:11.130Z","1.11.6-unstable.202309072012.0":"2023-09-07T20:12:19.784Z","1.11.6-unstable.202309072015.0":"2023-09-07T20:15:51.209Z","1.11.6-unstable.202309080820.0":"2023-09-08T08:20:20.593Z","1.11.5":"2023-09-08T08:37:43.940Z","1.11.7-unstable.202309081455.0":"2023-09-08T14:55:28.013Z","1.11.7-unstable.202309081456.0":"2023-09-08T14:56:25.929Z","1.12.1-unstable.202309120939.0":"2023-09-12T09:40:02.551Z","1.12.1-unstable.202309120942.0":"2023-09-12T09:42:20.265Z","1.12.1-unstable.202309120947.0":"2023-09-12T09:48:08.798Z","1.12.0":"2023-09-12T10:08:28.562Z","1.12.2-unstable.202309141156.0":"2023-09-14T11:57:08.923Z","1.12.2-unstable.202309141504.0":"2023-09-14T15:04:15.249Z","1.12.2-unstable.202309150831.0":"2023-09-15T08:31:20.579Z","1.12.2-unstable.202309151259.0":"2023-09-15T12:59:57.310Z","1.12.2-unstable.202309151416.0":"2023-09-15T14:17:08.207Z","1.12.2-unstable.202309181354.0":"2023-09-18T13:54:11.414Z","1.12.2-unstable.202309181454.0":"2023-09-18T14:54:50.347Z","1.12.2-unstable.202309201500.0":"2023-09-20T15:00:13.185Z","1.12.2-unstable.202309211423.0":"2023-09-21T14:23:19.148Z","1.12.1":"2023-09-22T11:05:58.289Z","1.12.3-unstable.202309221509.0":"2023-09-22T15:09:48.863Z","1.12.3-unstable.202309251429.0":"2023-09-25T14:29:56.934Z","1.12.3-unstable.202309251430.0":"2023-09-25T14:30:51.536Z","2.0.1-unstable.202309251442.0":"2023-09-25T14:42:41.028Z","2.0.0":"2023-09-25T15:55:08.510Z","2.0.2-unstable.202309270856.0":"2023-09-27T08:56:54.182Z","2.0.3-unstable.202309272318.0":"2023-09-27T23:18:21.304Z","2.0.3-unstable.202309291444.0":"2023-09-29T14:44:20.148Z","2.0.3-unstable.202309291445.0":"2023-09-29T14:45:14.864Z","2.0.3-unstable.202309291446.0":"2023-09-29T14:47:07.808Z","2.0.3-unstable.202310021422.0":"2023-10-02T14:22:19.524Z","2.0.2":"2023-10-03T13:24:30.441Z","2.0.3-unstable.202310051444.0":"2023-10-05T14:45:07.371Z","2.0.3-unstable.202310051447.0":"2023-10-05T14:47:22.531Z","2.1.1-unstable.202310110934.0":"2023-10-11T09:34:47.830Z","2.1.1-unstable.202310110944.0":"2023-10-11T09:44:26.655Z","2.1.1-unstable.202310110958.0":"2023-10-11T09:58:50.667Z","2.1.0":"2023-10-11T13:22:46.654Z","2.1.2-unstable.202310111449.0":"2023-10-11T14:49:28.757Z","2.1.2-unstable.202310121637.0":"2023-10-12T16:37:59.372Z","2.1.1":"2023-10-12T16:44:58.243Z","2.1.3-unstable.202310171425.0":"2023-10-17T14:25:16.062Z","2.1.3-unstable.202310181354.0":"2023-10-18T13:54:32.572Z","2.1.3-unstable.202310181355.0":"2023-10-18T13:55:27.975Z","2.1.3-unstable.202310181621.0":"2023-10-18T16:21:42.526Z","2.1.3-unstable.202310200839.0":"2023-10-20T08:39:25.300Z","2.1.3-unstable.202310231259.0":"2023-10-23T13:00:01.585Z","2.1.3-unstable.202310231557.0":"2023-10-23T15:58:10.704Z","2.1.3-unstable.202310231610.0":"2023-10-23T16:10:32.037Z","2.1.2":"2023-10-24T10:11:04.348Z","2.2.1-unstable.202310241131.0":"2023-10-24T11:31:43.819Z","2.2.1-unstable.202310241146.0":"2023-10-24T11:46:27.549Z","2.2.1-unstable.202310241623.0":"2023-10-24T16:23:25.263Z","2.2.0":"2023-10-24T16:25:26.657Z","2.2.2-unstable.202310241915.0":"2023-10-24T19:15:17.784Z","2.3.1-unstable.202310251117.0":"2023-10-25T11:17:58.202Z","2.3.0":"2023-10-25T11:21:16.779Z","2.3.2-unstable.202310261005.0":"2023-10-26T10:05:51.636Z","2.3.2-unstable.202310261009.0":"2023-10-26T10:10:02.707Z","2.3.3-unstable.202310261013.0":"2023-10-26T10:13:38.689Z","2.3.2":"2023-10-26T11:32:26.774Z","2.4.1-unstable.202310270943.0":"2023-10-27T09:43:41.378Z","2.4.1-unstable.202310270948.0":"2023-10-27T09:49:09.273Z","2.4.0":"2023-10-27T10:00:18.047Z","2.4.2-unstable.202310271439.0":"2023-10-27T14:39:36.324Z","2.4.2-unstable.202310301421.0":"2023-10-30T14:21:40.580Z","2.4.1":"2023-10-31T13:24:44.198Z","2.4.3-unstable.202310311458.0":"2023-10-31T14:58:49.091Z","2.4.3-unstable.202310311504.0":"2023-10-31T15:04:48.391Z","2.4.2":"2023-11-01T13:56:47.200Z","2.4.4-unstable.202311011512.0":"2023-11-01T15:12:29.995Z","2.4.4-unstable.202311021422.0":"2023-11-02T14:23:09.390Z","2.4.4-unstable.202311022210.0":"2023-11-02T22:10:58.169Z","2.4.4-unstable.202311031420.0":"2023-11-03T14:20:49.174Z","2.4.4-unstable.202311031525.0":"2023-11-03T15:25:34.633Z","2.4.4-unstable.202311031755.0":"2023-11-03T17:55:39.281Z","2.4.4-unstable.202311061555.0":"2023-11-06T15:55:40.096Z","2.4.4-unstable.202311061604.0":"2023-11-06T16:04:54.326Z","2.4.4-unstable.202311061740.0":"2023-11-06T17:40:39.716Z","2.4.3":"2023-11-06T17:55:15.763Z","2.5.1-unstable.202311071457.0":"2023-11-07T14:58:05.076Z","2.5.0":"2023-11-07T15:09:54.244Z","2.5.2-unstable.202311071539.0":"2023-11-07T15:39:27.019Z","2.6.1-unstable.202311081249.0":"2023-11-08T12:49:58.626Z","2.6.0":"2023-11-08T12:58:55.694Z","2.6.2-unstable.202311081605.0":"2023-11-08T16:06:09.292Z","2.6.2-unstable.202311101049.0":"2023-11-10T10:50:12.932Z","2.6.1":"2023-11-10T10:53:42.923Z","2.6.3-unstable.202311140948.0":"2023-11-14T09:49:13.922Z","2.6.2":"2023-11-14T12:27:31.734Z","2.6.4-unstable.202311171556.0":"2023-11-17T15:56:31.390Z","2.6.4-unstable.202311211537.0":"2023-11-21T15:37:20.356Z","2.6.4-unstable.202311221523.0":"2023-11-22T15:23:43.682Z","2.6.4-unstable.202311231527.0":"2023-11-23T15:27:44.986Z","2.6.4-unstable.202311271525.0":"2023-11-27T15:25:49.336Z","2.6.4-unstable.202311281532.0":"2023-11-28T15:32:29.081Z","3.0.1-unstable.202311291846.0":"2023-11-29T18:46:21.724Z","3.0.0":"2023-11-29T20:11:57.518Z","3.1.2-unstable.202312011142.0":"2023-12-01T11:42:16.069Z","3.1.1":"2023-12-01T11:55:25.418Z","3.1.3-unstable.202312061529.0":"2023-12-06T15:29:39.322Z","3.1.3-unstable.202312070943.0":"2023-12-07T09:43:41.232Z","3.1.3-unstable.202312071416.0":"2023-12-07T14:16:43.808Z","3.1.3-unstable.202312071602.0":"2023-12-07T16:02:23.102Z","3.1.2":"2023-12-08T11:14:22.410Z","3.1.4-unstable.202312081545.0":"2023-12-08T15:45:21.629Z","3.1.4-unstable.202312122000.0":"2023-12-12T20:00:27.386Z","3.1.4-unstable.202312131421.0":"2023-12-13T14:21:24.494Z","3.1.4-unstable.202312131452.0":"2023-12-13T14:52:55.391Z","3.1.4-unstable.202312131557.0":"2023-12-13T15:57:45.347Z","3.1.3":"2023-12-14T11:44:41.616Z","3.1.5-unstable.202312141257.0":"2023-12-14T12:57:51.253Z","3.1.4":"2023-12-14T13:07:36.934Z","3.1.6-unstable.202312150927.0":"2023-12-15T09:28:04.862Z","3.1.5":"2023-12-15T11:48:52.741Z","3.1.7-unstable.202312151554.0":"2023-12-15T15:54:53.076Z","3.1.7-unstable.202312190941.0":"2023-12-19T09:41:25.952Z","3.1.7-unstable.202312191526.0":"2023-12-19T15:26:26.045Z","3.1.7-unstable.202312201542.0":"2023-12-20T15:42:44.708Z","3.1.7-unstable.202312202227.0":"2023-12-20T22:27:30.937Z","3.1.6":"2023-12-20T22:34:32.572Z","3.1.8-unstable.202401031601.0":"2024-01-03T16:02:09.698Z","3.1.7":"2024-01-03T21:02:35.803Z","3.1.9-unstable.202401051510.0":"2024-01-05T15:11:02.413Z","3.1.9-unstable.202401051515.0":"2024-01-05T15:15:25.865Z","3.1.9-unstable.202401081521.0":"2024-01-08T15:21:34.510Z","3.1.9-unstable.202401090007.0":"2024-01-09T00:07:35.768Z","3.1.9-unstable.202401091544.0":"2024-01-09T15:45:08.352Z","3.1.9-unstable.202401101521.0":"2024-01-10T15:21:38.139Z","3.1.9-unstable.202401111534.0":"2024-01-11T15:34:38.181Z","3.1.9-unstable.202401111603.0":"2024-01-11T16:03:37.318Z","3.1.9-unstable.202401111608.0":"2024-01-11T16:08:55.530Z","3.1.9-unstable.202401151559.0":"2024-01-15T15:59:18.362Z","3.1.9-unstable.202401161007.0":"2024-01-16T10:07:37.607Z","3.1.9-unstable.202401161602.0":"2024-01-16T16:02:50.077Z","3.1.9-unstable.202401171457.0":"2024-01-17T14:57:28.849Z","3.1.9-unstable.202401171540.0":"2024-01-17T15:40:14.832Z","3.1.8":"2024-01-18T14:56:53.196Z","3.1.10-unstable.202401181539.0":"2024-01-18T15:39:48.189Z","3.1.10-unstable.202401181541.0":"2024-01-18T15:42:12.767Z","4.0.1-unstable.202401181831.0":"2024-01-18T18:31:28.244Z","4.0.1-unstable.202401191555.0":"2024-01-19T15:55:22.174Z","4.0.1-unstable.202401191559.0":"2024-01-19T15:59:14.883Z","4.0.1-unstable.202401192311.0":"2024-01-19T23:11:52.112Z","4.0.1-unstable.202401221555.0":"2024-01-22T15:55:45.157Z","4.0.0":"2024-01-22T23:27:00.897Z","4.0.2-unstable.202401241609.0":"2024-01-24T16:10:07.677Z","4.0.2-unstable.202401261552.0":"2024-01-26T15:53:09.698Z","4.0.2-unstable.202401291537.0":"2024-01-29T15:37:51.745Z","4.0.2-unstable.202401291539.0":"2024-01-29T15:39:47.991Z","4.0.2-unstable.202401291540.0":"2024-01-29T15:40:45.969Z","4.0.2-unstable.202401311603.0":"2024-01-31T16:03:22.643Z","4.0.2-unstable.202402011540.0":"2024-02-01T15:40:25.750Z","4.0.2-unstable.202402021525.0":"2024-02-02T15:25:51.616Z","4.0.2-unstable.202402051601.0":"2024-02-05T16:01:44.612Z","4.0.2-unstable.202402052043.0":"2024-02-05T20:43:53.477Z","4.0.1":"2024-02-06T11:14:42.109Z","4.0.3-unstable.202402061510.0":"2024-02-06T15:11:12.031Z","4.0.2":"2024-02-07T14:07:09.855Z","4.0.4-unstable.202402071515.0":"2024-02-07T15:15:40.731Z","4.0.4-unstable.202402081556.0":"2024-02-08T15:57:05.269Z","4.0.4-unstable.202402091547.0":"2024-02-09T15:47:34.663Z","4.1.1-unstable.202402091553.0":"2024-02-09T15:53:24.734Z","4.1.1-unstable.202402091938.0":"2024-02-09T19:38:37.669Z","4.1.0":"2024-02-12T13:46:37.824Z","4.1.2-unstable.202402121532.0":"2024-02-12T15:32:27.035Z","4.1.2-unstable.202402131534.0":"2024-02-13T15:34:32.109Z","4.1.2-unstable.202402141526.0":"2024-02-14T15:26:26.281Z","4.1.2-unstable.202402151554.0":"2024-02-15T15:54:15.731Z","4.1.2-unstable.202402161557.0":"2024-02-16T15:57:47.534Z","4.1.2-unstable.202402191550.0":"2024-02-19T15:51:10.566Z","4.1.2-unstable.202402201523.0":"2024-02-20T15:24:14.585Z","4.1.2-unstable.202402202221.0":"2024-02-20T22:21:32.554Z","4.1.2-unstable.202402210040.0":"2024-02-21T00:40:34.486Z","4.1.2-unstable.202402211541.0":"2024-02-21T15:41:16.501Z","4.1.2-unstable.202402231517.0":"2024-02-23T15:18:01.850Z","4.2.1-unstable.202402261000.0":"2024-02-26T10:00:39.969Z","4.2.0":"2024-02-26T10:09:01.461Z","4.2.2-unstable.202402261514.0":"2024-02-26T15:14:36.960Z","4.3.1-unstable.202402261832.0":"2024-02-26T18:32:18.473Z","4.3.1-unstable.202402271541.0":"2024-02-27T15:41:43.295Z","4.3.1-unstable.202402281542.0":"2024-02-28T15:42:39.104Z","4.3.1-unstable.202402291305.0":"2024-02-29T13:06:01.949Z","4.3.0":"2024-02-29T13:14:16.331Z","4.3.2-unstable.202402291559.0":"2024-02-29T15:59:28.086Z","4.3.1":"2024-03-01T11:14:22.654Z","4.3.3-unstable.202403041541.0":"2024-03-04T15:41:37.508Z","4.3.3-unstable.202403051558.0":"2024-03-05T15:58:59.257Z","4.3.2":"2024-03-06T11:08:31.444Z","4.3.4-unstable.202403061518.0":"2024-03-06T15:18:26.533Z","4.3.4-unstable.202403071517.0":"2024-03-07T15:17:45.505Z","4.3.4-unstable.202403071557.0":"2024-03-07T15:57:34.516Z","4.3.4-unstable.202403081555.0":"2024-03-08T15:55:20.895Z","4.3.4-unstable.202403111410.0":"2024-03-11T14:10:33.342Z","4.3.4-unstable.202403111450.0":"2024-03-11T14:51:10.131Z","4.3.4-unstable.202403121418.0":"2024-03-12T14:18:58.419Z","4.3.3":"2024-03-12T16:46:34.499Z","4.3.5-unstable.202403131423.0":"2024-03-13T14:23:55.566Z","4.3.5-unstable.202403151444.0":"2024-03-15T14:45:04.428Z","4.3.5-unstable.202403181417.0":"2024-03-18T14:18:23.060Z","4.3.4":"2024-03-19T13:24:50.667Z","4.3.6-unstable.202403191432.0":"2024-03-19T14:33:12.842Z","4.3.6-unstable.202403201445.0":"2024-03-20T14:46:14.861Z","4.3.6-unstable.202403201448.0":"2024-03-20T14:49:18.025Z","4.3.6-unstable.202403211505.0":"2024-03-21T15:06:23.865Z","4.3.6-unstable.202403221436.0":"2024-03-22T14:37:12.081Z","4.3.6-unstable.202403251446.0":"2024-03-25T14:47:37.307Z","4.3.5":"2024-03-26T13:26:34.922Z","4.3.7-unstable.202403271425.0":"2024-03-27T14:26:10.380Z","4.3.7-unstable.202403281630.0":"2024-03-28T16:31:28.886Z","4.3.6":"2024-03-28T16:48:02.274Z","4.3.8-unstable.202403291433.0":"2024-03-29T14:34:03.963Z","4.3.8-unstable.202404011425.0":"2024-04-01T14:26:31.325Z","4.3.7":"2024-04-02T13:25:32.798Z","4.4.1-unstable.202404031431.0":"2024-04-03T14:32:38.466Z","4.4.1-unstable.202404031437.0":"2024-04-03T14:37:56.173Z","4.4.1-unstable.202404031521.0":"2024-04-03T15:22:38.345Z","4.4.1-unstable.202404031601.0":"2024-04-03T16:01:51.257Z","4.4.0":"2024-04-04T13:55:20.479Z","4.4.2-unstable.202404041427.0":"2024-04-04T14:28:12.119Z","4.4.2-unstable.202404051427.0":"2024-04-05T14:27:54.935Z","4.4.2-unstable.202404081507.0":"2024-04-08T15:08:01.653Z","4.4.1":"2024-04-09T13:25:39.694Z","4.4.3-unstable.202404091450.0":"2024-04-09T14:51:04.355Z","4.4.3-unstable.202404101448.0":"2024-04-10T14:49:03.794Z","4.4.2-test.202404110954.0":"2024-04-11T09:56:25.346Z","4.4.3-unstable.202404111430.0":"2024-04-11T14:31:29.195Z","4.4.3-unstable.202404111721.0":"2024-04-11T17:21:50.628Z","4.4.2-test.202404111724.0":"2024-04-11T17:25:38.612Z","4.4.2-test.202404111742.0":"2024-04-11T17:43:49.054Z","4.4.2-test.202404111752.0":"2024-04-11T17:53:37.145Z","4.4.2-test.202404111756.0":"2024-04-11T17:58:28.741Z","4.4.2-test.202404111817.0":"2024-04-11T18:19:33.288Z","4.4.2-test.202404112020.0":"2024-04-11T20:21:36.705Z","4.4.2-test.202404112049.0":"2024-04-11T20:50:50.685Z","4.4.2-test.202404112106.0":"2024-04-11T21:07:43.293Z","4.4.2-test.202404112146.0":"2024-04-11T21:47:31.505Z","4.4.3-unstable.202404120918.0":"2024-04-12T09:19:03.024Z","4.4.3-unstable.202404121500.0":"2024-04-12T15:00:44.202Z","4.4.3-unstable.202404121701.0":"2024-04-12T17:01:58.286Z","4.4.3-unstable.202404151459.0":"2024-04-15T14:59:39.589Z","4.4.2":"2024-04-16T13:25:52.638Z","4.4.4-unstable.202404161441.0":"2024-04-16T14:41:55.188Z","4.4.4-unstable.202404181500.0":"2024-04-18T15:01:20.075Z","4.4.4-unstable.202404221451.0":"2024-04-22T14:52:00.071Z","4.4.3":"2024-04-23T13:25:49.985Z","4.4.5-unstable.202404261454.0":"2024-04-26T14:54:54.770Z","4.4.4":"2024-04-30T13:24:56.522Z","4.4.6-unstable.202404301441.0":"2024-04-30T14:42:20.458Z","4.4.6-unstable.202405021456.0":"2024-05-02T14:57:16.655Z","4.4.6-unstable.202405021458.0":"2024-05-02T14:58:48.414Z","4.4.6-unstable.202405061502.0":"2024-05-06T15:03:00.161Z","4.4.6-unstable.202405061521.0":"2024-05-06T15:21:52.105Z","4.4.6-unstable.202405070915.0":"2024-05-07T09:15:22.307Z","4.4.5":"2024-05-07T13:24:36.504Z","4.4.7-unstable.202405071426.0":"2024-05-07T14:26:20.608Z","4.4.7-unstable.202405081430.0":"2024-05-08T14:31:11.716Z","4.4.7-unstable.202405091422.0":"2024-05-09T14:23:01.164Z","4.4.7-unstable.202405101413.0":"2024-05-10T14:13:36.260Z","4.4.7-unstable.202405131436.0":"2024-05-13T14:37:00.574Z","4.4.6":"2024-05-14T13:26:13.263Z","4.4.8-unstable.202405151503.0":"2024-05-15T15:04:17.782Z","4.4.8-unstable.202405151507.0":"2024-05-15T15:07:23.542Z","4.4.8-unstable.202405171501.0":"2024-05-17T15:01:42.191Z","4.4.8-unstable.202405200951.0":"2024-05-20T09:52:04.316Z","4.4.7":"2024-05-21T10:13:52.976Z","4.4.9-unstable.202405231459.0":"2024-05-23T15:00:13.840Z","4.4.9-unstable.202405271508.0":"2024-05-27T15:08:30.677Z","4.4.8":"2024-05-28T13:25:54.447Z","4.4.10-unstable.202405281444.0":"2024-05-28T14:44:33.298Z","4.4.10-unstable.202405291446.0":"2024-05-29T14:46:40.296Z","4.4.10-unstable.202405292053.0":"2024-05-29T20:53:40.607Z","4.4.10-unstable.202405301410.0":"2024-05-30T14:11:12.937Z","4.4.9":"2024-05-31T17:08:00.528Z","4.4.11-unstable.202406031427.0":"2024-06-03T14:27:52.416Z","4.4.11-unstable.202406031428.0":"2024-06-03T14:29:16.362Z","4.4.10":"2024-06-04T13:26:04.319Z","4.4.12-unstable.202406041431.0":"2024-06-04T14:32:14.981Z","4.4.12-unstable.202406051444.0":"2024-06-05T14:44:43.723Z","4.4.12-unstable.202406071429.0":"2024-06-07T14:30:03.501Z","4.4.12-unstable.202406101413.0":"2024-06-10T14:14:03.649Z","4.4.12-unstable.202406102019.0":"2024-06-10T20:19:24.096Z","4.4.11":"2024-06-11T13:25:48.959Z","4.4.13-unstable.202406131514.0":"2024-06-13T15:15:49.384Z","4.4.13-unstable.202406141438.0":"2024-06-14T14:38:44.748Z","4.4.13-unstable.202406171443.0":"2024-06-17T14:44:08.922Z","4.4.13-unstable.202406180852.0":"2024-06-18T08:52:26.702Z","4.4.12":"2024-06-18T13:25:31.434Z","4.4.14-unstable.202406181501.0":"2024-06-18T15:02:03.396Z","4.4.14-unstable.202406201428.0":"2024-06-20T14:28:28.326Z","4.4.14-unstable.202406210947.0":"2024-06-21T09:47:29.202Z","4.4.14-unstable.202406211438.0":"2024-06-21T14:38:20.781Z"},"maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"license":"MIT","readme":"","readmeFilename":""}